2018-04-25 09:45:18.608 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 09:45:18.834 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 09:45:21.059 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 09:45:21.507 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:45:24.650 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 09:45:25.558 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4158.819ms
2018-04-25 09:45:25.590 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css  
2018-04-25 09:45:25.616 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css  
2018-04-25 09:45:25.642 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js  
2018-04-25 09:45:25.681 -07:00 [INF] Request finished in 4541.0668ms 200 text/html; charset=utf-8
2018-04-25 09:45:25.708 -07:00 [INF] The file /css/site.css was not modified
2018-04-25 09:45:25.732 -07:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-04-25 09:45:25.762 -07:00 [INF] Request finished in 174.73ms 304 text/css
2018-04-25 09:45:25.785 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-04-25 09:45:25.789 -07:00 [INF] Request finished in 149.2461ms 304 application/javascript
2018-04-25 09:45:25.842 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg  
2018-04-25 09:45:25.867 -07:00 [INF] Request finished in 228.5595ms 304 text/css
2018-04-25 09:45:25.875 -07:00 [INF] The file /images/banner4.svg was not modified
2018-04-25 09:45:25.878 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg  
2018-04-25 09:45:25.926 -07:00 [INF] Request finished in 83.499ms 304 image/svg+xml
2018-04-25 09:45:25.928 -07:00 [INF] The file /images/banner3.svg was not modified
2018-04-25 09:45:25.978 -07:00 [INF] Request finished in 137.0755ms 304 image/svg+xml
2018-04-25 09:45:26.031 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2018-04-25 09:45:26.100 -07:00 [INF] The file /js/site.js was not modified
2018-04-25 09:45:26.123 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg  
2018-04-25 09:45:26.125 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-04-25 09:45:26.152 -07:00 [INF] The file /images/banner2.svg was not modified
2018-04-25 09:45:26.154 -07:00 [INF] The file /lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 was not modified
2018-04-25 09:45:26.269 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js  
2018-04-25 09:45:26.292 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg  
2018-04-25 09:45:26.315 -07:00 [INF] Request finished in 168.4818ms 304 font/woff2
2018-04-25 09:45:26.317 -07:00 [INF] Request finished in 219.9394ms 304 application/javascript
2018-04-25 09:45:26.389 -07:00 [INF] The file /images/banner1.svg was not modified
2018-04-25 09:45:26.414 -07:00 [INF] Request finished in 170.3054ms 304 image/svg+xml
2018-04-25 09:45:26.462 -07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-04-25 09:45:26.506 -07:00 [INF] Request finished in 467.1054ms 304 image/svg+xml
2018-04-25 09:45:26.507 -07:00 [INF] Request finished in 465.2337ms 304 application/javascript
2018-04-25 09:45:26.609 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-25 09:45:26.615 -07:00 [INF] The file /favicon.ico was not modified
2018-04-25 09:45:26.621 -07:00 [INF] Request finished in 36.7034ms 304 image/x-icon
2018-04-25 09:45:28.696 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 09:45:28.798 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 09:45:28.831 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 09:45:29.504 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 09:45:29.835 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1085.4718ms
2018-04-25 09:45:29.841 -07:00 [INF] Request finished in 1146.2502ms 200 text/html; charset=utf-8
2018-04-25 09:45:29.869 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js  
2018-04-25 09:45:29.871 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-04-25 09:45:29.899 -07:00 [INF] The file /lib/jquery-validation/dist/jquery.validate.js was not modified
2018-04-25 09:45:29.900 -07:00 [INF] The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified
2018-04-25 09:45:29.949 -07:00 [INF] Request finished in 77.0379ms 304 application/javascript
2018-04-25 09:45:29.950 -07:00 [INF] Request finished in 78.3504ms 304 application/javascript
2018-04-25 09:45:38.445 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 09:45:38.537 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 09:45:38.739 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 09:45:39.941 -07:00 [INF] Executed DbCommand (167ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 09:45:40.248 -07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-25 09:45:40.399 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-25 09:45:40.548 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 09:45:40.683 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 09:45:40.788 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 09:45:40.883 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 09:45:40.973 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 09:45:41.068 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 09:45:41.117 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-25 09:45:41.121 -07:00 [INF] User logged in.
2018-04-25 09:45:41.127 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-25 09:45:41.132 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2668.1553000000004ms
2018-04-25 09:45:41.138 -07:00 [INF] Request finished in 2693.6498ms 302 
2018-04-25 09:45:41.144 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 09:45:41.153 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:45:41.158 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:45:41.231 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:45:41.236 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 09:45:41.250 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 86.8471ms
2018-04-25 09:45:41.255 -07:00 [INF] Request finished in 110.5268ms 200 text/html; charset=utf-8
2018-04-25 09:45:43.351 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-25 09:45:43.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:45:43.363 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:45:43.379 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 09:45:43.409 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:45:43.419 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 09:45:43.540 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-25 09:45:43.665 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-25 09:45:43.773 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 09:45:43.872 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 09:45:44.027 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-25 09:45:44.403 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1028.7813ms
2018-04-25 09:45:44.409 -07:00 [INF] Request finished in 1057.5501ms 200 text/html; charset=utf-8
2018-04-25 09:45:57.374 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 09:45:57.380 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:45:57.385 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:45:57.395 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 09:45:57.424 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:45:57.431 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 09:45:57.541 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 09:45:57.816 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 09:45:57.900 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 503.1594ms
2018-04-25 09:45:57.908 -07:00 [INF] Request finished in 533.4455ms 200 text/html; charset=utf-8
2018-04-25 09:46:01.264 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-04-25 09:46:01.268 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:01.273 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:01.282 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 09:46:01.308 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:01.314 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 09:46:01.408 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-25 09:46:01.588 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-04-25 09:46:01.619 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 336.3047ms
2018-04-25 09:46:01.624 -07:00 [INF] Request finished in 361.7153ms 200 text/html; charset=utf-8
2018-04-25 09:46:04.512 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Edit?id=4a57c8c3-b58e-4ab2-a9e0-37bd48c7ab6d  
2018-04-25 09:46:04.518 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:04.523 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:04.533 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 09:46:04.560 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Edit (IdentityServer) with arguments (["4a57c8c3-b58e-4ab2-a9e0-37bd48c7ab6d"]) - ModelState is "Valid"
2018-04-25 09:46:04.568 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 09:46:04.676 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Name], [m].[NormalizedName]
FROM [AspNetRoles] AS [m]
WHERE ([m].[Discriminator] = N'ApplicationRole') AND ([m].[Id] = @__id_0)
2018-04-25 09:46:04.904 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Edit.cshtml.
2018-04-25 09:46:04.953 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Edit (IdentityServer) in 418.6618ms
2018-04-25 09:46:04.958 -07:00 [INF] Request finished in 446.5756ms 200 text/html; charset=utf-8
2018-04-25 09:46:09.471 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-04-25 09:46:09.477 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:09.482 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:09.487 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 09:46:09.515 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:09.520 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 09:46:09.608 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-25 09:46:09.613 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-04-25 09:46:09.625 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 137.75050000000002ms
2018-04-25 09:46:09.630 -07:00 [INF] Request finished in 160.1042ms 200 text/html; charset=utf-8
2018-04-25 09:46:24.368 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Contact  
2018-04-25 09:46:24.373 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:24.378 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:24.409 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Contact (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:24.597 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Contact.cshtml.
2018-04-25 09:46:24.609 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Contact (IdentityServer) in 223.479ms
2018-04-25 09:46:24.615 -07:00 [INF] Request finished in 247.8436ms 200 text/html; charset=utf-8
2018-04-25 09:46:26.952 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/About  
2018-04-25 09:46:26.958 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:26.962 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:26.993 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.About (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:27.150 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/About.cshtml.
2018-04-25 09:46:27.161 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.About (IdentityServer) in 191.7761ms
2018-04-25 09:46:27.167 -07:00 [INF] Request finished in 215.5661ms 200 text/html; charset=utf-8
2018-04-25 09:46:27.911 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 09:46:27.917 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:27.921 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:27.949 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:27.954 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 09:46:27.960 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 33.8967ms
2018-04-25 09:46:27.965 -07:00 [INF] Request finished in 54.8922ms 200 text/html; charset=utf-8
2018-04-25 09:46:29.719 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 09:46:29.724 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:29.729 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:29.759 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:29.763 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 09:46:29.770 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 35.6449ms
2018-04-25 09:46:29.775 -07:00 [INF] Request finished in 56.1257ms 200 text/html; charset=utf-8
2018-04-25 09:46:30.640 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 09:46:30.646 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:30.650 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 09:46:30.680 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 09:46:30.685 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 09:46:30.692 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 36.2426ms
2018-04-25 09:46:30.697 -07:00 [INF] Request finished in 57.6695ms 200 text/html; charset=utf-8
2018-04-25 16:30:22.752 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:30:22.835 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:30:23.215 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:31:27.680 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:31:27.747 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:31:28.024 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:31:28.897 -07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:31:28.954 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:31:29.011 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-04-25 16:31:29.015 -07:00 [INF] No migrations were applied. The database is already up to date.
2018-04-25 16:31:50.759 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:31:50.828 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:31:51.116 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:31:51.878 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:31:51.936 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:31:51.991 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-04-25 16:31:51.996 -07:00 [INF] No migrations were applied. The database is already up to date.
2018-04-25 16:33:04.212 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:33:04.282 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:33:04.555 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:41:02.795 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:41:03.099 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:41:05.395 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 16:41:05.871 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:41:09.134 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 16:41:09.999 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4256.8003ms
2018-04-25 16:41:10.010 -07:00 [INF] Request finished in 4615.9532ms 200 text/html; charset=utf-8
2018-04-25 16:41:11.821 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 16:41:11.929 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 16:41:11.955 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 16:41:12.616 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 16:41:12.952 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1074.3983ms
2018-04-25 16:41:12.960 -07:00 [INF] Request finished in 1137.6722ms 200 text/html; charset=utf-8
2018-04-25 16:41:16.403 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-25 16:41:16.438 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 16:41:16.758 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-25 16:41:16.816 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 400.5434ms
2018-04-25 16:41:16.823 -07:00 [INF] Request finished in 418.617ms 200 text/html; charset=utf-8
2018-04-25 16:41:31.257 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 16:41:31.288 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 16:41:31.294 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 16:41:31.300 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 16:41:31.310 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 45.743100000000005ms
2018-04-25 16:41:31.317 -07:00 [INF] Request finished in 59.6777ms 200 text/html; charset=utf-8
2018-04-25 16:41:32.921 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 16:41:33.012 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 16:41:33.215 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:41:34.397 -07:00 [ERR] Failed executing DbCommand (206ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Organization'.
Invalid column name 'RegistrationDate'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
ClientConnectionId:d790431d-f280-43bb-b477-f9d982d6b7b8
Error Number:207,State:1,Class:16
2018-04-25 16:41:34.514 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Organization'.
Invalid column name 'RegistrationDate'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:d790431d-f280-43bb-b477-f9d982d6b7b8
Error Number:207,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Organization'.
Invalid column name 'RegistrationDate'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:d790431d-f280-43bb-b477-f9d982d6b7b8
Error Number:207,State:1,Class:16
2018-04-25 16:41:34.693 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Organization'.
Invalid column name 'RegistrationDate'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
ClientConnectionId:d790431d-f280-43bb-b477-f9d982d6b7b8
Error Number:207,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Organization'.
Invalid column name 'RegistrationDate'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
ClientConnectionId:d790431d-f280-43bb-b477-f9d982d6b7b8
Error Number:207,State:1,Class:16
2018-04-25 16:41:34.934 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1987.8303ms
2018-04-25 16:41:35.167 -07:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:41:35.269 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-04-25 16:41:35.295 -07:00 [INF] Request finished in 2370.892ms 500 text/html; charset=utf-8
2018-04-25 16:41:41.995 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplyDatabaseMigrations application/x-www-form-urlencoded 133
2018-04-25 16:41:42.004 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:41:42.094 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:41:42.180 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-04-25 16:41:42.276 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-04-25 16:41:42.294 -07:00 [INF] Applying migration '20180425233304_AddOrg'.
2018-04-25 16:41:42.494 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Organization] nvarchar(max) NOT NULL DEFAULT N'';
2018-04-25 16:41:42.590 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [RegistrationDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.000';
2018-04-25 16:41:42.685 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180425233304_AddOrg', N'2.0.2-rtm-10011');
2018-04-25 16:41:42.752 -07:00 [INF] Request finished in 753.3392ms 204 
2018-04-25 16:41:46.241 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 16:41:46.272 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 16:41:46.279 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:41:46.409 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 16:41:46.685 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-25 16:41:46.863 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-25 16:41:47.098 -07:00 [INF] Executed DbCommand (213ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:41:47.223 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:41:47.315 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:41:47.547 -07:00 [INF] Executed DbCommand (222ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:41:47.637 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:41:47.764 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:41:47.822 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-25 16:41:47.828 -07:00 [INF] User logged in.
2018-04-25 16:41:47.835 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-25 16:41:47.841 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1592.5635ms
2018-04-25 16:41:47.848 -07:00 [INF] Request finished in 1604.8556ms 302 
2018-04-25 16:41:47.859 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 16:41:47.872 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:41:47.882 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:41:47.967 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:41:47.977 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 16:41:48.008 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 117.56540000000001ms
2018-04-25 16:41:48.015 -07:00 [INF] Request finished in 155.9545ms 200 text/html; charset=utf-8
2018-04-25 16:41:51.082 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-25 16:41:51.088 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:41:51.093 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:41:51.111 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:41:51.142 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:41:51.153 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:41:51.266 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-25 16:41:51.389 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-25 16:41:51.516 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 16:41:51.622 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 16:41:51.843 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-25 16:41:52.285 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1178.3901ms
2018-04-25 16:41:52.291 -07:00 [INF] Request finished in 1208.7422ms 200 text/html; charset=utf-8
2018-04-25 16:41:52.718 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:41:52.724 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:41:52.729 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:41:52.740 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:41:52.770 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:41:52.777 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:41:52.897 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:41:53.177 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:41:53.264 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 521.224ms
2018-04-25 16:41:53.272 -07:00 [INF] Request finished in 554.9989ms 200 text/html; charset=utf-8
2018-04-25 16:47:50.156 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:47:50.161 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:47:50.165 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:47:50.169 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:47:50.198 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:47:50.203 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:47:50.311 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:47:50.324 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:47:50.368 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 195.46380000000002ms
2018-04-25 16:47:50.376 -07:00 [INF] Request finished in 219.1133ms 200 text/html; charset=utf-8
2018-04-25 16:48:53.025 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:48:53.033 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:48:53.038 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:48:53.045 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:48:53.080 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:48:53.086 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:48:53.175 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:48:53.180 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:48:53.202 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 156.8237ms
2018-04-25 16:48:53.207 -07:00 [INF] Request finished in 184.1878ms 200 text/html; charset=utf-8
2018-04-25 16:48:53.295 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-25 16:48:53.306 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-25 16:48:53.328 -07:00 [INF] Request finished in 42.682ms 200 image/x-icon
2018-04-25 16:49:00.423 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:49:00.428 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:49:00.433 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:49:00.438 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:49:00.475 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:49:00.482 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:49:00.573 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:49:00.581 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:49:00.603 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 163.5257ms
2018-04-25 16:49:00.610 -07:00 [INF] Request finished in 186.3352ms 200 text/html; charset=utf-8
2018-04-25 16:49:02.532 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:49:02.537 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:49:02.542 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:49:02.547 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:49:02.576 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:49:02.582 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:49:02.673 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:49:02.681 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:49:02.725 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 175.3281ms
2018-04-25 16:49:02.732 -07:00 [INF] Request finished in 199.5564ms 200 text/html; charset=utf-8
2018-04-25 16:50:08.840 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:50:08.848 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:08.856 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:08.864 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:50:08.910 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:50:08.916 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:09.013 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:50:09.022 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:50:09.057 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 192.4584ms
2018-04-25 16:50:09.065 -07:00 [INF] Request finished in 229.1041ms 200 text/html; charset=utf-8
2018-04-25 16:50:09.144 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-25 16:50:09.151 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-25 16:50:09.159 -07:00 [INF] Request finished in 15.1987ms 200 image/x-icon
2018-04-25 16:50:11.482 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:50:11.489 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:11.494 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:11.499 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:50:11.529 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:50:11.535 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:11.632 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:50:11.646 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:50:11.690 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 187.7063ms
2018-04-25 16:50:11.697 -07:00 [INF] Request finished in 214.7321ms 200 text/html; charset=utf-8
2018-04-25 16:50:24.115 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:50:24.321 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:50:26.435 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 16:50:26.885 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:50:29.697 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 16:50:30.575 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3794.4784ms
2018-04-25 16:50:30.589 -07:00 [INF] Request finished in 4171.9912ms 200 text/html; charset=utf-8
2018-04-25 16:50:33.041 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 16:50:33.145 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 16:50:33.165 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 16:50:33.801 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 16:50:34.082 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 993.66910000000007ms
2018-04-25 16:50:34.090 -07:00 [INF] Request finished in 1050.7703ms 200 text/html; charset=utf-8
2018-04-25 16:50:35.243 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 16:50:35.326 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 16:50:35.551 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:36.628 -07:00 [INF] Executed DbCommand (156ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 16:50:36.941 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-25 16:50:37.085 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-25 16:50:37.208 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:50:37.335 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:50:37.440 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:50:37.540 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:50:37.636 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:50:37.728 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:50:37.783 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-25 16:50:37.789 -07:00 [INF] User logged in.
2018-04-25 16:50:37.797 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-25 16:50:37.804 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2540.6936ms
2018-04-25 16:50:37.813 -07:00 [INF] Request finished in 2570.6735ms 302 
2018-04-25 16:50:37.823 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 16:50:37.836 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:37.843 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:37.921 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:50:37.928 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 16:50:37.946 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.4604ms
2018-04-25 16:50:37.955 -07:00 [INF] Request finished in 131.0462ms 200 text/html; charset=utf-8
2018-04-25 16:50:39.224 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:50:39.230 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:39.236 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:39.255 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:50:39.288 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:50:39.297 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:39.409 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:50:39.669 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:50:39.755 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 505.5473ms
2018-04-25 16:50:39.763 -07:00 [INF] Request finished in 538.584ms 200 text/html; charset=utf-8
2018-04-25 16:50:47.815 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 16:50:47.821 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:47.826 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:47.843 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:50:47.876 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 16:50:47.886 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:48.006 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 16:50:48.250 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-04-25 16:50:48.288 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 446.8648ms
2018-04-25 16:50:48.294 -07:00 [INF] Request finished in 480.4646ms 200 text/html; charset=utf-8
2018-04-25 16:50:54.151 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 16:50:54.157 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:54.163 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:54.174 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:50:54.206 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 16:50:54.216 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:54.315 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 16:50:54.716 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 16:50:54.826 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 650.4002ms
2018-04-25 16:50:54.833 -07:00 [INF] Request finished in 683.5353ms 200 text/html; charset=utf-8
2018-04-25 16:50:59.120 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 16:50:59.126 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:59.131 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:50:59.136 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:50:59.168 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 16:50:59.174 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:50:59.270 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 16:50:59.282 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-04-25 16:50:59.298 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 158.3432ms
2018-04-25 16:50:59.305 -07:00 [INF] Request finished in 185.8143ms 200 text/html; charset=utf-8
2018-04-25 16:51:01.673 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-04-25 16:51:01.680 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:51:01.685 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:51:01.700 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:51:01.735 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:51:01.744 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:51:01.870 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Organization], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-25 16:51:02.140 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-04-25 16:51:02.798 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1100.3442ms
2018-04-25 16:51:02.804 -07:00 [INF] Request finished in 1132.6533ms 200 text/html; charset=utf-8
2018-04-25 16:53:56.857 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:53:56.863 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:53:56.867 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:53:56.874 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:53:56.903 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:53:56.908 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:53:56.998 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:53:57.261 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:53:57.312 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 436.0353ms
2018-04-25 16:53:57.319 -07:00 [INF] Request finished in 471.2307ms 200 text/html; charset=utf-8
2018-04-25 16:55:41.696 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:55:41.703 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:55:41.711 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:55:41.718 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:55:41.751 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:55:41.757 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:55:41.877 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:55:42.230 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:55:42.300 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 579.6277ms
2018-04-25 16:55:42.311 -07:00 [INF] Request finished in 616.411ms 200 text/html; charset=utf-8
2018-04-25 16:55:42.392 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-25 16:55:42.403 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-25 16:55:42.421 -07:00 [INF] Request finished in 28.122ms 200 image/x-icon
2018-04-25 16:55:58.808 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-25 16:55:58.814 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:55:58.819 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:55:58.829 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:55:58.860 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:55:58.872 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:55:58.990 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-25 16:55:59.102 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-25 16:55:59.214 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 16:55:59.303 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 16:55:59.517 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-25 16:55:59.916 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1084.3352ms
2018-04-25 16:55:59.923 -07:00 [INF] Request finished in 1115.651ms 200 text/html; charset=utf-8
2018-04-25 16:56:00.231 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:56:00.237 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:00.242 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:00.248 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:56:00.278 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:56:00.285 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:56:00.379 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:56:00.386 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:56:00.411 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 160.7398ms
2018-04-25 16:56:00.417 -07:00 [INF] Request finished in 186.871ms 200 text/html; charset=utf-8
2018-04-25 16:56:01.114 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-25 16:56:01.120 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:01.125 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:01.131 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:56:01.161 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:56:01.168 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:56:01.256 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-25 16:56:01.364 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-25 16:56:01.470 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 16:56:01.562 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-25 16:56:01.570 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-25 16:56:01.578 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 447.4069ms
2018-04-25 16:56:01.584 -07:00 [INF] Request finished in 471.4805ms 200 text/html; charset=utf-8
2018-04-25 16:56:02.010 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:56:02.016 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:02.022 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:02.027 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:56:02.060 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:56:02.067 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:56:02.168 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:56:02.176 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:56:02.212 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 184.83710000000002ms
2018-04-25 16:56:02.218 -07:00 [INF] Request finished in 209.3662ms 200 text/html; charset=utf-8
2018-04-25 16:56:07.688 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 16:56:07.695 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:07.701 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:07.706 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:56:07.737 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 16:56:07.743 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:56:07.843 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 16:56:08.283 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 16:56:08.414 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 703.782ms
2018-04-25 16:56:08.424 -07:00 [INF] Request finished in 736.3978ms 200 text/html; charset=utf-8
2018-04-25 16:56:20.064 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 16:56:20.070 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:20.074 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:20.086 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:56:20.129 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 16:56:20.138 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 16:56:20.147 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 61.1541ms
2018-04-25 16:56:20.152 -07:00 [INF] Request finished in 89.5368ms 200 text/html; charset=utf-8
2018-04-25 16:56:27.324 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 16:56:27.331 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:27.336 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:56:27.342 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:56:27.375 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 16:56:27.381 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 16:56:27.390 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 47.414ms
2018-04-25 16:56:27.396 -07:00 [INF] Request finished in 74.1909ms 200 text/html; charset=utf-8
2018-04-25 16:58:05.336 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 16:58:05.548 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 16:58:07.711 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 16:58:08.142 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:58:10.957 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 16:58:11.795 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3769.8439000000003ms
2018-04-25 16:58:11.809 -07:00 [INF] Request finished in 4101.8526ms 200 text/html; charset=utf-8
2018-04-25 16:58:15.247 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 16:58:15.343 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 16:58:15.365 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 16:58:16.083 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 16:58:16.372 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1077.2319ms
2018-04-25 16:58:16.379 -07:00 [INF] Request finished in 1132.466ms 200 text/html; charset=utf-8
2018-04-25 16:58:17.440 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 16:58:17.539 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 16:58:17.743 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:58:18.883 -07:00 [INF] Executed DbCommand (168ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 16:58:19.169 -07:00 [INF] Executed DbCommand (135ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-25 16:58:19.322 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-25 16:58:19.471 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:58:19.620 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:58:19.760 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:58:19.858 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:58:19.956 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 16:58:20.082 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 16:58:20.165 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-25 16:58:20.172 -07:00 [INF] User logged in.
2018-04-25 16:58:20.179 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-25 16:58:20.186 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2726.192ms
2018-04-25 16:58:20.194 -07:00 [INF] Request finished in 2754.678ms 302 
2018-04-25 16:58:20.205 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 16:58:20.216 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:20.223 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:20.301 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:58:20.310 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 16:58:20.328 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 96.15ms
2018-04-25 16:58:20.333 -07:00 [INF] Request finished in 128.6878ms 200 text/html; charset=utf-8
2018-04-25 16:58:22.009 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 16:58:22.016 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:22.021 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:22.039 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:58:22.079 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 16:58:22.087 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:58:22.194 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 16:58:22.451 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 16:58:22.539 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 505.5045ms
2018-04-25 16:58:22.547 -07:00 [INF] Request finished in 537.9617ms 200 text/html; charset=utf-8
2018-04-25 16:58:27.278 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 16:58:27.284 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:27.289 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:27.305 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:58:27.336 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 16:58:27.345 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 16:58:27.456 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 16:58:27.836 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 16:58:27.959 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 652.8603ms
2018-04-25 16:58:27.968 -07:00 [INF] Request finished in 688.84ms 200 text/html; charset=utf-8
2018-04-25 16:58:35.004 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 16:58:35.010 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:35.015 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 16:58:35.028 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 16:58:35.080 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 16:58:35.088 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 16:58:35.098 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 70.7441ms
2018-04-25 16:58:35.104 -07:00 [INF] Request finished in 100.9462ms 200 text/html; charset=utf-8
2018-04-25 17:03:32.822 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 17:03:32.827 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:03:32.832 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:03:32.836 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:03:35.845 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 17:03:35.852 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:03:37.005 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 4163.4918ms
2018-04-25 17:03:37.017 -07:00 [INF] Request finished in 4192.8178ms 200 text/html; charset=utf-8
2018-04-25 17:03:51.678 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 17:03:51.683 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:03:51.688 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:03:51.692 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:03:57.836 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 17:03:57.945 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:06:47.840 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 17:06:48.078 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 17:06:50.184 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 17:06:50.630 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:06:53.776 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 17:06:54.630 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4103.7459ms
2018-04-25 17:06:54.642 -07:00 [INF] Request finished in 4464.522ms 200 text/html; charset=utf-8
2018-04-25 17:06:59.209 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 17:06:59.321 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 17:06:59.345 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 17:07:00.036 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 17:07:00.359 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1097.3931ms
2018-04-25 17:07:00.368 -07:00 [INF] Request finished in 1159.0267ms 200 text/html; charset=utf-8
2018-04-25 17:07:01.532 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 17:07:01.618 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 17:07:01.821 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:07:02.958 -07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 17:07:09.402 -07:00 [INF] Executed DbCommand (142ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-25 17:07:09.555 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-25 17:07:09.694 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 17:07:09.848 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 17:07:09.946 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 17:07:10.098 -07:00 [INF] Executed DbCommand (133ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 17:07:10.214 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 17:07:10.335 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 17:07:10.406 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-25 17:07:10.417 -07:00 [INF] User logged in.
2018-04-25 17:07:10.429 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-25 17:07:10.438 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 8883.7039ms
2018-04-25 17:07:10.449 -07:00 [INF] Request finished in 8916.2193ms 302 
2018-04-25 17:07:10.463 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 17:07:10.476 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:10.485 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:10.591 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:07:10.605 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 17:07:10.642 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 143.92700000000002ms
2018-04-25 17:07:10.656 -07:00 [INF] Request finished in 190.4765ms 200 text/html; charset=utf-8
2018-04-25 17:07:12.376 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 17:07:12.384 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:12.391 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:12.412 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:07:12.447 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:07:12.459 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:07:12.580 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 17:07:12.877 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 17:07:12.963 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 558.4154ms
2018-04-25 17:07:12.970 -07:00 [INF] Request finished in 596.1262ms 200 text/html; charset=utf-8
2018-04-25 17:07:16.377 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 17:07:16.386 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:16.395 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:16.417 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:07:16.474 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 17:07:16.495 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:07:16.647 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 17:07:17.050 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:07:17.176 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 762.07030000000009ms
2018-04-25 17:07:17.184 -07:00 [INF] Request finished in 811.9654ms 200 text/html; charset=utf-8
2018-04-25 17:07:24.272 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 17:07:24.278 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:24.283 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:24.295 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:07:24.337 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 17:07:24.345 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:07:24.356 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 60.639700000000005ms
2018-04-25 17:07:24.362 -07:00 [INF] Request finished in 91.8821ms 200 text/html; charset=utf-8
2018-04-25 17:07:52.855 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 17:07:52.862 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:52.867 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:52.874 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:07:52.907 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 17:07:53.276 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:07:53.393 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 516.2376ms
2018-04-25 17:07:53.405 -07:00 [INF] Request finished in 548.2534ms 200 text/html; charset=utf-8
2018-04-25 17:07:58.247 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 17:07:58.253 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:58.258 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:07:58.264 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:07:58.294 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:07:58.300 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:07:58.397 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 17:07:58.406 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 17:07:58.430 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 165.02290000000002ms
2018-04-25 17:07:58.435 -07:00 [INF] Request finished in 189.4032ms 200 text/html; charset=utf-8
2018-04-25 17:08:47.879 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 17:08:47.886 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:08:47.892 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:08:47.897 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:08:47.930 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 17:08:47.937 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:08:48.051 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 17:08:48.489 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:08:48.600 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 699.6029ms
2018-04-25 17:08:48.609 -07:00 [INF] Request finished in 729.515ms 200 text/html; charset=utf-8
2018-04-25 17:08:54.103 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 17:08:54.111 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:08:54.118 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:08:54.125 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:08:54.159 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-04-25 17:10:08.004 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-25 17:10:08.248 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-25 17:10:10.344 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 17:10:10.856 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:10:13.744 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 17:10:14.514 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3798.9628000000002ms
2018-04-25 17:10:14.525 -07:00 [INF] Request finished in 4188.7049ms 200 text/html; charset=utf-8
2018-04-25 17:11:38.176 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-25 17:11:38.315 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-25 17:11:38.407 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-25 17:11:39.187 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-25 17:11:39.631 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1399.2997ms
2018-04-25 17:11:39.643 -07:00 [INF] Request finished in 1545.5546ms 200 text/html; charset=utf-8
2018-04-25 17:11:40.832 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-25 17:11:40.930 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-25 17:11:41.129 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:11:42.242 -07:00 [INF] Executed DbCommand (208ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-25 17:11:42.538 -07:00 [INF] Executed DbCommand (137ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-25 17:11:42.708 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-25 17:11:42.852 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 17:11:42.979 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 17:11:43.075 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 17:11:43.183 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 17:11:43.307 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-25 17:11:43.440 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-25 17:11:43.550 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-25 17:11:43.559 -07:00 [INF] User logged in.
2018-04-25 17:11:43.572 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-25 17:11:43.583 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2729.6026ms
2018-04-25 17:11:43.595 -07:00 [INF] Request finished in 2761.2643ms 302 
2018-04-25 17:11:43.608 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-25 17:11:43.625 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:43.634 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:43.728 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:11:43.740 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-25 17:11:43.767 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 123.58420000000001ms
2018-04-25 17:11:43.774 -07:00 [INF] Request finished in 166.7849ms 200 text/html; charset=utf-8
2018-04-25 17:11:45.672 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 17:11:45.679 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:45.684 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:45.701 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:11:45.735 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:11:45.746 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:11:45.862 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 17:11:46.174 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 17:11:46.265 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 565.42910000000006ms
2018-04-25 17:11:46.276 -07:00 [INF] Request finished in 602.7894ms 200 text/html; charset=utf-8
2018-04-25 17:11:49.800 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-25 17:11:49.806 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:49.812 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:49.825 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:11:49.857 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-25 17:11:49.867 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:11:49.979 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-25 17:11:50.342 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-25 17:11:50.462 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 638.7206ms
2018-04-25 17:11:50.467 -07:00 [INF] Request finished in 669.2956ms 200 text/html; charset=utf-8
2018-04-25 17:11:58.799 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 807
2018-04-25 17:11:58.805 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:58.810 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:11:58.826 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:11:58.868 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Valid"
2018-04-25 17:12:04.887 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:12:05.135 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@p16='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Organization] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RegistrationDate] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2018-04-25 17:12:05.217 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-25 17:12:05.228 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 6400.0791ms
2018-04-25 17:12:05.240 -07:00 [INF] Request finished in 6438.7696ms 302 
2018-04-25 17:12:05.260 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-25 17:12:05.273 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:12:05.284 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-25 17:12:05.295 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-25 17:12:05.391 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-25 17:12:05.401 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-25 17:12:05.532 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-25 17:12:05.545 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-25 17:12:05.587 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 290.69370000000004ms
2018-04-25 17:12:05.598 -07:00 [INF] Request finished in 339.4206ms 200 text/html; charset=utf-8
2018-04-26 14:34:16.190 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 14:34:16.559 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 14:34:18.888 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 14:34:19.483 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 14:34:22.665 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 14:34:23.607 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4229.4359ms
2018-04-26 14:34:23.622 -07:00 [INF] Request finished in 4737.3068ms 200 text/html; charset=utf-8
2018-04-26 14:34:26.829 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 14:34:26.929 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 14:34:26.949 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 14:34:27.640 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 14:34:27.962 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1075.4087ms
2018-04-26 14:34:27.972 -07:00 [INF] Request finished in 1141.6163ms 200 text/html; charset=utf-8
2018-04-26 14:34:29.540 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 14:34:29.667 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 14:34:29.918 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 14:34:31.229 -07:00 [INF] Executed DbCommand (198ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 14:34:31.529 -07:00 [INF] Executed DbCommand (156ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 14:34:31.691 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 14:34:31.827 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 14:34:31.985 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 14:34:32.091 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 14:34:32.226 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 14:34:32.337 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 14:34:32.439 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 14:34:32.517 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 14:34:32.524 -07:00 [INF] User logged in.
2018-04-26 14:34:32.532 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 14:34:32.539 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2974.7863ms
2018-04-26 14:34:32.547 -07:00 [INF] Request finished in 3006.3798ms 302 
2018-04-26 14:34:32.556 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 14:34:32.566 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 14:34:32.572 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 14:34:32.651 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 14:34:32.660 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 14:34:32.689 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 109.0861ms
2018-04-26 14:34:32.698 -07:00 [INF] Request finished in 140.6283ms 200 text/html; charset=utf-8
2018-04-26 14:34:38.926 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-26 14:34:38.932 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 14:34:38.940 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 14:34:38.959 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 14:34:38.993 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 14:34:39.004 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 14:34:39.156 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-26 14:34:39.295 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-26 14:34:39.432 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-26 14:34:39.541 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-26 14:34:39.777 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-26 14:34:40.184 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1230.4884ms
2018-04-26 14:34:40.193 -07:00 [INF] Request finished in 1266.2571ms 200 text/html; charset=utf-8
2018-04-26 14:34:41.054 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 14:34:41.059 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 14:34:41.064 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 14:34:41.075 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 14:34:41.105 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 14:34:41.113 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 14:34:41.228 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 14:34:41.527 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 14:34:41.613 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 535.2935ms
2018-04-26 14:34:41.624 -07:00 [INF] Request finished in 569.2485ms 200 text/html; charset=utf-8
2018-04-26 16:36:07.635 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 16:36:07.857 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 16:36:10.338 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:36:10.803 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:13.840 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:36:14.728 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4036.0076000000004ms
2018-04-26 16:36:14.740 -07:00 [INF] Request finished in 4418.6486ms 200 text/html; charset=utf-8
2018-04-26 16:36:16.356 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:36:16.476 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:36:16.498 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:36:17.170 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:36:17.468 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1058.4162000000001ms
2018-04-26 16:36:17.478 -07:00 [INF] Request finished in 1120.8595ms 200 text/html; charset=utf-8
2018-04-26 16:36:23.515 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 16:36:23.569 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:36:23.822 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:36:23.875 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 331.9586ms
2018-04-26 16:36:23.883 -07:00 [INF] Request finished in 367.8036ms 200 text/html; charset=utf-8
2018-04-26 16:36:36.366 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 295
2018-04-26 16:36:36.481 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 16:36:36.780 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:38.102 -07:00 [INF] Executed DbCommand (220ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:36:38.151 -07:00 [WRN] User c8155028-25c0-4470-8695-56692ced97eb validation failed: DuplicateUserName.
2018-04-26 16:36:38.163 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:36:38.177 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1788.8380000000002ms
2018-04-26 16:36:38.185 -07:00 [INF] Request finished in 1819.4179ms 200 text/html; charset=utf-8
2018-04-26 16:36:43.415 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:36:43.445 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:36:43.450 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:36:43.454 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:36:43.462 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 41.635400000000004ms
2018-04-26 16:36:43.467 -07:00 [INF] Request finished in 52.3869ms 200 text/html; charset=utf-8
2018-04-26 16:36:44.530 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 16:36:44.573 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 16:36:44.613 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:44.758 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:36:44.968 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 16:36:45.113 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 16:36:45.245 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:36:45.421 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:36:45.519 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:36:45.618 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:36:45.709 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:36:45.807 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:36:45.877 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 16:36:45.884 -07:00 [INF] User logged in.
2018-04-26 16:36:45.891 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 16:36:45.897 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1351.8163ms
2018-04-26 16:36:45.904 -07:00 [INF] Request finished in 1373.3896ms 302 
2018-04-26 16:36:45.912 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:36:45.922 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:45.928 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:46.005 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:46.011 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:36:46.026 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 91.4059ms
2018-04-26 16:36:46.033 -07:00 [INF] Request finished in 120.2691ms 200 text/html; charset=utf-8
2018-04-26 16:36:47.122 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 16:36:47.127 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:47.131 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:47.146 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:36:47.176 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:47.182 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:47.289 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 16:36:47.616 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 16:36:47.698 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 557.48300000000006ms
2018-04-26 16:36:47.703 -07:00 [INF] Request finished in 581.5412ms 200 text/html; charset=utf-8
2018-04-26 16:36:51.178 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=f890da01-a05c-4252-934b-a7a7e281b5c7  
2018-04-26 16:36:51.183 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:51.187 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:51.201 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:36:51.232 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["f890da01-a05c-4252-934b-a7a7e281b5c7"]) - ModelState is "Valid"
2018-04-26 16:36:51.249 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:51.404 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 16:36:51.711 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 16:36:51.758 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 555.12200000000007ms
2018-04-26 16:36:51.767 -07:00 [INF] Request finished in 588.2748ms 200 text/html; charset=utf-8
2018-04-26 16:36:53.186 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 16:36:53.192 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:53.196 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:53.205 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:36:53.240 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["f890da01-a05c-4252-934b-a7a7e281b5c7"]) - ModelState is "Valid"
2018-04-26 16:36:53.257 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:53.384 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 16:36:53.631 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 16:36:53.707 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 16:36:53.714 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 507.6698ms
2018-04-26 16:36:53.721 -07:00 [INF] Request finished in 534.0564ms 302 
2018-04-26 16:36:53.731 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 16:36:53.737 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:53.743 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:53.750 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:36:53.816 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:53.823 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:53.947 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 16:36:53.955 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 16:36:53.971 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 220.1447ms
2018-04-26 16:36:53.978 -07:00 [INF] Request finished in 247.3291ms 200 text/html; charset=utf-8
2018-04-26 16:36:56.410 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-04-26 16:36:56.415 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:56.420 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:56.434 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:36:56.467 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:56.475 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:36:56.591 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Organization], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-26 16:36:56.915 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-04-26 16:36:57.515 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1081.2313000000001ms
2018-04-26 16:36:57.522 -07:00 [INF] Request finished in 1112.1548ms 200 text/html; charset=utf-8
2018-04-26 16:36:57.858 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-04-26 16:36:57.864 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:57.869 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:36:57.879 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:36:57.910 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:57.920 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-04-26 16:36:57.926 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:36:57.933 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-04-26 16:36:57.939 -07:00 [INF] User logged out.
2018-04-26 16:36:57.945 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 16:36:57.951 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 71.0222ms
2018-04-26 16:36:57.957 -07:00 [INF] Request finished in 99.2983ms 302 
2018-04-26 16:36:57.966 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:36:57.998 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:36:58.004 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:36:58.012 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 39.252300000000005ms
2018-04-26 16:36:58.018 -07:00 [INF] Request finished in 51.8965ms 200 text/html; charset=utf-8
2018-04-26 16:36:59.354 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:36:59.384 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:36:59.390 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:36:59.395 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:36:59.404 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 43.8536ms
2018-04-26 16:36:59.409 -07:00 [INF] Request finished in 55.7586ms 200 text/html; charset=utf-8
2018-04-26 16:37:08.520 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 269
2018-04-26 16:37:08.552 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 16:37:08.559 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:37:08.656 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:37:08.668 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:37:08.684 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 155.2795ms
2018-04-26 16:37:08.692 -07:00 [INF] Request finished in 172.3374ms 200 text/html; charset=utf-8
2018-04-26 16:37:10.880 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 16:37:10.910 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:37:10.915 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:37:10.923 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 37.6064ms
2018-04-26 16:37:10.928 -07:00 [INF] Request finished in 49.1461ms 200 text/html; charset=utf-8
2018-04-26 16:37:21.770 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 295
2018-04-26 16:37:21.804 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 16:37:21.831 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:37:21.948 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:37:22.116 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Organization], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2018-04-26 16:37:22.327 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:37:22.531 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p19='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p20='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?', @p16='?' (Size = 4000), @p17='?', @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Organization] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RegistrationDate] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
SELECT @@ROWCOUNT;
2018-04-26 16:37:22.607 -07:00 [INF] User created a new account with password.
2018-04-26 16:37:57.302 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 35523.276000000005ms
2018-04-26 16:37:57.426 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Mail.SmtpException: Failure sending mail. ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond 155.97.137.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String emailAddress, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 55
   at IdentityServer.Services.EmailSenderExtensions.SendEmailConfirmationAsync(IEmailSender emailSender, String email, String link) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Extensions\EmailSenderExtensions.cs:line 14
   at IdentityServer.Controllers.AccountController.<Register>d__17.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 232
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-26 16:37:57.644 -07:00 [INF] Request finished in 35874.7741ms 500 text/html; charset=utf-8
2018-04-26 16:47:37.181 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 16:47:37.394 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 16:47:39.463 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:47:39.909 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:47:42.812 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:47:43.586 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3805.1367ms
2018-04-26 16:47:43.598 -07:00 [INF] Request finished in 4140.6451ms 200 text/html; charset=utf-8
2018-04-26 16:47:47.553 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:47:47.684 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:47:47.708 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:47:48.441 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:47:48.832 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1230.8461ms
2018-04-26 16:47:48.839 -07:00 [INF] Request finished in 1285.8916ms 200 text/html; charset=utf-8
2018-04-26 16:47:49.818 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 16:47:49.856 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:47:50.098 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:47:50.155 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 325.35720000000003ms
2018-04-26 16:47:50.162 -07:00 [INF] Request finished in 344.9243ms 200 text/html; charset=utf-8
2018-04-26 16:48:01.069 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 286
2018-04-26 16:48:01.154 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 16:48:01.401 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:48:02.584 -07:00 [INF] Executed DbCommand (211ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:48:02.651 -07:00 [WRN] User c13f7cca-0df0-48bf-95a9-fe92641002ed validation failed: DuplicateUserName.
2018-04-26 16:48:02.664 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:48:02.676 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1586.4489ms
2018-04-26 16:48:02.691 -07:00 [INF] Request finished in 1622.4549ms 200 text/html; charset=utf-8
2018-04-26 16:49:02.505 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:49:02.536 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:49:02.542 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:49:02.548 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:49:02.584 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 58.965500000000006ms
2018-04-26 16:49:02.593 -07:00 [INF] Request finished in 87.5457ms 200 text/html; charset=utf-8
2018-04-26 16:49:04.027 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 16:49:04.085 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 16:49:04.096 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:49:04.272 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:49:04.536 -07:00 [INF] Executed DbCommand (158ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 16:49:04.713 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 16:49:04.832 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:49:04.995 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:49:05.115 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:49:05.211 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:49:05.323 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:49:05.450 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:49:05.558 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 16:49:05.568 -07:00 [INF] User logged in.
2018-04-26 16:49:05.581 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 16:49:05.592 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1548.4347ms
2018-04-26 16:49:05.602 -07:00 [INF] Request finished in 1574.2102ms 302 
2018-04-26 16:49:05.616 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:49:05.638 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:05.648 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:05.752 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:49:05.763 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:49:05.797 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 135.76170000000002ms
2018-04-26 16:49:05.808 -07:00 [INF] Request finished in 191.0988ms 200 text/html; charset=utf-8
2018-04-26 16:49:07.451 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 16:49:07.457 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:07.462 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:07.479 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:49:07.509 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:49:07.517 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:49:07.625 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 16:49:07.917 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 16:49:08.009 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 533.8866ms
2018-04-26 16:49:08.017 -07:00 [INF] Request finished in 566.0557ms 200 text/html; charset=utf-8
2018-04-26 16:49:13.756 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=0a264cff-11c2-48df-933c-3e91b52039b4  
2018-04-26 16:49:13.762 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:13.767 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:13.783 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:49:13.815 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["0a264cff-11c2-48df-933c-3e91b52039b4"]) - ModelState is "Valid"
2018-04-26 16:49:13.825 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:49:13.936 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 16:49:14.162 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 16:49:14.206 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 422.63120000000004ms
2018-04-26 16:49:14.214 -07:00 [INF] Request finished in 458.1823ms 200 text/html; charset=utf-8
2018-04-26 16:49:15.660 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 16:49:15.667 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:15.672 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:15.684 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:49:15.716 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["0a264cff-11c2-48df-933c-3e91b52039b4"]) - ModelState is "Valid"
2018-04-26 16:49:15.726 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:49:15.824 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 16:49:16.058 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 16:49:16.125 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 16:49:16.130 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 446.7309ms
2018-04-26 16:49:16.136 -07:00 [INF] Request finished in 476.2638ms 302 
2018-04-26 16:49:16.143 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 16:49:16.148 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:16.153 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:16.158 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:49:16.221 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:49:16.232 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:49:16.369 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 16:49:16.376 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 16:49:16.395 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 234.23170000000002ms
2018-04-26 16:49:16.402 -07:00 [INF] Request finished in 258.6654ms 200 text/html; charset=utf-8
2018-04-26 16:49:18.467 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-04-26 16:49:18.473 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:18.478 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:18.491 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:49:18.524 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:49:18.532 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:49:18.643 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Organization], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-26 16:49:18.892 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-04-26 16:49:19.532 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1040.5911ms
2018-04-26 16:49:19.539 -07:00 [INF] Request finished in 1072.0451ms 200 text/html; charset=utf-8
2018-04-26 16:49:20.145 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-04-26 16:49:20.151 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:20.156 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:49:20.169 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:49:20.199 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:49:20.209 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-04-26 16:49:20.215 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:49:20.221 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-04-26 16:49:20.230 -07:00 [INF] User logged out.
2018-04-26 16:49:20.238 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 16:49:20.246 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 77.5505ms
2018-04-26 16:49:20.255 -07:00 [INF] Request finished in 109.7315ms 302 
2018-04-26 16:49:20.266 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:49:20.310 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:49:20.319 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:49:20.328 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 55.237ms
2018-04-26 16:49:20.338 -07:00 [INF] Request finished in 70.8758ms 200 text/html; charset=utf-8
2018-04-26 16:49:56.689 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 16:49:56.719 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:49:56.725 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:49:56.734 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 39.4468ms
2018-04-26 16:49:56.739 -07:00 [INF] Request finished in 51.2975ms 200 text/html; charset=utf-8
2018-04-26 16:50:11.481 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 286
2018-04-26 16:50:11.512 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 16:50:11.529 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:50:11.644 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:50:11.842 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Organization], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2018-04-26 16:50:12.039 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:50:12.206 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p19='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p20='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?', @p16='?' (Size = 4000), @p17='?', @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Organization] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RegistrationDate] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
SELECT @@ROWCOUNT;
2018-04-26 16:50:12.282 -07:00 [INF] User created a new account with password.
2018-04-26 16:50:44.125 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 32638.456000000002ms
2018-04-26 16:50:44.201 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Mail.SmtpException: Failure sending mail. ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond 155.97.137.42:25
   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Connect(EndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(IPEndPoint remoteEP)
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Net.Sockets.TcpClient.Connect(String hostname, Int32 port)
   at System.Net.Mail.SmtpConnection.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpTransport.GetConnection(String host, Int32 port)
   at System.Net.Mail.SmtpClient.GetConnection()
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String emailAddress, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 60
   at IdentityServer.Services.EmailSenderExtensions.SendEmailConfirmationAsync(IEmailSender emailSender, String email, String link) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Extensions\EmailSenderExtensions.cs:line 14
   at IdentityServer.Controllers.AccountController.<Register>d__17.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 232
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-26 16:50:44.383 -07:00 [INF] Request finished in 32902.2231ms 500 text/html; charset=utf-8
2018-04-26 16:58:11.763 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 16:58:12.016 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 16:58:14.030 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:58:14.506 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:58:17.399 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:58:18.216 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3835.2094ms
2018-04-26 16:58:18.231 -07:00 [INF] Request finished in 4204.3618ms 200 text/html; charset=utf-8
2018-04-26 16:58:26.097 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:58:26.207 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:58:26.236 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:58:26.885 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:58:27.178 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1033.8815ms
2018-04-26 16:58:27.186 -07:00 [INF] Request finished in 1088.2938ms 200 text/html; charset=utf-8
2018-04-26 16:58:28.713 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 16:58:28.804 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 16:58:28.997 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:58:30.126 -07:00 [INF] Executed DbCommand (192ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:58:30.438 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 16:58:30.576 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 16:58:30.734 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:58:30.889 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:58:31.016 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:58:31.141 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:58:31.239 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 16:58:31.359 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 16:58:31.429 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 16:58:31.436 -07:00 [INF] User logged in.
2018-04-26 16:58:31.444 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 16:58:31.451 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2717.9046000000003ms
2018-04-26 16:58:31.461 -07:00 [INF] Request finished in 2748.0928ms 302 
2018-04-26 16:58:31.470 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:58:31.482 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:31.488 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:31.567 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:58:31.573 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:58:31.591 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.202300000000008ms
2018-04-26 16:58:31.598 -07:00 [INF] Request finished in 127.3667ms 200 text/html; charset=utf-8
2018-04-26 16:58:35.569 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 16:58:35.575 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:35.580 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:35.600 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:58:35.630 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:58:35.639 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:58:35.745 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 16:58:36.045 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 16:58:36.150 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 557.6077ms
2018-04-26 16:58:36.161 -07:00 [INF] Request finished in 590.341ms 200 text/html; charset=utf-8
2018-04-26 16:58:39.859 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=dfb81122-5856-4643-90a8-bb1086943125  
2018-04-26 16:58:39.865 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:39.870 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:39.885 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:58:39.915 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["dfb81122-5856-4643-90a8-bb1086943125"]) - ModelState is "Valid"
2018-04-26 16:58:39.923 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:58:40.029 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 16:58:40.245 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 16:58:40.303 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 417.48060000000004ms
2018-04-26 16:58:40.311 -07:00 [INF] Request finished in 452.7635ms 200 text/html; charset=utf-8
2018-04-26 16:58:42.435 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 16:58:42.441 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:42.446 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:42.457 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:58:42.489 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["dfb81122-5856-4643-90a8-bb1086943125"]) - ModelState is "Valid"
2018-04-26 16:58:42.498 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:58:42.600 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 16:58:42.865 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 16:58:42.944 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 16:58:42.955 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 495.75780000000003ms
2018-04-26 16:58:42.966 -07:00 [INF] Request finished in 529.4212ms 302 
2018-04-26 16:58:42.983 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 16:58:42.994 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:43.004 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:43.014 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:58:43.114 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:58:43.125 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:58:43.253 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 16:58:43.265 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 16:58:43.291 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 276.3279ms
2018-04-26 16:58:43.300 -07:00 [INF] Request finished in 318.4264ms 200 text/html; charset=utf-8
2018-04-26 16:58:49.370 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-04-26 16:58:49.376 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:49.381 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 16:58:49.392 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 16:58:49.423 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:58:49.432 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-04-26 16:58:49.439 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:58:49.445 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-04-26 16:58:49.451 -07:00 [INF] User logged out.
2018-04-26 16:58:49.456 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 16:58:49.463 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 70.3143ms
2018-04-26 16:58:49.470 -07:00 [INF] Request finished in 99.2894ms 302 
2018-04-26 16:58:49.480 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 16:58:49.509 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 16:58:49.515 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 16:58:49.521 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 35.3783ms
2018-04-26 16:58:49.526 -07:00 [INF] Request finished in 47.148ms 200 text/html; charset=utf-8
2018-04-26 16:58:50.643 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 16:58:50.672 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:58:50.678 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 16:58:50.683 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 16:58:50.692 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 43.6269ms
2018-04-26 16:58:50.698 -07:00 [INF] Request finished in 55.986ms 200 text/html; charset=utf-8
2018-04-26 16:59:37.673 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 16:59:37.711 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 16:59:38.034 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 16:59:38.082 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 396.2939ms
2018-04-26 16:59:38.088 -07:00 [INF] Request finished in 415.5671ms 200 text/html; charset=utf-8
2018-04-26 16:59:48.331 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 286
2018-04-26 16:59:48.373 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 16:59:48.406 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 16:59:48.542 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:59:48.718 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Organization], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2018-04-26 16:59:48.908 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 16:59:49.069 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p19='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p20='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?', @p16='?' (Size = 4000), @p17='?', @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Organization] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RegistrationDate] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
SELECT @@ROWCOUNT;
2018-04-26 16:59:49.140 -07:00 [INF] User created a new account with password.
2018-04-26 17:00:14.892 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 26548.1958ms
2018-04-26 17:00:14.986 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Mail.SmtpException: The operation has timed out.
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String emailAddress, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 79
   at IdentityServer.Services.EmailSenderExtensions.SendEmailConfirmationAsync(IEmailSender emailSender, String email, String link) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Extensions\EmailSenderExtensions.cs:line 14
   at IdentityServer.Controllers.AccountController.<Register>d__17.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 232
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-26 17:00:15.129 -07:00 [INF] Request finished in 26798.9316ms 500 text/html; charset=utf-8
2018-04-26 17:02:53.606 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 17:02:53.836 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 17:02:55.806 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:02:56.244 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:02:59.205 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:03:00.057 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3952.8828000000003ms
2018-04-26 17:03:00.069 -07:00 [INF] Request finished in 4267.8589ms 200 text/html; charset=utf-8
2018-04-26 17:03:00.181 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css.map  
2018-04-26 17:03:00.191 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css.map was not modified
2018-04-26 17:03:00.198 -07:00 [INF] Request finished in 17.4364ms 304 text/plain
2018-04-26 17:03:06.027 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 17:03:06.140 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 17:03:06.163 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 17:03:06.867 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 17:03:07.139 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1063.7673ms
2018-04-26 17:03:07.146 -07:00 [INF] Request finished in 1126.9557ms 200 text/html; charset=utf-8
2018-04-26 17:03:08.739 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 17:03:08.848 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 17:03:09.053 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:03:10.182 -07:00 [INF] Executed DbCommand (182ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:03:10.477 -07:00 [INF] Executed DbCommand (156ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 17:03:10.610 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 17:03:10.722 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:03:10.850 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:03:10.946 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:03:11.044 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:03:11.138 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:03:11.237 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:03:11.317 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 17:03:11.324 -07:00 [INF] User logged in.
2018-04-26 17:03:11.333 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 17:03:11.341 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2581.4691000000003ms
2018-04-26 17:03:11.350 -07:00 [INF] Request finished in 2611.2496ms 302 
2018-04-26 17:03:11.360 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:03:11.370 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:11.379 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:11.479 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:03:11.491 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:03:11.524 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 132.6539ms
2018-04-26 17:03:11.534 -07:00 [INF] Request finished in 171.4972ms 200 text/html; charset=utf-8
2018-04-26 17:03:12.625 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:03:12.632 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:12.637 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:12.654 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:03:12.692 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:03:12.703 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:03:12.813 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:03:13.152 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:03:13.243 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 591.3228ms
2018-04-26 17:03:13.251 -07:00 [INF] Request finished in 625.7447ms 200 text/html; charset=utf-8
2018-04-26 17:03:16.457 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=e2b89b99-2433-4008-8f40-fd5a92f75fbb  
2018-04-26 17:03:16.463 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:16.469 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:16.480 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:03:16.526 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["e2b89b99-2433-4008-8f40-fd5a92f75fbb"]) - ModelState is "Valid"
2018-04-26 17:03:16.536 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:03:16.650 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:03:16.904 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:03:16.951 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 469.69370000000004ms
2018-04-26 17:03:16.958 -07:00 [INF] Request finished in 501.0358ms 200 text/html; charset=utf-8
2018-04-26 17:03:18.179 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:03:18.185 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:18.190 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:18.201 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:03:18.241 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["e2b89b99-2433-4008-8f40-fd5a92f75fbb"]) - ModelState is "Valid"
2018-04-26 17:03:18.251 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:03:18.353 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:03:18.631 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:03:18.699 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:03:18.706 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 505.1001ms
2018-04-26 17:03:18.713 -07:00 [INF] Request finished in 534.4912ms 302 
2018-04-26 17:03:18.723 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:03:18.730 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:18.736 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:18.742 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:03:18.808 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:03:18.815 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:03:18.939 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:03:18.946 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:03:18.964 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 219.81660000000002ms
2018-04-26 17:03:18.971 -07:00 [INF] Request finished in 248.2668ms 200 text/html; charset=utf-8
2018-04-26 17:03:20.787 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-04-26 17:03:20.793 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:20.798 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:03:20.814 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:03:20.846 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:03:20.856 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-04-26 17:03:20.863 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 17:03:20.869 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-04-26 17:03:20.876 -07:00 [INF] User logged out.
2018-04-26 17:03:20.882 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 17:03:20.888 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 75.811500000000009ms
2018-04-26 17:03:20.894 -07:00 [INF] Request finished in 108.6599ms 302 
2018-04-26 17:03:20.904 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:03:20.935 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:03:20.941 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:03:20.948 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 38.2218ms
2018-04-26 17:03:20.955 -07:00 [INF] Request finished in 51.2662ms 200 text/html; charset=utf-8
2018-04-26 17:03:22.466 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 17:03:22.499 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 17:03:22.733 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 17:03:22.794 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 316.9158ms
2018-04-26 17:03:22.802 -07:00 [INF] Request finished in 335.4505ms 200 text/html; charset=utf-8
2018-04-26 17:03:33.450 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 286
2018-04-26 17:03:33.494 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 17:03:33.544 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:03:33.676 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:03:33.879 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Organization], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2018-04-26 17:03:34.096 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:03:34.282 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p19='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p20='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?', @p16='?' (Size = 4000), @p17='?', @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Organization] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RegistrationDate] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
SELECT @@ROWCOUNT;
2018-04-26 17:03:34.365 -07:00 [INF] User created a new account with password.
2018-04-26 17:03:34.539 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1073.248ms
2018-04-26 17:03:34.616 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer.Controllers.AccountController.<Register>d__17.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 232
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-26 17:03:34.778 -07:00 [INF] Request finished in 1329.329ms 500 text/html; charset=utf-8
2018-04-26 17:06:41.856 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 17:06:42.171 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 17:06:44.162 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:06:44.636 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:06:47.548 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:06:48.367 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3866.538ms
2018-04-26 17:06:48.382 -07:00 [INF] Request finished in 4225.2664ms 200 text/html; charset=utf-8
2018-04-26 17:07:41.588 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Contact  
2018-04-26 17:07:41.730 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Contact (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:07:41.931 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Contact.cshtml.
2018-04-26 17:07:41.946 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Contact (IdentityServer) in 261.3697ms
2018-04-26 17:07:41.954 -07:00 [INF] Request finished in 376.7851ms 200 text/html; charset=utf-8
2018-04-26 17:07:50.904 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 17:07:51.027 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 17:07:51.051 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 17:07:51.748 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 17:07:52.033 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1069.222ms
2018-04-26 17:07:52.040 -07:00 [INF] Request finished in 1135.2121ms 200 text/html; charset=utf-8
2018-04-26 17:07:53.195 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 17:07:53.280 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 17:07:53.478 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:07:54.596 -07:00 [INF] Executed DbCommand (200ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:07:54.888 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 17:07:55.058 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 17:07:55.215 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:07:55.361 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:07:55.469 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:07:55.566 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:07:55.655 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:07:55.751 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:07:55.813 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 17:07:55.820 -07:00 [INF] User logged in.
2018-04-26 17:07:55.828 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 17:07:55.835 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2619.4155ms
2018-04-26 17:07:55.845 -07:00 [INF] Request finished in 2649.2213ms 302 
2018-04-26 17:07:55.853 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:07:55.865 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:07:55.872 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:07:55.950 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:07:55.956 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:07:55.974 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.374800000000008ms
2018-04-26 17:07:55.981 -07:00 [INF] Request finished in 127.1084ms 200 text/html; charset=utf-8
2018-04-26 17:07:56.986 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:07:56.993 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:07:56.998 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:07:57.015 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:07:57.060 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:07:57.070 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:07:57.188 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:07:57.477 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:07:57.571 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 561.0039ms
2018-04-26 17:07:57.577 -07:00 [INF] Request finished in 592.2755ms 200 text/html; charset=utf-8
2018-04-26 17:08:00.889 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=f2ba7b9e-66bf-4f5b-9cc9-36e13d164492  
2018-04-26 17:08:00.895 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:00.900 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:00.911 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:08:00.958 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["f2ba7b9e-66bf-4f5b-9cc9-36e13d164492"]) - ModelState is "Valid"
2018-04-26 17:08:00.969 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:08:01.090 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:08:01.335 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:08:01.377 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 464.72740000000005ms
2018-04-26 17:08:01.383 -07:00 [INF] Request finished in 494.7824ms 200 text/html; charset=utf-8
2018-04-26 17:08:02.659 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:08:02.665 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:02.670 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:02.682 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:08:02.733 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["f2ba7b9e-66bf-4f5b-9cc9-36e13d164492"]) - ModelState is "Valid"
2018-04-26 17:08:02.751 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:08:02.856 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:08:03.146 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:08:03.224 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:08:03.236 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 552.4792ms
2018-04-26 17:08:03.248 -07:00 [INF] Request finished in 587.2375ms 302 
2018-04-26 17:08:03.267 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:08:03.282 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:03.294 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:03.306 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:08:03.398 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:08:03.407 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:08:03.535 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:08:03.549 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:08:03.585 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 277.70230000000004ms
2018-04-26 17:08:03.598 -07:00 [INF] Request finished in 331.8664ms 200 text/html; charset=utf-8
2018-04-26 17:08:05.851 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-04-26 17:08:05.857 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:05.862 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:08:05.874 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:08:05.908 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:08:05.920 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-04-26 17:08:05.930 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 17:08:05.937 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-04-26 17:08:05.944 -07:00 [INF] User logged out.
2018-04-26 17:08:05.950 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 17:08:05.959 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 84.973300000000009ms
2018-04-26 17:08:05.966 -07:00 [INF] Request finished in 115.1797ms 302 
2018-04-26 17:08:05.978 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:08:06.031 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:08:06.040 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:08:06.049 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 63.292ms
2018-04-26 17:08:06.057 -07:00 [INF] Request finished in 78.5724ms 200 text/html; charset=utf-8
2018-04-26 17:08:07.632 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 17:08:07.661 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 17:08:07.667 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 17:08:07.673 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 17:08:07.683 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 44.9476ms
2018-04-26 17:08:07.689 -07:00 [INF] Request finished in 57.0237ms 200 text/html; charset=utf-8
2018-04-26 17:08:11.191 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-04-26 17:08:11.224 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 17:08:11.493 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-04-26 17:08:11.546 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 344.0607ms
2018-04-26 17:08:11.554 -07:00 [INF] Request finished in 362.7935ms 200 text/html; charset=utf-8
2018-04-26 17:08:28.378 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 286
2018-04-26 17:08:28.429 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-04-26 17:08:28.480 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:08:28.611 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:08:28.811 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [Organization], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2018-04-26 17:08:29.040 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:08:29.239 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450), @p19='?' (Size = 450), @p3='?', @p4='?' (Size = 4000), @p20='?' (Size = 4000), @p5='?' (Size = 256), @p6='?', @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?', @p15='?', @p16='?' (Size = 4000), @p17='?', @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();

UPDATE [AspNetUsers] SET [AccessFailedCount] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [Organization] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RegistrationDate] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18
WHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;
SELECT @@ROWCOUNT;
2018-04-26 17:08:29.328 -07:00 [INF] User created a new account with password.
2018-04-26 17:17:43.148 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-26 17:17:43.401 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-26 17:17:45.475 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:17:45.919 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:17:48.986 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:17:49.855 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4049.5051000000003ms
2018-04-26 17:17:49.871 -07:00 [INF] Request finished in 4399.62ms 200 text/html; charset=utf-8
2018-04-26 17:17:51.259 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-26 17:17:51.392 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-26 17:17:51.416 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-26 17:17:52.039 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-26 17:17:52.355 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1043.2099ms
2018-04-26 17:17:52.366 -07:00 [INF] Request finished in 1105.7802ms 200 text/html; charset=utf-8
2018-04-26 17:17:53.475 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-26 17:17:53.560 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-26 17:17:53.755 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:17:54.924 -07:00 [INF] Executed DbCommand (210ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-26 17:17:55.229 -07:00 [INF] Executed DbCommand (143ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 17:17:55.379 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 17:17:55.544 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:17:55.670 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:17:55.767 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:17:55.862 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:17:55.961 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:17:56.057 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:17:56.124 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-26 17:17:56.130 -07:00 [INF] User logged in.
2018-04-26 17:17:56.137 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-26 17:17:56.143 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2647.0847000000003ms
2018-04-26 17:17:56.151 -07:00 [INF] Request finished in 2677.2759ms 302 
2018-04-26 17:17:56.161 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-26 17:17:56.172 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:17:56.179 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:17:56.262 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:17:56.270 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-26 17:17:56.286 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 99.2796ms
2018-04-26 17:17:56.294 -07:00 [INF] Request finished in 132.3209ms 200 text/html; charset=utf-8
2018-04-26 17:18:00.903 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:18:00.911 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:00.917 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:00.934 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:18:00.965 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:18:00.975 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:18:01.096 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:18:01.454 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:18:01.543 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 611.45620000000008ms
2018-04-26 17:18:01.552 -07:00 [INF] Request finished in 649.7542ms 200 text/html; charset=utf-8
2018-04-26 17:18:09.419 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=957fc5d7-388b-4d58-9609-750390755729  
2018-04-26 17:18:09.426 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:09.433 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:09.452 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:18:09.491 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["957fc5d7-388b-4d58-9609-750390755729"]) - ModelState is "Valid"
2018-04-26 17:18:09.505 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:18:09.642 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:18:09.982 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:18:10.030 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 580.52550000000008ms
2018-04-26 17:18:10.037 -07:00 [INF] Request finished in 618.9778ms 200 text/html; charset=utf-8
2018-04-26 17:18:11.371 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:18:11.379 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:11.386 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:11.401 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:18:11.443 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["957fc5d7-388b-4d58-9609-750390755729"]) - ModelState is "Valid"
2018-04-26 17:18:11.460 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:18:11.568 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:18:11.854 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:18:11.945 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:18:11.959 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 558.0629ms
2018-04-26 17:18:11.969 -07:00 [INF] Request finished in 597.1648ms 302 
2018-04-26 17:18:11.982 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:18:11.991 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:11.998 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:18:12.007 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:18:12.076 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:18:12.084 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:18:12.231 -07:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:18:12.247 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:18:12.284 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 273.3004ms
2018-04-26 17:18:12.299 -07:00 [INF] Request finished in 313.9693ms 200 text/html; charset=utf-8
2018-04-26 17:20:12.088 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:20:12.097 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:12.104 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:12.112 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:20:12.145 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:20:12.153 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:20:12.267 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:20:12.278 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:20:12.329 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 211.0266ms
2018-04-26 17:20:12.343 -07:00 [INF] Request finished in 252.3731ms 200 text/html; charset=utf-8
2018-04-26 17:20:12.429 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 17:20:12.441 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 17:20:12.465 -07:00 [INF] Request finished in 36.7076ms 200 image/x-icon
2018-04-26 17:20:15.674 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=94522b0b-7198-46e5-9b96-4e946c6d19cb  
2018-04-26 17:20:15.681 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:15.687 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:15.693 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:20:15.729 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["94522b0b-7198-46e5-9b96-4e946c6d19cb"]) - ModelState is "Valid"
2018-04-26 17:20:15.736 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:20:15.833 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:20:15.845 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:20:15.863 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 165.4185ms
2018-04-26 17:20:15.877 -07:00 [INF] Request finished in 200.7915ms 200 text/html; charset=utf-8
2018-04-26 17:20:16.855 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:20:16.861 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:16.866 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:16.872 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:20:16.906 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["94522b0b-7198-46e5-9b96-4e946c6d19cb"]) - ModelState is "Valid"
2018-04-26 17:20:16.917 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:20:17.017 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:20:17.197 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:20:17.266 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:20:17.277 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 403.4551ms
2018-04-26 17:20:17.288 -07:00 [INF] Request finished in 432.629ms 302 
2018-04-26 17:20:17.307 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:20:17.321 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:17.334 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:20:17.347 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:20:17.439 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:20:17.451 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:20:17.584 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:20:17.618 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:20:17.656 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 306.2575ms
2018-04-26 17:20:17.671 -07:00 [INF] Request finished in 362.837ms 200 text/html; charset=utf-8
2018-04-26 17:22:31.886 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:22:31.900 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:31.913 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:31.925 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:22:31.981 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:22:31.992 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:22:32.119 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:22:32.132 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:22:32.182 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 257.68760000000003ms
2018-04-26 17:22:32.190 -07:00 [INF] Request finished in 307.6131ms 200 text/html; charset=utf-8
2018-04-26 17:22:32.283 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 17:22:32.293 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 17:22:32.316 -07:00 [INF] Request finished in 47.1652ms 200 image/x-icon
2018-04-26 17:22:37.111 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=b39c1fc8-afcc-4282-8ffd-da0c08566080  
2018-04-26 17:22:37.118 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:37.124 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:37.130 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:22:37.160 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["b39c1fc8-afcc-4282-8ffd-da0c08566080"]) - ModelState is "Valid"
2018-04-26 17:22:37.167 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:22:37.279 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:22:37.292 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:22:37.309 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 175.6894ms
2018-04-26 17:22:37.323 -07:00 [INF] Request finished in 210.1058ms 200 text/html; charset=utf-8
2018-04-26 17:22:38.379 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:22:38.385 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:38.391 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:38.397 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:22:38.428 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["b39c1fc8-afcc-4282-8ffd-da0c08566080"]) - ModelState is "Valid"
2018-04-26 17:22:38.436 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:22:38.530 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:22:38.705 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:22:38.775 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:22:38.786 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 386.5473ms
2018-04-26 17:22:38.795 -07:00 [INF] Request finished in 416.5505ms 302 
2018-04-26 17:22:38.804 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:22:38.814 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:38.822 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:22:38.830 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:22:38.898 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:22:38.904 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:22:39.064 -07:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:22:39.078 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:22:39.111 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 278.8832ms
2018-04-26 17:22:39.119 -07:00 [INF] Request finished in 313.3311ms 200 text/html; charset=utf-8
2018-04-26 17:23:16.264 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/ConfirmEmail?userId=e984e85e-4321-4cff-b336-f127f4f71429&code=CfDJ8JBDfC3ePgpLn0KZa19Tj90AGWKk%2F1K8N2pjpCtear5jKRSVpq9qpFHDpaNATMMa7YteLWcCQPSilCfPQPgGlQR2cCN1ycoutJRxjIdN0exAkohc5aWNxwTbhf8%2BK%2FUAf9zvp9%2BonGVa4GHXCOpCPs8jZSVg3vTrJi3qYX9FLxLVT%2BOQcp49wjiPR529j%2FXefy8QIl5DdMDVmSqrxOEI0Hu2SMluCmZY2CdzuSMDEXYngAN4BtcrH1mNkmEjY13GXQ%3D%3D  
2018-04-26 17:23:16.318 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.ConfirmEmail (IdentityServer) with arguments (["e984e85e-4321-4cff-b336-f127f4f71429","CfDJ8JBDfC3ePgpLn0KZa19Tj90AGWKk/1K8N2pjpCtear5jKRSVpq9qpFHDpaNATMMa7YteLWcCQPSilCfPQPgGlQR2cCN1ycoutJRxjIdN0exAkohc5aWNxwTbhf8+K/UAf9zvp9+onGVa4GHXCOpCPs8jZSVg3vTrJi3qYX9FLxLVT+OQcp49wjiPR529j/Xefy8QIl5DdMDVmSqrxOEI0Hu2SMluCmZY2CdzuSMDEXYngAN4BtcrH1mNkmEjY13GXQ=="]) - ModelState is "Valid"
2018-04-26 17:23:16.328 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:23:16.471 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Organization], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-26 17:23:16.491 -07:00 [WRN] VerifyUserTokenAsync() failed with purpose: EmailConfirmation for user e984e85e-4321-4cff-b336-f127f4f71429.
2018-04-26 17:23:16.779 -07:00 [INF] Executing ViewResult, running view at path /Views/Shared/Error.cshtml.
2018-04-26 17:23:16.945 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.ConfirmEmail (IdentityServer) in 666.971ms
2018-04-26 17:23:17.039 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore._Views_Shared_Error_cshtml.<ExecuteAsync>d__0.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\Error.cshtml:line 9
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-26 17:23:17.229 -07:00 [INF] Request finished in 964.3893ms 500 text/html; charset=utf-8
2018-04-26 17:23:17.505 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 17:23:17.515 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 17:23:17.526 -07:00 [INF] Request finished in 24.1312ms 200 image/x-icon
2018-04-26 17:24:35.190 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:24:35.204 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:35.216 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:35.229 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:24:35.289 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:24:35.300 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:24:35.401 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:24:35.416 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:24:35.463 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 232.389ms
2018-04-26 17:24:35.477 -07:00 [INF] Request finished in 287.5602ms 200 text/html; charset=utf-8
2018-04-26 17:24:35.588 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 17:24:35.596 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 17:24:35.605 -07:00 [INF] Request finished in 39.5656ms 200 image/x-icon
2018-04-26 17:24:52.671 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-04-26 17:24:52.677 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:52.683 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:52.695 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:24:52.737 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-04-26 17:24:52.748 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:24:52.853 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:24:53.299 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-04-26 17:24:53.422 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 724.0123ms
2018-04-26 17:24:53.434 -07:00 [INF] Request finished in 761.1112ms 200 text/html; charset=utf-8
2018-04-26 17:24:57.048 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 827
2018-04-26 17:24:57.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:57.065 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:57.083 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:24:57.133 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Valid"
2018-04-26 17:24:57.144 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:24:57.338 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@p16='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?', @p12='?', @p13='?' (Size = 4000), @p14='?', @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [Organization] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RegistrationDate] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2018-04-26 17:24:57.407 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:24:57.416 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 336.20120000000003ms
2018-04-26 17:24:57.427 -07:00 [INF] Request finished in 378.3658ms 302 
2018-04-26 17:24:57.441 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:24:57.450 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:57.458 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:24:57.467 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:24:57.533 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:24:57.543 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:24:57.674 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:24:57.683 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:24:57.707 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 239.66510000000002ms
2018-04-26 17:24:57.715 -07:00 [INF] Request finished in 274.8782ms 200 text/html; charset=utf-8
2018-04-26 17:27:35.207 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=e984e85e-4321-4cff-b336-f127f4f71429  
2018-04-26 17:27:35.213 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:27:35.219 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:27:35.224 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:27:35.258 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["e984e85e-4321-4cff-b336-f127f4f71429"]) - ModelState is "Valid"
2018-04-26 17:27:35.268 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:27:35.368 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:27:35.383 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:27:35.401 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 172.64350000000002ms
2018-04-26 17:27:35.415 -07:00 [INF] Request finished in 205.4817ms 200 text/html; charset=utf-8
2018-04-26 17:27:37.177 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:27:37.183 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:27:37.189 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:27:37.194 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:27:37.226 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["e984e85e-4321-4cff-b336-f127f4f71429"]) - ModelState is "Valid"
2018-04-26 17:27:37.235 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:27:37.328 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:27:37.534 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:27:37.624 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:27:37.637 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 439.2452ms
2018-04-26 17:27:37.650 -07:00 [INF] Request finished in 471.1566ms 302 
2018-04-26 17:27:37.671 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:27:37.685 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:27:37.698 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:27:37.711 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:27:37.807 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:27:37.819 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:27:37.960 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:27:37.974 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:27:38.010 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 295.7068ms
2018-04-26 17:27:38.024 -07:00 [INF] Request finished in 353.3782ms 200 text/html; charset=utf-8
2018-04-26 17:56:22.913 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:56:22.933 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:56:23.610 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[Organization], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-26 17:56:23.719 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-26 17:56:23.817 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-26 17:56:23.914 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:56:24.011 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:56:24.118 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:56:24.216 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:56:24.353 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-26 17:56:24.452 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-26 17:56:24.473 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:24.484 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:24.496 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:56:24.578 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:56:24.691 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:56:24.700 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:56:24.727 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 231.9934ms
2018-04-26 17:56:24.734 -07:00 [INF] Request finished in 1825.0033ms 200 text/html; charset=utf-8
2018-04-26 17:56:24.811 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 17:56:24.817 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 17:56:24.826 -07:00 [INF] Request finished in 15.9873ms 200 image/x-icon
2018-04-26 17:56:28.017 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=7156da1b-1deb-4865-a997-dceded8a5a45  
2018-04-26 17:56:28.023 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:28.028 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:28.033 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:56:28.071 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["7156da1b-1deb-4865-a997-dceded8a5a45"]) - ModelState is "Valid"
2018-04-26 17:56:28.077 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:56:28.168 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:56:28.180 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:56:28.195 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 157.9249ms
2018-04-26 17:56:28.204 -07:00 [INF] Request finished in 185.889ms 200 text/html; charset=utf-8
2018-04-26 17:56:29.939 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:56:29.945 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:29.951 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:29.957 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:56:29.988 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["7156da1b-1deb-4865-a997-dceded8a5a45"]) - ModelState is "Valid"
2018-04-26 17:56:29.996 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:56:30.091 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:56:30.273 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:56:30.339 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:56:30.348 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 389.6834ms
2018-04-26 17:56:30.358 -07:00 [INF] Request finished in 418.438ms 302 
2018-04-26 17:56:30.374 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:56:30.383 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:30.390 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:56:30.397 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:56:30.468 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:56:30.478 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:56:30.609 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:56:30.644 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:56:30.683 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 280.8131ms
2018-04-26 17:56:30.692 -07:00 [INF] Request finished in 319.4355ms 200 text/html; charset=utf-8
2018-04-26 17:57:51.154 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:57:51.161 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:51.168 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:51.175 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:57:51.216 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:57:51.223 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:57:51.350 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:57:51.361 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:57:51.397 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 218.33190000000002ms
2018-04-26 17:57:51.405 -07:00 [INF] Request finished in 250.8266ms 200 text/html; charset=utf-8
2018-04-26 17:57:51.509 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 17:57:51.516 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 17:57:51.537 -07:00 [INF] Request finished in 48.5994ms 200 image/x-icon
2018-04-26 17:57:54.345 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=a065b93d-df51-4773-bd0b-f0540525dadb  
2018-04-26 17:57:54.351 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:54.355 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:54.360 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:57:54.394 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["a065b93d-df51-4773-bd0b-f0540525dadb"]) - ModelState is "Valid"
2018-04-26 17:57:54.402 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:57:54.500 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:57:54.514 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 17:57:54.533 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 166.8201ms
2018-04-26 17:57:54.549 -07:00 [INF] Request finished in 199.692ms 200 text/html; charset=utf-8
2018-04-26 17:57:55.730 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 17:57:55.737 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:55.742 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:55.748 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:57:55.778 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["a065b93d-df51-4773-bd0b-f0540525dadb"]) - ModelState is "Valid"
2018-04-26 17:57:55.786 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:57:55.884 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 17:57:56.073 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 17:57:56.140 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 17:57:56.153 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 401.6608ms
2018-04-26 17:57:56.165 -07:00 [INF] Request finished in 433.0555ms 302 
2018-04-26 17:57:56.181 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 17:57:56.190 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:56.198 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 17:57:56.208 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 17:57:56.276 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 17:57:56.287 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 17:57:56.421 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 17:57:56.430 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 17:57:56.449 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 240.63170000000002ms
2018-04-26 17:57:56.457 -07:00 [INF] Request finished in 277.1102ms 200 text/html; charset=utf-8
2018-04-26 18:00:16.335 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 18:00:16.348 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:16.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:16.369 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:00:16.420 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:00:16.430 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:00:16.533 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 18:00:16.544 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 18:00:16.577 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 206.6465ms
2018-04-26 18:00:16.583 -07:00 [INF] Request finished in 250.0861ms 200 text/html; charset=utf-8
2018-04-26 18:00:16.671 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 18:00:16.677 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 18:00:16.686 -07:00 [INF] Request finished in 24.4823ms 200 image/x-icon
2018-04-26 18:00:19.471 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Delete?id=d51f9708-2cab-4ed2-8148-b0554cd1ecc0  
2018-04-26 18:00:19.478 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:19.483 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:19.489 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:00:19.518 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) with arguments (["d51f9708-2cab-4ed2-8148-b0554cd1ecc0"]) - ModelState is "Valid"
2018-04-26 18:00:19.525 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:00:19.618 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 18:00:19.631 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Delete.cshtml.
2018-04-26 18:00:19.646 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Delete (IdentityServer) in 154.1651ms
2018-04-26 18:00:19.658 -07:00 [INF] Request finished in 185.0389ms 200 text/html; charset=utf-8
2018-04-26 18:00:20.867 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Delete application/x-www-form-urlencoded 265
2018-04-26 18:00:20.874 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:20.880 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:20.885 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:00:20.918 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) with arguments (["d51f9708-2cab-4ed2-8148-b0554cd1ecc0"]) - ModelState is "Valid"
2018-04-26 18:00:20.925 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:00:21.018 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[Organization], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
2018-04-26 18:00:21.190 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2018-04-26 18:00:21.257 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-04-26 18:00:21.269 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.DeleteConfirmed (IdentityServer) in 380.4791ms
2018-04-26 18:00:21.283 -07:00 [INF] Request finished in 413.5355ms 302 
2018-04-26 18:00:21.303 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 18:00:21.317 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:21.326 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:21.334 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:00:21.415 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:00:21.427 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:00:21.579 -07:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 18:00:21.590 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 18:00:21.620 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 284.2678ms
2018-04-26 18:00:21.629 -07:00 [INF] Request finished in 327.3767ms 200 text/html; charset=utf-8
2018-04-26 18:00:57.152 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 18:00:57.164 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:57.175 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:57.186 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:00:57.237 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:00:57.249 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:00:57.399 -07:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 18:00:57.410 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 18:00:57.452 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 263.82030000000003ms
2018-04-26 18:00:57.464 -07:00 [INF] Request finished in 314.483ms 200 text/html; charset=utf-8
2018-04-26 18:00:57.571 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-26 18:00:57.579 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-26 18:00:57.602 -07:00 [INF] Request finished in 39.668ms 200 image/x-icon
2018-04-26 18:00:59.211 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-04-26 18:00:59.217 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:59.223 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:00:59.235 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:00:59.284 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:00:59.297 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:00:59.407 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-26 18:00:59.706 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-04-26 18:00:59.751 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 512.9892ms
2018-04-26 18:00:59.763 -07:00 [INF] Request finished in 550.261ms 200 text/html; charset=utf-8
2018-04-26 18:01:01.833 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-04-26 18:01:01.840 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:01.846 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:01.851 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:01:01.881 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:01:01.888 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:01:01.999 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Organization], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2018-04-26 18:01:02.005 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-04-26 18:01:02.028 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 175.48170000000002ms
2018-04-26 18:01:02.034 -07:00 [INF] Request finished in 202.3101ms 200 text/html; charset=utf-8
2018-04-26 18:01:02.617 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-26 18:01:02.624 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:02.630 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:02.642 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:01:02.672 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:01:02.682 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:01:02.811 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-26 18:01:02.942 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-26 18:01:03.065 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-26 18:01:03.176 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-26 18:01:03.404 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-26 18:01:03.851 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1207.6104ms
2018-04-26 18:01:03.860 -07:00 [INF] Request finished in 1242.7597ms 200 text/html; charset=utf-8
2018-04-26 18:01:05.744 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/UserRoles/Edit application/x-www-form-urlencoded 470
2018-04-26 18:01:05.751 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:05.757 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:05.766 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:01:05.801 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserRolesViewModel","Microsoft.AspNetCore.Http.FormCollection"]) - ModelState is "Valid"
2018-04-26 18:01:05.811 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:01:05.932 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_Username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[Organization], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__id_Username_0
2018-04-26 18:01:06.054 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-26 18:01:06.180 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__User_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[UserId], [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @__User_Id_0
2018-04-26 18:01:06.351 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2018-04-26 18:01:06.419 -07:00 [INF] Executing RedirectResult, redirecting to /UserRoles/Index.
2018-04-26 18:01:06.431 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) in 662.4872ms
2018-04-26 18:01:06.443 -07:00 [INF] Request finished in 696.7502ms 302 
2018-04-26 18:01:06.461 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-04-26 18:01:06.474 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:06.485 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-26 18:01:06.498 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-04-26 18:01:06.548 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-26 18:01:06.556 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-26 18:01:06.645 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-04-26 18:01:06.733 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-04-26 18:01:06.833 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-26 18:01:06.954 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-04-26 18:01:06.964 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-04-26 18:01:06.976 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 479.4427ms
2018-04-26 18:01:06.983 -07:00 [INF] Request finished in 524.8281ms 200 text/html; charset=utf-8
2018-04-30 15:11:45.506 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 15:11:45.618 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 15:11:46.049 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:38:07.446 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 15:38:07.734 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 15:38:09.997 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:38:10.474 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:38:13.571 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:38:14.416 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4089.039ms
2018-04-30 15:38:14.448 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css  
2018-04-30 15:38:14.451 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js  
2018-04-30 15:38:14.475 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css  
2018-04-30 15:38:14.511 -07:00 [INF] Request finished in 4516.4925ms 200 text/html; charset=utf-8
2018-04-30 15:38:14.542 -07:00 [INF] The file /css/site.css was not modified
2018-04-30 15:38:14.566 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-04-30 15:38:14.604 -07:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-04-30 15:38:14.653 -07:00 [INF] Request finished in 180.4917ms 304 text/css
2018-04-30 15:38:14.656 -07:00 [INF] Request finished in 180.4805ms 304 text/css
2018-04-30 15:38:14.683 -07:00 [INF] Request finished in 202.718ms 304 application/javascript
2018-04-30 15:38:14.712 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg  
2018-04-30 15:38:14.736 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg  
2018-04-30 15:38:14.814 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js  
2018-04-30 15:38:14.864 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-04-30 15:38:14.920 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg  
2018-04-30 15:38:14.946 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2018-04-30 15:38:14.975 -07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-04-30 15:38:15.000 -07:00 [INF] The file /images/banner1.svg was not modified
2018-04-30 15:38:15.025 -07:00 [INF] The file /images/banner3.svg was not modified
2018-04-30 15:38:15.054 -07:00 [INF] The file /js/site.js was not modified
2018-04-30 15:38:15.127 -07:00 [INF] The file /images/banner2.svg was not modified
2018-04-30 15:38:15.198 -07:00 [INF] Request finished in 253.1ms 304 image/svg+xml
2018-04-30 15:38:15.199 -07:00 [INF] Request finished in 383.8394ms 304 application/javascript
2018-04-30 15:38:15.225 -07:00 [INF] The file /lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 was not modified
2018-04-30 15:38:15.250 -07:00 [INF] Request finished in 314.0147ms 304 application/javascript
2018-04-30 15:38:15.275 -07:00 [INF] Request finished in 401.0823ms 304 image/svg+xml
2018-04-30 15:38:15.305 -07:00 [INF] Request finished in 671.1643ms 304 image/svg+xml
2018-04-30 15:38:15.386 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg  
2018-04-30 15:38:15.415 -07:00 [INF] Request finished in 599.4202ms 304 font/woff2
2018-04-30 15:38:15.439 -07:00 [INF] The file /images/banner4.svg was not modified
2018-04-30 15:38:15.493 -07:00 [INF] Request finished in 132.948ms 304 image/svg+xml
2018-04-30 15:38:17.875 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-30 15:38:18.013 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-30 15:38:18.041 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-30 15:38:18.713 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-30 15:38:19.048 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1121.6406ms
2018-04-30 15:38:19.057 -07:00 [INF] Request finished in 1180.8188ms 200 text/html; charset=utf-8
2018-04-30 15:38:19.086 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-04-30 15:38:19.089 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js  
2018-04-30 15:38:19.137 -07:00 [INF] The file /lib/jquery-validation/dist/jquery.validate.js was not modified
2018-04-30 15:38:19.139 -07:00 [INF] The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified
2018-04-30 15:38:19.211 -07:00 [INF] Request finished in 100.8535ms 304 application/javascript
2018-04-30 15:38:19.213 -07:00 [INF] Request finished in 123.3125ms 304 application/javascript
2018-04-30 15:38:20.173 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-30 15:38:20.273 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-30 15:38:20.506 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:38:21.824 -07:00 [INF] Executed DbCommand (212ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-30 15:38:22.129 -07:00 [INF] Executed DbCommand (154ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 15:38:22.266 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 15:38:22.389 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:38:22.539 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:38:22.646 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:38:22.776 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:38:22.891 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:38:23.011 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:38:23.110 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-30 15:38:23.117 -07:00 [INF] User logged in.
2018-04-30 15:38:23.125 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-30 15:38:23.133 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2936.5113ms
2018-04-30 15:38:23.142 -07:00 [INF] Request finished in 2967.6517ms 302 
2018-04-30 15:38:23.150 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:38:23.161 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:23.167 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:23.263 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:38:23.271 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:38:23.289 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 114.2517ms
2018-04-30 15:38:23.294 -07:00 [INF] Request finished in 143.6991ms 200 text/html; charset=utf-8
2018-04-30 15:38:25.076 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:38:25.082 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:25.086 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:25.120 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:38:25.133 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:38:25.255 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 158.5033ms
2018-04-30 15:38:25.354 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationAssignment' is not a navigation property of entity type 'Organization'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.OrganizationsController.<Index>d__2.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:38:25.539 -07:00 [INF] Request finished in 464.0851ms 500 text/html; charset=utf-8
2018-04-30 15:38:55.090 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:38:55.095 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:55.099 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:55.128 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:38:55.133 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:38:55.139 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 34.6724ms
2018-04-30 15:38:55.143 -07:00 [INF] Request finished in 53.7024ms 200 text/html; charset=utf-8
2018-04-30 15:38:56.748 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:38:56.753 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:56.757 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:56.795 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:38:56.800 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:38:56.866 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 102.3463ms
2018-04-30 15:38:56.924 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationAssignment' is not a navigation property of entity type 'Organization'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.OrganizationsController.<Index>d__2.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:38:57.091 -07:00 [INF] Request finished in 341.8317ms 500 text/html; charset=utf-8
2018-04-30 15:38:59.394 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:38:59.400 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:59.404 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:38:59.432 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:38:59.436 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:38:59.442 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 33.3908ms
2018-04-30 15:38:59.448 -07:00 [INF] Request finished in 54.2188ms 200 text/html; charset=utf-8
2018-04-30 15:39:22.635 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:39:22.641 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:39:22.645 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:39:22.675 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:39:22.680 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:39:22.746 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 94.796500000000009ms
2018-04-30 15:39:22.792 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationAssignment' is not a navigation property of entity type 'Organization'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.OrganizationsController.<Index>d__2.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:39:22.956 -07:00 [INF] Request finished in 320.9757ms 500 text/html; charset=utf-8
2018-04-30 15:40:04.834 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 15:40:05.026 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 15:40:07.259 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:40:07.721 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:40:10.592 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:40:11.361 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3768.2366ms
2018-04-30 15:40:11.373 -07:00 [INF] Request finished in 4120.0721ms 200 text/html; charset=utf-8
2018-04-30 15:40:13.172 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-30 15:40:13.288 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-30 15:40:13.310 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-30 15:40:13.931 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-30 15:40:14.206 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 984.41870000000006ms
2018-04-30 15:40:14.213 -07:00 [INF] Request finished in 1041.2915ms 200 text/html; charset=utf-8
2018-04-30 15:40:15.428 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-30 15:40:15.514 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-30 15:40:15.729 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:40:16.828 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-30 15:40:17.105 -07:00 [INF] Executed DbCommand (135ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 15:40:17.235 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 15:40:17.352 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:40:17.509 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:40:17.601 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:40:17.697 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:40:17.787 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:40:17.883 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:40:17.941 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-30 15:40:17.947 -07:00 [INF] User logged in.
2018-04-30 15:40:17.954 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-30 15:40:17.961 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2512.2298ms
2018-04-30 15:40:17.970 -07:00 [INF] Request finished in 2541.6568ms 302 
2018-04-30 15:40:17.980 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:40:17.993 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:18.000 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:18.079 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:40:18.086 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:40:18.104 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 95.236200000000011ms
2018-04-30 15:40:18.111 -07:00 [INF] Request finished in 131.3297ms 200 text/html; charset=utf-8
2018-04-30 15:40:19.099 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:40:19.105 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:19.111 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:19.149 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:40:19.158 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:40:19.308 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 15:40:19.471 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 15:40:19.680 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 15:40:19.710 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 587.4266ms
2018-04-30 15:40:19.716 -07:00 [INF] Request finished in 617.5826ms 200 text/html; charset=utf-8
2018-04-30 15:40:22.452 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:40:22.458 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:22.463 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:22.506 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:40:22.520 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:40:22.630 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 150.51500000000001ms
2018-04-30 15:40:22.714 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NotSupportedException: The Include operation 'Include("OrganizationAssignments")' is not supported. 'OrganizationAssignments' must be a navigation property defined on an entity type.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__6.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 78
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:40:22.893 -07:00 [INF] Request finished in 441.7107ms 500 text/html; charset=utf-8
2018-04-30 15:40:35.778 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:40:35.784 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:35.789 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:35.819 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:40:35.826 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:40:35.917 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 15:40:36.002 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 15:40:36.010 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 15:40:36.019 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 224.5797ms
2018-04-30 15:40:36.025 -07:00 [INF] Request finished in 247.178ms 200 text/html; charset=utf-8
2018-04-30 15:40:37.324 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:40:37.330 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:37.336 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:40:37.367 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:41:18.668 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 15:41:18.928 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 15:41:21.181 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:41:21.647 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:41:24.643 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:41:25.471 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3943.2953ms
2018-04-30 15:41:25.487 -07:00 [INF] Request finished in 4311.7336ms 200 text/html; charset=utf-8
2018-04-30 15:41:27.131 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-30 15:41:27.248 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-30 15:41:27.270 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-30 15:41:27.946 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-30 15:41:28.230 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1048.3701ms
2018-04-30 15:41:28.237 -07:00 [INF] Request finished in 1106.2911ms 200 text/html; charset=utf-8
2018-04-30 15:41:29.877 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-30 15:41:29.968 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-30 15:41:30.181 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:41:31.242 -07:00 [INF] Executed DbCommand (159ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-30 15:41:31.524 -07:00 [INF] Executed DbCommand (138ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 15:41:31.687 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 15:41:31.805 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:41:31.953 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:41:32.066 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:41:32.168 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:41:32.265 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:41:32.376 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:41:32.463 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-30 15:41:32.470 -07:00 [INF] User logged in.
2018-04-30 15:41:32.476 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-30 15:41:32.482 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2584.6387ms
2018-04-30 15:41:32.489 -07:00 [INF] Request finished in 2612.9981ms 302 
2018-04-30 15:41:32.534 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:41:32.545 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:41:32.551 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:41:32.633 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:41:32.644 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:41:32.667 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 107.727ms
2018-04-30 15:41:32.674 -07:00 [INF] Request finished in 140.3994ms 200 text/html; charset=utf-8
2018-04-30 15:41:34.259 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:41:34.266 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:41:34.271 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:41:34.309 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:41:34.317 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:41:34.483 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 15:41:34.643 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 15:41:34.896 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 15:41:34.937 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 652.366ms
2018-04-30 15:41:34.945 -07:00 [INF] Request finished in 685.3092ms 200 text/html; charset=utf-8
2018-04-30 15:41:36.516 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:41:36.521 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:41:36.526 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:41:36.560 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:41:39.029 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:41:39.045 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-04-30 15:41:39.192 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:41:39.306 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:41:39.511 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:41:39.823 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 3286.3349000000003ms
2018-04-30 15:41:39.915 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The partial view 'UserSelected' was not found. The following locations were searched:
/Views/Organizations/UserSelected.cshtml
/Views/Shared/UserSelected.cshtml
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Organizations_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 25
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Organizations_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:41:40.195 -07:00 [INF] Request finished in 3680.0243ms 500 text/html; charset=utf-8
2018-04-30 15:42:11.860 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 15:42:12.103 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 15:42:14.384 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:42:14.968 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:42:17.813 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:42:18.624 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3829.3323ms
2018-04-30 15:42:18.637 -07:00 [INF] Request finished in 4261.6389ms 200 text/html; charset=utf-8
2018-04-30 15:42:20.147 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-30 15:42:20.286 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-30 15:42:20.308 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-30 15:42:20.949 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-30 15:42:21.244 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1050.1595ms
2018-04-30 15:42:21.250 -07:00 [INF] Request finished in 1103.6516ms 200 text/html; charset=utf-8
2018-04-30 15:42:27.477 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-30 15:42:27.560 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-30 15:42:27.784 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:42:28.855 -07:00 [INF] Executed DbCommand (150ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-30 15:42:29.151 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 15:42:29.289 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 15:42:29.403 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:42:29.548 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:42:29.645 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:42:29.745 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:42:29.837 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 15:42:29.932 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 15:42:29.987 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-30 15:42:29.994 -07:00 [INF] User logged in.
2018-04-30 15:42:30.001 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-30 15:42:30.007 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2509.7957ms
2018-04-30 15:42:30.016 -07:00 [INF] Request finished in 2539.0071ms 302 
2018-04-30 15:42:30.026 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 15:42:30.038 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:42:30.044 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:42:30.121 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:42:30.128 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 15:42:30.146 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.3943ms
2018-04-30 15:42:30.154 -07:00 [INF] Request finished in 127.2072ms 200 text/html; charset=utf-8
2018-04-30 15:42:35.740 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 15:42:35.746 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:42:35.752 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:42:35.790 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 15:42:35.799 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:42:35.985 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 15:42:36.166 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 15:42:36.439 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 15:42:36.476 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 711.01330000000007ms
2018-04-30 15:42:36.491 -07:00 [INF] Request finished in 749.0835ms 200 text/html; charset=utf-8
2018-04-30 15:42:37.677 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:42:37.683 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:42:37.688 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:42:37.725 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:42:39.983 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:42:40.021 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-04-30 15:42:40.186 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:42:40.300 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:42:40.521 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:42:40.743 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 3041.8296ms
2018-04-30 15:42:40.751 -07:00 [INF] Request finished in 3074.8107ms 200 text/html; charset=utf-8
2018-04-30 15:50:12.856 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:50:12.865 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:50:12.871 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:50:12.904 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:50:12.910 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:50:13.574 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:50:13.665 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:50:13.673 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:50:13.879 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 999.91270000000009ms
2018-04-30 15:50:13.886 -07:00 [INF] Request finished in 1030.7596ms 200 text/html; charset=utf-8
2018-04-30 15:50:13.981 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:50:13.991 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:50:14.011 -07:00 [INF] Request finished in 31.0966ms 200 image/x-icon
2018-04-30 15:50:15.498 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:50:15.504 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:50:15.510 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:50:15.540 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:50:15.547 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:50:15.650 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:50:15.740 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:50:15.747 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:50:15.755 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 238.78660000000002ms
2018-04-30 15:50:15.762 -07:00 [INF] Request finished in 264.5341ms 200 text/html; charset=utf-8
2018-04-30 15:50:15.848 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:50:15.855 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:50:15.863 -07:00 [INF] Request finished in 16.0281ms 200 image/x-icon
2018-04-30 15:50:30.282 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:50:30.288 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:50:30.294 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:50:30.325 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:50:30.332 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:50:30.427 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:50:30.527 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:50:30.534 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:50:50.221 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 19919.0858ms
2018-04-30 15:50:50.227 -07:00 [INF] Request finished in 19947.0489ms 200 text/html; charset=utf-8
2018-04-30 15:50:50.315 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:50:50.320 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:50:50.329 -07:00 [INF] Request finished in 14.0653ms 200 image/x-icon
2018-04-30 15:51:20.032 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:51:20.044 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:51:20.054 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:51:20.104 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:51:20.115 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:51:20.285 -07:00 [INF] Executed DbCommand (145ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:51:20.373 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:51:20.385 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:51:20.401 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 334.77250000000004ms
2018-04-30 15:51:20.411 -07:00 [INF] Request finished in 380.6963ms 200 text/html; charset=utf-8
2018-04-30 15:51:20.518 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:51:20.523 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:51:20.541 -07:00 [INF] Request finished in 22.8845ms 200 image/x-icon
2018-04-30 15:51:35.016 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:51:35.022 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:51:35.028 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:51:35.057 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:51:35.063 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:51:35.154 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:51:35.239 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:51:35.246 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:51:55.442 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 20396.6955ms
2018-04-30 15:51:55.455 -07:00 [INF] Request finished in 20440.6875ms 200 text/html; charset=utf-8
2018-04-30 15:51:55.534 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:51:55.541 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:51:55.549 -07:00 [INF] Request finished in 15.52ms 200 image/x-icon
2018-04-30 15:52:01.864 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:52:01.869 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:52:01.873 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:52:01.900 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:52:01.905 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:52:01.996 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:52:02.082 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:52:02.090 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:52:03.897 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 2016.8637ms
2018-04-30 15:52:03.902 -07:00 [INF] Request finished in 2038.3246ms 200 text/html; charset=utf-8
2018-04-30 15:53:43.335 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:53:43.344 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:53:43.352 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:53:43.385 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:53:43.393 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:53:43.499 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:53:43.587 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:53:43.596 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:53:45.458 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 2096.1106ms
2018-04-30 15:53:45.466 -07:00 [INF] Request finished in 2168.8187ms 200 text/html; charset=utf-8
2018-04-30 15:53:45.506 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:53:45.513 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:53:45.520 -07:00 [INF] Request finished in 14.9884ms 200 image/x-icon
2018-04-30 15:53:52.725 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:53:52.732 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:53:52.739 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:53:52.770 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:53:52.777 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:53:52.872 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:53:52.963 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:53:52.971 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:53:53.356 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 606.8772ms
2018-04-30 15:53:53.479 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelected.cshtml(5,12): error CS7036: There is no argument given that corresponds to the required formal parameter 'templateName' of 'IHtmlHelper<UserSelectedViewModel>.DisplayFor<TResult>(Expression<Func<UserSelectedViewModel, TResult>>, string, string, object)'
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Organizations_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 25
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Organizations_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:53:53.624 -07:00 [INF] Request finished in 900.9687ms 500 text/html; charset=utf-8
2018-04-30 15:53:53.723 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:53:53.740 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:53:53.748 -07:00 [INF] Request finished in 26.9497ms 200 image/x-icon
2018-04-30 15:53:58.481 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:53:58.488 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:53:58.496 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:53:58.528 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:53:58.534 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:53:58.624 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:53:58.711 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:53:58.719 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:53:58.924 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 420.93870000000004ms
2018-04-30 15:53:58.983 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelected.cshtml(5,12): error CS7036: There is no argument given that corresponds to the required formal parameter 'templateName' of 'IHtmlHelper<UserSelectedViewModel>.DisplayFor<TResult>(Expression<Func<UserSelectedViewModel, TResult>>, string, string, object)'
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Organizations_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 25
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Organizations_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-04-30 15:53:59.121 -07:00 [INF] Request finished in 642.1605ms 500 text/html; charset=utf-8
2018-04-30 15:53:59.149 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:53:59.155 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:53:59.163 -07:00 [INF] Request finished in 14.5056ms 200 image/x-icon
2018-04-30 15:54:56.246 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:54:56.252 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:54:56.258 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:54:56.288 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:54:56.294 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:54:56.411 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:54:56.519 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:54:56.527 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:54:56.750 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 484.3664ms
2018-04-30 15:54:56.757 -07:00 [INF] Request finished in 511.8309ms 200 text/html; charset=utf-8
2018-04-30 15:54:56.844 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:54:56.851 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:54:56.859 -07:00 [INF] Request finished in 15.9396ms 200 image/x-icon
2018-04-30 15:56:04.589 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:56:04.596 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:56:04.602 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:56:04.632 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:56:04.638 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:56:04.738 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:56:04.822 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:56:05.071 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:56:05.106 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 494.1723ms
2018-04-30 15:56:05.113 -07:00 [INF] Request finished in 525.6731ms 200 text/html; charset=utf-8
2018-04-30 15:56:05.200 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:56:05.206 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:56:05.213 -07:00 [INF] Request finished in 13.3106ms 200 image/x-icon
2018-04-30 15:56:36.054 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:56:36.060 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:56:36.066 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:56:36.096 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:56:36.102 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:56:36.217 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:56:36.310 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:56:36.552 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:56:36.587 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 511.7217ms
2018-04-30 15:56:36.595 -07:00 [INF] Request finished in 541.1885ms 200 text/html; charset=utf-8
2018-04-30 15:56:36.708 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:56:36.715 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:56:36.723 -07:00 [INF] Request finished in 15.9893ms 200 image/x-icon
2018-04-30 15:57:45.246 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:57:45.252 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:57:45.258 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:57:45.287 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:57:45.293 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:57:45.493 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:57:45.577 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:57:45.797 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:57:45.830 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 563.4915ms
2018-04-30 15:57:45.837 -07:00 [INF] Request finished in 591.792ms 200 text/html; charset=utf-8
2018-04-30 15:57:45.924 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:57:45.930 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:57:45.937 -07:00 [INF] Request finished in 14.3888ms 200 image/x-icon
2018-04-30 15:58:15.540 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:58:15.547 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:58:15.552 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:58:15.583 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:58:15.590 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:58:15.679 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:58:15.765 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:58:16.003 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:58:16.037 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 475.401ms
2018-04-30 15:58:16.044 -07:00 [INF] Request finished in 505.6939ms 200 text/html; charset=utf-8
2018-04-30 15:58:16.136 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:58:16.142 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:58:16.149 -07:00 [INF] Request finished in 15.0845ms 200 image/x-icon
2018-04-30 15:58:33.300 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:58:33.308 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:58:33.314 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:58:33.355 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:58:33.365 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:58:33.468 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:58:33.557 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:58:33.804 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:58:33.838 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 514.5211ms
2018-04-30 15:58:33.845 -07:00 [INF] Request finished in 546.1713ms 200 text/html; charset=utf-8
2018-04-30 15:58:33.931 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:58:33.938 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:58:33.947 -07:00 [INF] Request finished in 16.3566ms 200 image/x-icon
2018-04-30 15:58:35.475 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 15:58:35.482 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:58:35.488 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 15:58:35.520 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 15:58:35.527 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 15:58:35.620 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 15:58:35.705 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 15:58:35.712 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 15:58:35.720 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 225.9814ms
2018-04-30 15:58:35.726 -07:00 [INF] Request finished in 252.0525ms 200 text/html; charset=utf-8
2018-04-30 15:58:35.815 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 15:58:35.821 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 15:58:35.829 -07:00 [INF] Request finished in 14.6152ms 200 image/x-icon
2018-04-30 16:03:25.035 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 16:03:25.301 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 16:03:27.446 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 16:03:27.862 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:03:30.654 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 16:03:31.497 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3745.5765ms
2018-04-30 16:03:31.510 -07:00 [INF] Request finished in 4069.7499ms 200 text/html; charset=utf-8
2018-04-30 16:03:45.145 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-30 16:03:45.261 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-30 16:03:45.285 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-30 16:03:45.985 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-30 16:03:46.365 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1173.422ms
2018-04-30 16:03:46.372 -07:00 [INF] Request finished in 1227.135ms 200 text/html; charset=utf-8
2018-04-30 16:03:47.419 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-30 16:03:47.526 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-30 16:03:47.744 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:03:48.844 -07:00 [INF] Executed DbCommand (180ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-30 16:03:49.156 -07:00 [INF] Executed DbCommand (139ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 16:03:49.313 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 16:03:49.470 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:03:49.625 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:03:49.726 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:03:49.820 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:03:49.912 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:03:50.024 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:03:50.097 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-30 16:03:50.103 -07:00 [INF] User logged in.
2018-04-30 16:03:50.110 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-30 16:03:50.116 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2676.9346ms
2018-04-30 16:03:50.124 -07:00 [INF] Request finished in 2705.374ms 302 
2018-04-30 16:03:50.134 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 16:03:50.145 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:03:50.151 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:03:50.228 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:03:50.235 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 16:03:50.253 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 93.799900000000008ms
2018-04-30 16:03:50.262 -07:00 [INF] Request finished in 126.9028ms 200 text/html; charset=utf-8
2018-04-30 16:03:52.976 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 16:03:52.982 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:03:52.987 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:03:53.022 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:03:53.033 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:03:53.211 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 16:03:53.355 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 16:03:53.589 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 16:03:53.626 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 625.2105ms
2018-04-30 16:03:53.634 -07:00 [INF] Request finished in 656.9015ms 200 text/html; charset=utf-8
2018-04-30 16:03:55.641 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:03:55.647 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:03:55.652 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:03:55.696 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:03:55.721 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:03:55.753 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-04-30 16:03:55.899 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:03:56.012 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:03:56.264 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:03:56.488 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 818.71440000000007ms
2018-04-30 16:03:56.494 -07:00 [INF] Request finished in 853.7847ms 200 text/html; charset=utf-8
2018-04-30 16:07:45.316 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:07:45.325 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:07:45.333 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:07:45.368 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:07:45.374 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:07:45.469 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:07:45.557 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:07:45.782 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:07:45.816 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 471.9361ms
2018-04-30 16:07:45.827 -07:00 [INF] Request finished in 510.5941ms 200 text/html; charset=utf-8
2018-04-30 16:07:45.925 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 16:07:45.940 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 16:07:45.949 -07:00 [INF] Request finished in 25.0376ms 200 image/x-icon
2018-04-30 16:07:47.172 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:07:47.180 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:07:47.187 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:07:47.239 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:07:47.246 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:07:47.342 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:07:47.452 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:07:47.460 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:07:47.470 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 275.7022ms
2018-04-30 16:07:47.478 -07:00 [INF] Request finished in 307.7694ms 200 text/html; charset=utf-8
2018-04-30 16:07:47.580 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 16:07:47.589 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 16:07:47.598 -07:00 [INF] Request finished in 20.9349ms 200 image/x-icon
2018-04-30 16:08:00.196 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:08:00.203 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:08:00.207 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:08:00.234 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:08:00.239 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:08:00.330 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:08:00.435 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:08:00.633 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:08:00.667 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 454.192ms
2018-04-30 16:08:00.672 -07:00 [INF] Request finished in 476.029ms 200 text/html; charset=utf-8
2018-04-30 16:08:00.758 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 16:08:00.764 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 16:08:00.771 -07:00 [INF] Request finished in 14.0732ms 200 image/x-icon
2018-04-30 16:08:02.234 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:08:02.243 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:08:02.251 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:08:02.299 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:08:02.307 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:08:02.404 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:08:02.511 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:08:02.524 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:08:02.536 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 277.4482ms
2018-04-30 16:08:02.543 -07:00 [INF] Request finished in 311.3768ms 200 text/html; charset=utf-8
2018-04-30 16:08:02.650 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 16:08:02.656 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 16:08:02.666 -07:00 [INF] Request finished in 17.8922ms 200 image/x-icon
2018-04-30 16:36:14.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:36:14.360 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:36:15.075 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-04-30 16:36:15.203 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 16:36:15.313 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 16:36:15.421 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:36:15.537 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:36:15.630 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:36:15.746 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:36:15.857 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:36:15.957 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:36:15.967 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:15.973 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:16.027 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:36:16.136 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:36:16.225 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:36:16.481 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:36:16.517 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 536.3469ms
2018-04-30 16:36:16.527 -07:00 [INF] Request finished in 2185.1036ms 200 text/html; charset=utf-8
2018-04-30 16:36:16.617 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-04-30 16:36:16.624 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-04-30 16:36:16.632 -07:00 [INF] Request finished in 16.9266ms 200 image/x-icon
2018-04-30 16:36:38.822 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 319
2018-04-30 16:36:38.828 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:38.833 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:38.906 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.Organization"]) - ModelState is "Valid"
2018-04-30 16:36:38.918 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:36:39.161 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@p1='?', @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2018-04-30 16:36:39.235 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-04-30 16:36:39.244 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 391.3464ms
2018-04-30 16:36:39.251 -07:00 [INF] Request finished in 429.7089ms 302 
2018-04-30 16:36:39.258 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 16:36:39.263 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:39.267 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:39.330 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:36:39.336 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:36:39.457 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 16:36:39.581 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 16:36:39.595 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 16:36:39.610 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 335.6884ms
2018-04-30 16:36:39.617 -07:00 [INF] Request finished in 357.6972ms 200 text/html; charset=utf-8
2018-04-30 16:36:41.729 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-04-30 16:36:41.735 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:41.739 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:41.777 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:36:45.547 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:36:45.682 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-04-30 16:36:45.806 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [m.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 16:36:46.099 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-04-30 16:36:46.127 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 4376.9615ms
2018-04-30 16:36:46.132 -07:00 [INF] Request finished in 4404.1588ms 200 text/html; charset=utf-8
2018-04-30 16:36:48.554 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:36:48.560 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:48.565 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:36:48.598 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:36:48.608 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:36:48.705 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:36:48.808 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:36:48.822 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:36:48.839 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 264.4337ms
2018-04-30 16:36:48.851 -07:00 [INF] Request finished in 297.244ms 200 text/html; charset=utf-8
2018-04-30 16:37:07.791 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 319
2018-04-30 16:37:07.796 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:37:07.801 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:37:07.848 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.Organization"]) - ModelState is "Valid"
2018-04-30 16:37:51.967 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:37:52.179 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@p1='?', @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2018-04-30 16:37:52.244 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-04-30 16:37:52.254 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 44445.6929ms
2018-04-30 16:37:52.261 -07:00 [INF] Request finished in 44470.1968ms 302 
2018-04-30 16:37:52.268 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 16:37:52.273 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:37:52.277 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:37:52.341 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:37:52.351 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:37:52.480 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 16:37:52.570 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 16:37:52.581 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 16:37:52.597 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 310.8005ms
2018-04-30 16:37:52.610 -07:00 [INF] Request finished in 337.957ms 200 text/html; charset=utf-8
2018-04-30 16:40:06.174 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-04-30 16:40:06.465 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-04-30 16:40:08.676 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 16:40:09.103 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:40:11.904 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 16:40:12.687 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3690.3302000000003ms
2018-04-30 16:40:12.698 -07:00 [INF] Request finished in 4027.9186ms 200 text/html; charset=utf-8
2018-04-30 16:40:18.987 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-04-30 16:40:19.099 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-04-30 16:40:19.121 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-04-30 16:40:19.819 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-04-30 16:40:20.107 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1072.8377ms
2018-04-30 16:40:20.114 -07:00 [INF] Request finished in 1126.1583ms 200 text/html; charset=utf-8
2018-04-30 16:40:21.700 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-04-30 16:40:21.797 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-04-30 16:40:22.016 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:40:23.086 -07:00 [INF] Executed DbCommand (149ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-04-30 16:40:23.355 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-04-30 16:40:23.528 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-04-30 16:40:23.651 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:40:23.792 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:40:23.886 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:40:23.984 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:40:24.075 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-04-30 16:40:24.169 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-04-30 16:40:24.227 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-04-30 16:40:24.234 -07:00 [INF] User logged in.
2018-04-30 16:40:24.241 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-04-30 16:40:24.248 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2528.8211ms
2018-04-30 16:40:24.256 -07:00 [INF] Request finished in 2556.5736ms 302 
2018-04-30 16:40:24.266 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-04-30 16:40:24.277 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:24.283 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:24.364 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:40:24.373 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-04-30 16:40:24.402 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 111.49600000000001ms
2018-04-30 16:40:24.410 -07:00 [INF] Request finished in 142.9395ms 200 text/html; charset=utf-8
2018-04-30 16:40:26.210 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-04-30 16:40:26.215 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:26.220 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:26.255 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-04-30 16:40:26.262 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:40:26.433 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-04-30 16:40:26.588 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-04-30 16:40:26.807 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-04-30 16:40:26.851 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 617.91140000000007ms
2018-04-30 16:40:26.858 -07:00 [INF] Request finished in 648.1968ms 200 text/html; charset=utf-8
2018-04-30 16:40:32.371 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-04-30 16:40:32.378 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:32.384 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:32.423 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-04-30 16:40:32.443 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-04-30 16:40:32.462 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-04-30 16:40:32.599 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-04-30 16:40:32.703 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-04-30 16:40:32.899 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-04-30 16:40:33.112 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 714.7603ms
2018-04-30 16:40:33.120 -07:00 [INF] Request finished in 748.9111ms 200 text/html; charset=utf-8
2018-04-30 16:40:34.760 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 319
2018-04-30 16:40:34.766 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:34.771 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-04-30 16:40:34.818 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 14:10:13.856 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 14:10:14.107 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 14:10:16.750 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 14:10:17.343 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 14:10:20.677 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 14:10:21.617 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4421.6169ms
2018-05-01 14:10:21.640 -07:00 [INF] Request finished in 4903.044ms 200 text/html; charset=utf-8
2018-05-01 14:10:48.287 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 14:10:48.497 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 14:10:48.532 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 14:10:49.364 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 14:10:49.852 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1473.7891ms
2018-05-01 14:10:49.867 -07:00 [INF] Request finished in 1578.3584ms 200 text/html; charset=utf-8
2018-05-01 14:10:51.200 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 14:10:51.307 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 14:10:51.579 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:10:52.996 -07:00 [INF] Executed DbCommand (249ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 14:10:53.367 -07:00 [INF] Executed DbCommand (185ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 14:10:53.518 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 14:10:53.676 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 14:10:53.844 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 14:10:53.971 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 14:10:54.101 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 14:10:54.229 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 14:10:54.357 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 14:10:54.430 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 14:10:54.437 -07:00 [INF] User logged in.
2018-05-01 14:10:54.445 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 14:10:54.454 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3232.8053ms
2018-05-01 14:10:54.462 -07:00 [INF] Request finished in 3263.366ms 302 
2018-05-01 14:10:54.471 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 14:10:54.482 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:10:54.488 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:10:54.565 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 14:10:54.573 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 14:10:54.592 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 95.1494ms
2018-05-01 14:10:54.600 -07:00 [INF] Request finished in 127.8951ms 200 text/html; charset=utf-8
2018-05-01 14:10:55.360 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 14:10:55.367 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:10:55.374 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:10:55.413 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 14:10:55.423 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:10:55.588 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 14:10:55.752 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 14:10:55.965 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 14:10:55.996 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 609.9663ms
2018-05-01 14:10:56.002 -07:00 [INF] Request finished in 643.5575ms 200 text/html; charset=utf-8
2018-05-01 14:10:57.960 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 14:10:57.967 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:10:57.973 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:10:58.020 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:10:58.031 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:10:58.158 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 14:10:58.273 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [m.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 14:10:58.460 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 14:10:58.488 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 494.63280000000003ms
2018-05-01 14:10:58.501 -07:00 [INF] Request finished in 538.4623ms 200 text/html; charset=utf-8
2018-05-01 14:11:00.351 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 14:11:00.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:11:00.363 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:11:00.406 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:11:00.419 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:11:00.439 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 14:11:00.583 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 14:11:00.714 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 14:11:00.931 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 14:11:01.160 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 780.1843ms
2018-05-01 14:11:01.167 -07:00 [INF] Request finished in 816.6349ms 200 text/html; charset=utf-8
2018-05-01 14:15:16.361 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 319
2018-05-01 14:15:16.367 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:15:16.372 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:15:16.448 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 14:45:45.293 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 14:45:45.684 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 14:45:48.051 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 14:45:48.594 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 14:45:51.485 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 14:45:52.429 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3978.1462ms
2018-05-01 14:45:52.445 -07:00 [INF] Request finished in 4410.7703ms 200 text/html; charset=utf-8
2018-05-01 14:46:17.397 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 14:46:17.673 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 14:46:17.699 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 14:46:18.438 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 14:46:18.720 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1193.8186ms
2018-05-01 14:46:18.726 -07:00 [INF] Request finished in 1330.2654ms 200 text/html; charset=utf-8
2018-05-01 14:46:19.868 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 14:46:19.983 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 14:46:20.214 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:46:21.340 -07:00 [INF] Executed DbCommand (154ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 14:46:21.653 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 14:46:21.816 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 14:46:21.970 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 14:46:22.126 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 14:46:22.226 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 14:46:22.319 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 14:46:22.417 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 14:46:22.524 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 14:46:22.589 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 14:46:22.596 -07:00 [INF] User logged in.
2018-05-01 14:46:22.603 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 14:46:22.610 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2718.9075000000003ms
2018-05-01 14:46:22.618 -07:00 [INF] Request finished in 2751.5881ms 302 
2018-05-01 14:46:22.626 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 14:46:22.636 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:22.642 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:22.717 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 14:46:22.725 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 14:46:22.756 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 105.9278ms
2018-05-01 14:46:22.763 -07:00 [INF] Request finished in 136.2483ms 200 text/html; charset=utf-8
2018-05-01 14:46:27.427 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 14:46:27.433 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:27.439 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:27.479 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 14:46:27.489 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:46:27.684 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 14:46:27.877 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 14:46:28.165 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 14:46:28.205 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 749.2079ms
2018-05-01 14:46:28.218 -07:00 [INF] Request finished in 789.2682ms 200 text/html; charset=utf-8
2018-05-01 14:46:29.811 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 14:46:29.817 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:29.823 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:29.884 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:46:29.908 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:46:29.939 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 14:46:30.114 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 14:46:30.260 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 14:46:30.550 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 14:46:30.816 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 975.8243ms
2018-05-01 14:46:30.827 -07:00 [INF] Request finished in 1015.8951ms 200 text/html; charset=utf-8
2018-05-01 14:46:38.496 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 319
2018-05-01 14:46:38.503 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:38.508 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:38.553 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 14:46:49.331 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 14:46:49.354 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:46:49.404 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:49.524 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:46:49.565 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:46:49.594 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 11053.5535ms
2018-05-01 14:46:49.618 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:46:49.770 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 14:46:49.868 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 14:46:49.874 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 14:46:49.889 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 14:46:49.896 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 364.79720000000003ms
2018-05-01 14:46:49.902 -07:00 [INF] Request finished in 590.5651ms 200 text/html; charset=utf-8
2018-05-01 14:46:50.049 -07:00 [INF] Request finished in 11552.4835ms 500 text/html; charset=utf-8
2018-05-01 14:47:29.198 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 14:47:29.204 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:47:29.210 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:47:29.242 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:47:29.253 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:47:29.377 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 14:47:29.488 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 14:47:29.498 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 14:47:30.188 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 968.6411ms
2018-05-01 14:47:30.286 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentException: The name of an HTML field cannot be null or empty. Instead use methods Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper.Editor or Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper`1.EditorFor with a non-empty htmlFieldName argument value.
Parameter name: expression
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateInput(ViewContext viewContext, InputType inputType, ModelExplorer modelExplorer, String expression, Object value, Boolean useViewData, Boolean isChecked, Boolean setId, Boolean isExplicitValue, String format, IDictionary`2 htmlAttributes)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateHidden(ViewContext viewContext, ModelExplorer modelExplorer, String expression, Object value, Boolean useViewData, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.GenerateHidden(ModelExplorer modelExplorer, String expression, Object value, Boolean useViewData, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper`1.HiddenFor[TResult](Expression`1 expression, Object htmlAttributes)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperInputExtensions.HiddenFor[TModel,TResult](IHtmlHelper`1 htmlHelper, Expression`1 expression)
   at AspNetCore._Views_Shared_UserSelected_cshtml.<ExecuteAsync>d__0.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelected.cshtml:line 3
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Organizations_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 29
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Organizations_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 14:47:30.619 -07:00 [INF] Request finished in 1426.8807ms 500 text/html; charset=utf-8
2018-05-01 14:47:30.830 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 14:47:30.848 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 14:47:30.885 -07:00 [INF] Request finished in 52.9344ms 200 image/x-icon
2018-05-01 14:47:49.168 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 14:47:49.192 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:47:49.220 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:47:49.261 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:47:49.271 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:47:49.380 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 14:47:49.472 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 14:47:49.484 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 14:47:49.775 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 544.1557ms
2018-05-01 14:47:49.781 -07:00 [INF] Request finished in 617.972ms 200 text/html; charset=utf-8
2018-05-01 14:47:49.803 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 14:47:49.810 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 14:47:49.821 -07:00 [INF] Request finished in 16.3608ms 200 image/x-icon
2018-05-01 14:48:21.860 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 14:48:21.908 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:48:21.917 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:48:21.973 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 14:48:21.984 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 14:48:22.111 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 14:48:22.204 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 14:48:22.215 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 14:48:22.401 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 470.80870000000004ms
2018-05-01 14:48:22.409 -07:00 [INF] Request finished in 601.2169ms 200 text/html; charset=utf-8
2018-05-01 14:48:22.460 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 14:48:22.474 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 14:48:22.490 -07:00 [INF] Request finished in 31.4526ms 200 image/x-icon
2018-05-01 14:48:29.054 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 319
2018-05-01 14:48:29.061 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:48:29.067 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 14:48:29.106 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:24:10.435 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:24:10.670 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:24:10.736 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:24:10.772 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 2141669.7276000003ms
2018-05-01 15:24:10.777 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:24:10.814 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:24:10.914 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:24:11.065 -07:00 [INF] Request finished in 2142002.311ms 500 text/html; charset=utf-8
2018-05-01 15:24:11.502 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-01 15:24:11.650 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 15:24:11.772 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 15:24:11.898 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:24:11.998 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:24:12.035 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-01 15:24:12.089 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:24:12.161 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 15:24:12.238 -07:00 [INF] Executed DbCommand (133ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:24:12.314 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 15:24:12.397 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:24:12.474 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:24:12.557 -07:00 [INF] Executed DbCommand (138ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:24:12.586 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:24:12.602 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:24:12.631 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:24:12.806 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:24:12.938 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:24:12.992 -07:00 [INF] Executed DbCommand (166ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:24:13.030 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:24:13.089 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:24:13.136 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:24:13.287 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:24:13.302 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:24:13.315 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:24:13.384 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:24:13.525 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:24:13.639 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:24:13.796 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:24:13.826 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:24:13.891 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1241.6071000000002ms
2018-05-01 15:24:13.918 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 564.0815ms
2018-05-01 15:24:13.991 -07:00 [INF] Request finished in 3323.022ms 200 text/html; charset=utf-8
2018-05-01 15:24:14.015 -07:00 [INF] Request finished in 3292.3023ms 200 text/html; charset=utf-8
2018-05-01 15:24:14.062 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:24:14.068 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:24:14.132 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:24:14.158 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:24:14.205 -07:00 [INF] Request finished in 126.212ms 200 image/x-icon
2018-05-01 15:24:14.213 -07:00 [INF] Request finished in 124.4845ms 200 image/x-icon
2018-05-01 15:25:59.838 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:25:59.850 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:25:59.859 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:25:59.894 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:25:59.903 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:26:00.001 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:26:00.106 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:26:00.427 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:26:00.500 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 627.70980000000009ms
2018-05-01 15:26:00.514 -07:00 [INF] Request finished in 676.4267ms 200 text/html; charset=utf-8
2018-05-01 15:26:00.569 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:26:00.581 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:26:00.599 -07:00 [INF] Request finished in 32.4008ms 200 image/x-icon
2018-05-01 15:26:06.321 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:26:06.327 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:06.332 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:06.365 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:26:06.371 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:26:06.462 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:26:06.550 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:26:06.559 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:26:06.588 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 246.8133ms
2018-05-01 15:26:06.597 -07:00 [INF] Request finished in 275.5886ms 200 text/html; charset=utf-8
2018-05-01 15:26:06.686 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:26:06.696 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:26:06.708 -07:00 [INF] Request finished in 24.197ms 200 image/x-icon
2018-05-01 15:26:07.807 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:26:07.813 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:07.818 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:07.853 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:26:07.864 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:26:07.960 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:26:08.054 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:26:08.070 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:26:08.103 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 273.1186ms
2018-05-01 15:26:08.117 -07:00 [INF] Request finished in 307.5198ms 200 text/html; charset=utf-8
2018-05-01 15:26:08.215 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:26:08.221 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:26:08.228 -07:00 [INF] Request finished in 12.3772ms 200 image/x-icon
2018-05-01 15:26:16.084 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:26:16.102 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:16.114 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:16.163 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:26:16.176 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:26:16.298 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:26:16.388 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:26:16.636 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:26:16.675 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 550.89560000000006ms
2018-05-01 15:26:16.683 -07:00 [INF] Request finished in 604.1802ms 200 text/html; charset=utf-8
2018-05-01 15:26:16.770 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:26:16.780 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:26:16.789 -07:00 [INF] Request finished in 22.1242ms 200 image/x-icon
2018-05-01 15:26:18.735 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 357
2018-05-01 15:26:18.741 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:18.746 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:26:18.779 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:27:10.700 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:27:10.758 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:27:10.830 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:27:10.860 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:27:10.869 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 52117.1025ms
2018-05-01 15:27:10.921 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:27:10.932 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:27:10.997 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:27:11.034 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:27:11.161 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:27:11.172 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:27:11.190 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 320.1462ms
2018-05-01 15:27:11.202 -07:00 [INF] Request finished in 589.0173ms 200 text/html; charset=utf-8
2018-05-01 15:27:11.289 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:27:11.296 -07:00 [INF] Request finished in 52530.7473ms 500 text/html; charset=utf-8
2018-05-01 15:27:11.337 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:27:11.351 -07:00 [INF] Request finished in 105.706ms 200 image/x-icon
2018-05-01 15:27:13.333 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:27:13.349 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:27:13.364 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:27:13.424 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:27:13.438 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:27:13.548 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:27:13.670 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:27:13.685 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:27:13.706 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 325.15860000000004ms
2018-05-01 15:27:13.719 -07:00 [INF] Request finished in 390.4565ms 200 text/html; charset=utf-8
2018-05-01 15:27:13.755 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:27:13.768 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:27:13.783 -07:00 [INF] Request finished in 30.9777ms 200 image/x-icon
2018-05-01 15:33:21.950 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:33:21.956 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:21.961 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:21.991 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:33:21.997 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:33:22.664 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:33:22.789 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:33:23.126 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1154.3715ms
2018-05-01 15:33:23.186 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml(29,72): error CS1061: 'UserSelectedViewModel' does not contain a definition for 'id' and no extension method 'id' accepting a first argument of type 'UserSelectedViewModel' could be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:33:23.283 -07:00 [INF] Request finished in 1343.4957ms 500 text/html; charset=utf-8
2018-05-01 15:33:23.434 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:33:23.440 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:33:23.448 -07:00 [INF] Request finished in 15.6891ms 200 image/x-icon
2018-05-01 15:33:26.977 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 357
2018-05-01 15:33:26.984 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:26.990 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:27.022 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:33:28.185 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:33:28.315 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1313.3997000000002ms
2018-05-01 15:33:28.378 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:33:28.522 -07:00 [INF] Request finished in 1544.003ms 500 text/html; charset=utf-8
2018-05-01 15:33:28.539 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:33:28.550 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:33:28.563 -07:00 [INF] Request finished in 24.3355ms 200 image/x-icon
2018-05-01 15:33:35.375 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 357
2018-05-01 15:33:35.383 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:35.389 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:35.421 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:33:35.427 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:33:35.494 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 97.202ms
2018-05-01 15:33:35.535 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:33:35.653 -07:00 [INF] Request finished in 278.7731ms 500 text/html; charset=utf-8
2018-05-01 15:33:35.668 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:33:35.675 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:33:35.682 -07:00 [INF] Request finished in 15.3303ms 200 image/x-icon
2018-05-01 15:33:49.740 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:33:49.753 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:49.765 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:33:49.801 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:33:49.810 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:33:49.911 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:33:50.002 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:33:50.266 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:33:50.333 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 557.5519ms
2018-05-01 15:33:50.340 -07:00 [INF] Request finished in 605.0714ms 200 text/html; charset=utf-8
2018-05-01 15:33:50.431 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:33:50.439 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:33:50.449 -07:00 [INF] Request finished in 18.8805ms 200 image/x-icon
2018-05-01 15:34:02.456 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 562
2018-05-01 15:34:02.462 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:34:02.468 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:34:02.501 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:39:59.619 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 15:39:59.881 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 15:40:02.440 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 15:40:03.008 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 15:40:05.969 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 15:40:06.905 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4052.0692000000004ms
2018-05-01 15:40:06.918 -07:00 [INF] Request finished in 4485.1813ms 200 text/html; charset=utf-8
2018-05-01 15:40:08.705 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 15:40:08.873 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 15:40:08.915 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 15:40:09.618 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 15:40:09.902 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1143.7079ms
2018-05-01 15:40:09.909 -07:00 [INF] Request finished in 1204.4174ms 200 text/html; charset=utf-8
2018-05-01 15:40:11.410 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 15:40:11.524 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 15:40:11.748 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:40:12.891 -07:00 [INF] Executed DbCommand (173ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 15:40:13.203 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 15:40:13.375 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 15:40:13.526 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:40:13.690 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:40:13.811 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:40:13.935 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:40:14.051 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 15:40:14.174 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 15:40:14.237 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 15:40:14.242 -07:00 [INF] User logged in.
2018-05-01 15:40:14.248 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 15:40:14.253 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2819.8668000000002ms
2018-05-01 15:40:14.260 -07:00 [INF] Request finished in 2850.2231ms 302 
2018-05-01 15:40:14.285 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 15:40:14.303 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:14.311 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:14.414 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 15:40:14.423 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 15:40:14.454 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 134.4829ms
2018-05-01 15:40:14.464 -07:00 [INF] Request finished in 178.2263ms 200 text/html; charset=utf-8
2018-05-01 15:40:16.481 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 15:40:16.487 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:16.492 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:16.527 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 15:40:16.539 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:40:16.689 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 15:40:16.830 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId], [o.OrganizationAssignments].[OrganizationId1]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId1] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 15:40:17.051 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 15:40:17.100 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 593.0924ms
2018-05-01 15:40:17.109 -07:00 [INF] Request finished in 626.7244ms 200 text/html; charset=utf-8
2018-05-01 15:40:18.993 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:40:18.998 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:19.003 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:19.039 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:40:19.053 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:40:19.073 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 15:40:19.236 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:40:19.367 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:40:19.651 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:40:19.715 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 698.0026ms
2018-05-01 15:40:19.721 -07:00 [INF] Request finished in 728.5272ms 200 text/html; charset=utf-8
2018-05-01 15:40:21.496 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 562
2018-05-01 15:40:21.501 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:21.506 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:40:21.587 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:40:34.075 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:40:34.203 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 12674.456900000001ms
2018-05-01 15:40:34.286 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:40:34.446 -07:00 [INF] Request finished in 12951.0988ms 500 text/html; charset=utf-8
2018-05-01 15:42:20.768 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 562
2018-05-01 15:42:20.774 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:42:20.779 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:42:20.809 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 15:42:20.816 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:42:20.924 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 137.4285ms
2018-05-01 15:42:21.003 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'OrganizationDetailsViewModel' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 15:42:21.194 -07:00 [INF] Request finished in 427.1821ms 500 text/html; charset=utf-8
2018-05-01 15:42:21.203 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 15:42:21.212 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 15:42:21.220 -07:00 [INF] Request finished in 17.9846ms 200 image/x-icon
2018-05-01 15:42:22.199 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:42:22.204 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:42:22.208 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:42:22.239 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:42:22.249 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:42:22.356 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:42:22.473 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:42:22.832 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:42:23.165 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 948.4175ms
2018-05-01 15:42:23.176 -07:00 [INF] Request finished in 975.2023ms 200 text/html; charset=utf-8
2018-05-01 15:42:27.629 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 15:42:27.633 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:42:27.637 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:42:27.667 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 15:42:27.674 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 15:42:27.769 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 15:42:27.881 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId1]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 15:42:27.895 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 15:42:27.935 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 288.2325ms
2018-05-01 15:42:27.946 -07:00 [INF] Request finished in 314.2031ms 200 text/html; charset=utf-8
2018-05-01 15:54:35.354 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 442
2018-05-01 15:54:35.366 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:54:35.379 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 15:54:35.418 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Invalid"
2018-05-01 16:52:00.493 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 16:52:00.857 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 16:52:03.280 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 16:52:03.771 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 16:52:06.727 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 16:52:07.578 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3928.0484ms
2018-05-01 16:52:07.596 -07:00 [INF] Request finished in 4319.3227ms 200 text/html; charset=utf-8
2018-05-01 16:52:09.524 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 16:52:09.668 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 16:52:09.692 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 16:52:10.353 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 16:52:10.711 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1137.5098ms
2018-05-01 16:52:10.718 -07:00 [INF] Request finished in 1193.8864ms 200 text/html; charset=utf-8
2018-05-01 16:52:11.917 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 16:52:12.043 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 16:52:12.306 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:13.426 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 16:52:13.705 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 16:52:13.845 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 16:52:13.962 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 16:52:14.125 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 16:52:14.254 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 16:52:14.358 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 16:52:14.469 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 16:52:14.565 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 16:52:14.623 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 16:52:14.629 -07:00 [INF] User logged in.
2018-05-01 16:52:14.637 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 16:52:14.643 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2706.5628ms
2018-05-01 16:52:14.652 -07:00 [INF] Request finished in 2735.2506ms 302 
2018-05-01 16:52:14.663 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 16:52:14.677 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:14.684 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:14.762 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 16:52:14.769 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 16:52:14.788 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.58850000000001ms
2018-05-01 16:52:14.795 -07:00 [INF] Request finished in 131.6871ms 200 text/html; charset=utf-8
2018-05-01 16:52:16.467 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 16:52:16.475 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:16.481 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:16.517 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 16:52:16.527 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:16.683 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 16:52:16.822 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:52:17.091 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 16:52:17.145 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 649.63790000000006ms
2018-05-01 16:52:17.156 -07:00 [INF] Request finished in 688.048ms 200 text/html; charset=utf-8
2018-05-01 16:52:18.390 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 16:52:18.395 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:18.400 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:18.438 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:52:18.449 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:18.590 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 16:52:18.727 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:52:19.015 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 16:52:19.044 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 630.369ms
2018-05-01 16:52:19.054 -07:00 [INF] Request finished in 664.0517ms 200 text/html; charset=utf-8
2018-05-01 16:52:21.405 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:52:21.411 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:21.416 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:21.451 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:52:21.462 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:21.481 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 16:52:21.661 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:52:21.803 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:52:22.139 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:52:22.431 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1001.8292ms
2018-05-01 16:52:22.437 -07:00 [INF] Request finished in 1033.2561ms 200 text/html; charset=utf-8
2018-05-01 16:52:24.176 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 380
2018-05-01 16:52:24.182 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:24.187 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:24.252 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 16:52:24.272 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:24.421 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 16:52:24.539 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:52:24.730 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 526.4165ms
2018-05-01 16:52:24.850 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 129
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 16:52:25.003 -07:00 [INF] Request finished in 826.8742ms 500 text/html; charset=utf-8
2018-05-01 16:52:34.379 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:52:34.385 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:34.390 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:34.420 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:52:34.427 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:34.519 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:52:34.607 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:52:34.620 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:52:34.636 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 237.0436ms
2018-05-01 16:52:34.646 -07:00 [INF] Request finished in 265.2051ms 200 text/html; charset=utf-8
2018-05-01 16:52:35.725 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 380
2018-05-01 16:52:35.731 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:35.737 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:35.770 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 16:52:39.068 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:39.219 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 16:52:39.333 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:52:47.573 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 11828.9118ms
2018-05-01 16:52:47.608 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 129
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 16:52:47.719 -07:00 [INF] Request finished in 11994.2941ms 500 text/html; charset=utf-8
2018-05-01 16:52:58.874 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:52:58.879 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:58.884 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:52:58.911 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:52:58.918 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:52:59.018 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:52:59.115 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:52:59.176 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:52:59.194 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 301.2446ms
2018-05-01 16:52:59.203 -07:00 [INF] Request finished in 328.9124ms 200 text/html; charset=utf-8
2018-05-01 16:53:00.323 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 380
2018-05-01 16:53:00.329 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:00.334 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:00.367 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 16:53:23.575 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:53:23.612 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:53:23.696 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:23.706 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:23.767 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:53:23.770 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 16:53:23.804 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:53:23.906 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:53:24.061 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 23718.7374ms
2018-05-01 16:53:24.116 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 129
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 16:53:24.260 -07:00 [INF] Request finished in 23937.7878ms 500 text/html; charset=utf-8
2018-05-01 16:53:24.502 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:53:24.607 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:53:24.614 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:53:24.628 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 907.44490000000008ms
2018-05-01 16:53:24.639 -07:00 [INF] Request finished in 1046.6306ms 200 text/html; charset=utf-8
2018-05-01 16:53:32.631 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:53:32.638 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:32.645 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:32.678 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:53:32.686 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:53:32.781 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:53:32.870 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:53:32.878 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:53:32.890 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 237.1943ms
2018-05-01 16:53:32.898 -07:00 [INF] Request finished in 276.6609ms 200 text/html; charset=utf-8
2018-05-01 16:53:34.953 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:53:34.960 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:34.965 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:53:34.994 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:53:35.000 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:53:35.094 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:53:35.208 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:53:35.219 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:53:35.228 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 257.784ms
2018-05-01 16:53:35.235 -07:00 [INF] Request finished in 281.0318ms 200 text/html; charset=utf-8
2018-05-01 16:58:50.766 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 16:58:51.083 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 16:58:53.431 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 16:58:53.913 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 16:58:56.900 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 16:58:57.783 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4008.6635ms
2018-05-01 16:58:57.800 -07:00 [INF] Request finished in 4376.6884ms 200 text/html; charset=utf-8
2018-05-01 16:58:59.023 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 16:58:59.142 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 16:58:59.182 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 16:58:59.799 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 16:59:00.156 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1083.844ms
2018-05-01 16:59:00.163 -07:00 [INF] Request finished in 1140.3563ms 200 text/html; charset=utf-8
2018-05-01 16:59:01.308 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 16:59:01.412 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 16:59:01.648 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:02.753 -07:00 [INF] Executed DbCommand (184ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 16:59:03.057 -07:00 [INF] Executed DbCommand (148ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 16:59:03.234 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 16:59:03.372 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 16:59:03.500 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 16:59:03.600 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 16:59:03.729 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 16:59:03.844 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 16:59:03.974 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 16:59:04.060 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 16:59:04.068 -07:00 [INF] User logged in.
2018-05-01 16:59:04.078 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 16:59:04.086 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2758.1605ms
2018-05-01 16:59:04.098 -07:00 [INF] Request finished in 2788.8545ms 302 
2018-05-01 16:59:04.131 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 16:59:04.144 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:04.150 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:04.249 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 16:59:04.258 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 16:59:04.289 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 130.4358ms
2018-05-01 16:59:04.297 -07:00 [INF] Request finished in 175.3748ms 200 text/html; charset=utf-8
2018-05-01 16:59:05.677 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 16:59:05.683 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:05.688 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:05.730 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 16:59:05.740 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:05.929 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 16:59:06.102 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:59:06.336 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 16:59:06.378 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 677.2109ms
2018-05-01 16:59:06.385 -07:00 [INF] Request finished in 708.9348ms 200 text/html; charset=utf-8
2018-05-01 16:59:07.614 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:59:07.620 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:07.626 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:07.667 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:59:07.680 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:07.699 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 16:59:07.842 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:59:07.942 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:59:08.244 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:59:08.880 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1238.8300000000002ms
2018-05-01 16:59:08.981 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(4,31): error CS1061: 'ICollection<UserSelectedViewModel>' does not contain a definition for 'UserList' and no extension method 'UserList' accepting a first argument of type 'ICollection<UserSelectedViewModel>' could be found (are you missing a using directive or an assembly reference?)
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(8,38): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(9,38): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(10,59): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(10,40): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(11,39): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Organizations_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 24
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Organizations_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 16:59:09.158 -07:00 [INF] Request finished in 1541.8746ms 500 text/html; charset=utf-8
2018-05-01 16:59:26.543 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:59:26.554 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:26.564 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:26.621 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:59:26.634 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:26.740 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:59:26.852 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:59:26.864 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:59:27.285 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 710.452ms
2018-05-01 16:59:27.369 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(8,38): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(9,38): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(10,59): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(10,40): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Shared\UserSelectedList.cshtml(11,39): error CS0021: Cannot apply indexing with [] to an expression of type 'ICollection<UserSelectedViewModel>'
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Organizations_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 24
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Organizations_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 16:59:27.548 -07:00 [INF] Request finished in 1007.873ms 500 text/html; charset=utf-8
2018-05-01 16:59:27.560 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 16:59:27.572 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 16:59:27.585 -07:00 [INF] Request finished in 24.0097ms 200 image/x-icon
2018-05-01 16:59:38.462 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:59:38.471 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:38.479 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:38.525 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:59:38.535 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:38.654 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:59:38.741 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:59:38.752 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:59:39.212 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 722.1769ms
2018-05-01 16:59:39.220 -07:00 [INF] Request finished in 758.9908ms 200 text/html; charset=utf-8
2018-05-01 16:59:39.350 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 16:59:39.358 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 16:59:39.375 -07:00 [INF] Request finished in 25.4608ms 200 image/x-icon
2018-05-01 16:59:42.673 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 536
2018-05-01 16:59:42.679 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:42.684 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:42.752 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 16:59:53.674 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:53.678 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 16:59:53.711 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:53.719 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 16:59:53.773 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 16:59:53.783 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 16:59:53.891 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 16:59:54.006 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 16:59:54.018 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 16:59:54.057 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 325.68420000000003ms
2018-05-01 16:59:54.066 -07:00 [INF] Request finished in 410.9062ms 200 text/html; charset=utf-8
2018-05-01 16:59:54.533 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 16:59:54.661 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 16:59:54.789 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 12087.7703ms
2018-05-01 16:59:54.853 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 129
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 16:59:54.998 -07:00 [INF] Request finished in 12325.5667ms 500 text/html; charset=utf-8
2018-05-01 17:06:41.021 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:06:41.029 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:06:41.038 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:06:41.109 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:06:41.122 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:06:41.809 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:06:41.923 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:06:42.236 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:06:42.294 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1243.2003ms
2018-05-01 17:06:42.305 -07:00 [INF] Request finished in 1282.0583ms 200 text/html; charset=utf-8
2018-05-01 17:06:42.345 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 17:06:42.352 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 17:06:42.361 -07:00 [INF] Request finished in 17.6371ms 200 image/x-icon
2018-05-01 17:07:01.680 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 536
2018-05-01 17:07:01.686 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:01.691 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:01.736 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 17:07:09.481 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:07:09.505 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:07:09.609 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:07:09.669 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:09.695 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:09.723 -07:00 [INF] Executed DbCommand (138ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:07:09.776 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:09.872 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:07:09.897 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:07:09.923 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:10.051 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:07:10.074 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:07:10.147 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:07:10.154 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 8453.5931ms
2018-05-01 17:07:10.225 -07:00 [INF] Executed DbCommand (137ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:07:10.368 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.OrganizationsController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 129
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 17:07:10.374 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:07:10.406 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:07:10.474 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 617.67050000000006ms
2018-05-01 17:07:10.479 -07:00 [INF] Request finished in 971.1295ms 200 text/html; charset=utf-8
2018-05-01 17:07:10.519 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 17:07:10.525 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 17:07:10.532 -07:00 [INF] Request finished in 14.968ms 200 image/x-icon
2018-05-01 17:07:10.555 -07:00 [INF] Request finished in 8890.8577ms 500 text/html; charset=utf-8
2018-05-01 17:07:10.827 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:07:10.953 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:07:10.965 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:07:10.982 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 986.374ms
2018-05-01 17:07:10.993 -07:00 [INF] Request finished in 1511.2388ms 200 text/html; charset=utf-8
2018-05-01 17:07:16.802 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:07:16.808 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:16.813 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:16.843 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:07:16.850 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:07:16.947 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:07:17.068 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:07:17.080 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:07:17.121 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 297.8781ms
2018-05-01 17:07:17.130 -07:00 [INF] Request finished in 327.5124ms 200 text/html; charset=utf-8
2018-05-01 17:07:21.381 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 833
2018-05-01 17:07:21.388 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:21.395 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:21.443 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 17:07:42.520 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:07:42.637 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:07:42.723 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:07:47.265 -07:00 [INF] Executed DbCommand (146ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p2, @p3);
2018-05-01 17:07:47.345 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-01 17:07:47.355 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 25952.235200000003ms
2018-05-01 17:07:47.365 -07:00 [INF] Request finished in 25982.4398ms 302 
2018-05-01 17:07:47.382 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:07:47.394 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:47.404 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:07:47.499 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:07:47.510 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:07:47.638 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:07:47.776 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:07:47.890 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: An exception occurred while reading a database value for property 'OrganizationAssignment.OrganizationId'. The expected type was 'System.Int64' but the actual value was of type 'System.Int32'. ---> System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.Int64'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueException[TValue](Exception exception, Object value, IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   at lambda_method(Closure , ValueBuffer )
   at Microsoft.EntityFrameworkCore.Query.EntityLoadInfo.Materialize()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.GetEntity(IKey key, EntityLoadInfo entityLoadInfo, Boolean queryStateManager, Boolean throwOnNullKey)
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.BufferedEntityShaper`1.Shape(QueryContext queryContext, ValueBuffer valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.InvalidOperationException: An exception occurred while reading a database value for property 'OrganizationAssignment.OrganizationId'. The expected type was 'System.Int64' but the actual value was of type 'System.Int32'. ---> System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.Int64'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueException[TValue](Exception exception, Object value, IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   at lambda_method(Closure , ValueBuffer )
   at Microsoft.EntityFrameworkCore.Query.EntityLoadInfo.Materialize()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.GetEntity(IKey key, EntityLoadInfo entityLoadInfo, Boolean queryStateManager, Boolean throwOnNullKey)
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.BufferedEntityShaper`1.Shape(QueryContext queryContext, ValueBuffer valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-01 17:07:48.078 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 664.11750000000006ms
2018-05-01 17:07:48.320 -07:00 [INF] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:07:48.437 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:07:48.453 -07:00 [INF] Request finished in 1070.9398ms 500 text/html; charset=utf-8
2018-05-01 17:09:06.748 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:09:06.951 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:09:08.987 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:09:09.436 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:09:12.373 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:09:13.118 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3784.8673000000003ms
2018-05-01 17:09:13.134 -07:00 [INF] Request finished in 4150.751ms 200 text/html; charset=utf-8
2018-05-01 17:09:14.403 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:09:14.526 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:09:14.548 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:09:15.238 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:09:15.524 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1072.3024ms
2018-05-01 17:09:15.531 -07:00 [INF] Request finished in 1128.0297ms 200 text/html; charset=utf-8
2018-05-01 17:09:16.837 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:09:16.923 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:09:17.192 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:09:18.365 -07:00 [INF] Executed DbCommand (178ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:09:18.632 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:09:18.764 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:09:18.878 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:09:19.027 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:09:19.144 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:09:19.272 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:09:19.362 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:09:19.456 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:09:19.514 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:09:19.520 -07:00 [INF] User logged in.
2018-05-01 17:09:19.528 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:09:19.533 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2676.3674ms
2018-05-01 17:09:19.541 -07:00 [INF] Request finished in 2705.4962ms 302 
2018-05-01 17:09:19.586 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:09:19.597 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:09:19.603 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:09:19.679 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:09:19.686 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:09:19.703 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 93.2915ms
2018-05-01 17:09:19.711 -07:00 [INF] Request finished in 135.6365ms 200 text/html; charset=utf-8
2018-05-01 17:09:20.427 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:09:20.433 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:09:20.438 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:09:20.472 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:09:20.481 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:09:20.631 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:09:20.762 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:09:20.855 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: An exception occurred while reading a database value for property 'OrganizationAssignment.OrganizationId'. The expected type was 'System.Int64' but the actual value was of type 'System.Int32'. ---> System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.Int64'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueException[TValue](Exception exception, Object value, IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   at lambda_method(Closure , ValueBuffer )
   at Microsoft.EntityFrameworkCore.Query.EntityLoadInfo.Materialize()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.GetEntity(IKey key, EntityLoadInfo entityLoadInfo, Boolean queryStateManager, Boolean throwOnNullKey)
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.BufferedEntityShaper`1.Shape(QueryContext queryContext, ValueBuffer valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.InvalidOperationException: An exception occurred while reading a database value for property 'OrganizationAssignment.OrganizationId'. The expected type was 'System.Int64' but the actual value was of type 'System.Int32'. ---> System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.Int64'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueException[TValue](Exception exception, Object value, IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   at lambda_method(Closure , ValueBuffer )
   at Microsoft.EntityFrameworkCore.Query.EntityLoadInfo.Materialize()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.GetEntity(IKey key, EntityLoadInfo entityLoadInfo, Boolean queryStateManager, Boolean throwOnNullKey)
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.BufferedEntityShaper`1.Shape(QueryContext queryContext, ValueBuffer valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-01 17:09:21.045 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 596.2364ms
2018-05-01 17:09:21.295 -07:00 [INF] Executed DbCommand (161ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:09:21.380 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:09:21.391 -07:00 [INF] Request finished in 964.1102ms 500 text/html; charset=utf-8
2018-05-01 17:09:24.200 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:09:24.209 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:09:24.215 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:09:24.247 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:09:24.254 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:09:24.347 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:09:24.433 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:09:24.494 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: An exception occurred while reading a database value for property 'OrganizationAssignment.OrganizationId'. The expected type was 'System.Int64' but the actual value was of type 'System.Int32'. ---> System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.Int64'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueException[TValue](Exception exception, Object value, IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   at lambda_method(Closure , ValueBuffer )
   at Microsoft.EntityFrameworkCore.Query.EntityLoadInfo.Materialize()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.GetEntity(IKey key, EntityLoadInfo entityLoadInfo, Boolean queryStateManager, Boolean throwOnNullKey)
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.BufferedEntityShaper`1.Shape(QueryContext queryContext, ValueBuffer valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.InvalidOperationException: An exception occurred while reading a database value for property 'OrganizationAssignment.OrganizationId'. The expected type was 'System.Int64' but the actual value was of type 'System.Int32'. ---> System.InvalidCastException: Unable to cast object of type 'System.Int32' to type 'System.Int64'.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueException[TValue](Exception exception, Object value, IPropertyBase property)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.TryReadValue[TValue](ValueBuffer valueBuffer, Int32 index, IPropertyBase property)
   at lambda_method(Closure , ValueBuffer )
   at Microsoft.EntityFrameworkCore.Query.EntityLoadInfo.Materialize()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.GetEntity(IKey key, EntityLoadInfo entityLoadInfo, Boolean queryStateManager, Boolean throwOnNullKey)
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.BufferedEntityShaper`1.Shape(QueryContext queryContext, ValueBuffer valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-01 17:09:24.648 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 426.7355ms
2018-05-01 17:09:24.783 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:09:24.859 -07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:09:24.872 -07:00 [INF] Request finished in 674.3536ms 500 text/html; charset=utf-8
2018-05-01 17:09:24.889 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 17:09:24.901 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 17:09:24.914 -07:00 [INF] Request finished in 27.027ms 200 image/x-icon
2018-05-01 17:12:08.073 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:12:08.155 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:12:08.448 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:12:09.194 -07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:12:09.258 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:12:09.310 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:12:09.323 -07:00 [INF] Applying migration '20180502000955_FixOrgAssignmentKey'.
2018-05-01 17:12:09.464 -07:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [OrganizationAssignments] DROP CONSTRAINT [FK_OrganizationAssignments_Organization_OrganizationId1];
2018-05-01 17:12:09.519 -07:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_OrganizationAssignments_OrganizationId1] ON [OrganizationAssignments];
2018-05-01 17:12:09.611 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'OrganizationAssignments') AND [c].[name] = N'OrganizationId1');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [OrganizationAssignments] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [OrganizationAssignments] DROP COLUMN [OrganizationId1];
2018-05-01 17:12:09.733 -07:00 [ERR] Failed executing DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'OrganizationAssignments') AND [c].[name] = N'OrganizationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [OrganizationAssignments] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [OrganizationAssignments] ALTER COLUMN [OrganizationId] bigint NOT NULL;
System.Data.SqlClient.SqlException (0x80131904): The object 'PK_OrganizationAssignments' is dependent on column 'OrganizationId'.
ALTER TABLE ALTER COLUMN OrganizationId failed because one or more objects access this column.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:cb621d7e-ca63-4eeb-a863-140c9818fa6d
Error Number:5074,State:1,Class:16
2018-05-01 17:12:35.052 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:12:35.139 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:12:35.443 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:12:36.190 -07:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:12:36.255 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:12:36.309 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:12:36.313 -07:00 [INF] Applying migration '20180502000955_FixOrgAssignmentKey'.
2018-05-01 17:12:36.453 -07:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [OrganizationAssignments] DROP CONSTRAINT [FK_OrganizationAssignments_Organization_OrganizationId1];
2018-05-01 17:12:36.508 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_OrganizationAssignments_OrganizationId1] ON [OrganizationAssignments];
2018-05-01 17:12:36.566 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'OrganizationAssignments') AND [c].[name] = N'OrganizationId1');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [OrganizationAssignments] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [OrganizationAssignments] DROP COLUMN [OrganizationId1];
2018-05-01 17:12:36.648 -07:00 [ERR] Failed executing DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'OrganizationAssignments') AND [c].[name] = N'OrganizationId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [OrganizationAssignments] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [OrganizationAssignments] ALTER COLUMN [OrganizationId] bigint NOT NULL;
System.Data.SqlClient.SqlException (0x80131904): The object 'PK_OrganizationAssignments' is dependent on column 'OrganizationId'.
ALTER TABLE ALTER COLUMN OrganizationId failed because one or more objects access this column.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:0bb0b59f-a483-4261-b23b-906b541fd5fb
Error Number:5074,State:1,Class:16
2018-05-01 17:12:52.204 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:12:52.271 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:12:52.566 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:14:12.503 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:14:12.572 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:14:12.867 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:14:13.637 -07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:14:13.705 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:14:13.761 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:14:13.800 -07:00 [INF] Reverting migration '20180428002509_AddOrgTable'.
2018-05-01 17:14:13.925 -07:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [OrganizationAssignments];
2018-05-01 17:14:13.980 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Organization];
2018-05-01 17:14:14.042 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Organization] nvarchar(max) NOT NULL DEFAULT N'';
2018-05-01 17:14:14.094 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20180428002509_AddOrgTable';
2018-05-01 17:14:28.939 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:14:29.007 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:14:29.312 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:14:30.106 -07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:14:30.173 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:14:40.649 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:14:40.717 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:14:41.019 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:14:41.795 -07:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:14:41.856 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:14:54.443 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:14:54.513 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:14:54.816 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:15:19.484 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:15:19.549 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:15:19.841 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:15:38.731 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:15:38.814 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:15:39.111 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:15:39.873 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:15:39.936 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-01 17:15:39.989 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-01 17:15:39.994 -07:00 [INF] Applying migration '20180502001519_AddOrgAssignments'.
2018-05-01 17:15:40.141 -07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'AspNetUsers') AND [c].[name] = N'Organization');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [Organization];
2018-05-01 17:15:40.197 -07:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Organization] (
    [Id] bigint NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Organization] PRIMARY KEY ([Id])
);
2018-05-01 17:15:40.253 -07:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserSelectedViewModel] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Selected] bit NOT NULL,
    CONSTRAINT [PK_UserSelectedViewModel] PRIMARY KEY ([Id])
);
2018-05-01 17:15:40.315 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OrganizationAssignments] (
    [OrganizationId] bigint NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_OrganizationAssignments] PRIMARY KEY ([OrganizationId], [UserId]),
    CONSTRAINT [FK_OrganizationAssignments_Organization_OrganizationId] FOREIGN KEY ([OrganizationId]) REFERENCES [Organization] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_OrganizationAssignments_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2018-05-01 17:15:40.369 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OrganizationAssignments_UserId] ON [OrganizationAssignments] ([UserId]);
2018-05-01 17:15:40.421 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180502001519_AddOrgAssignments', N'2.0.2-rtm-10011');
2018-05-01 17:15:51.092 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:15:51.415 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:15:53.645 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:15:54.165 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:15:57.031 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:15:57.934 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3917.3887ms
2018-05-01 17:15:57.950 -07:00 [INF] Request finished in 4311.4379ms 200 text/html; charset=utf-8
2018-05-01 17:15:59.517 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:15:59.675 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:15:59.721 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:16:00.492 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:16:00.828 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1262.6022ms
2018-05-01 17:16:00.838 -07:00 [INF] Request finished in 1318.7573ms 200 text/html; charset=utf-8
2018-05-01 17:16:02.169 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:16:02.273 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:16:02.488 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:03.636 -07:00 [INF] Executed DbCommand (190ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:16:03.935 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:16:04.097 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:16:04.237 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:16:04.391 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:16:04.510 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:16:04.636 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:16:04.753 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:16:04.872 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:16:04.942 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:16:04.951 -07:00 [INF] User logged in.
2018-05-01 17:16:04.961 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:16:04.970 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2779.2513000000004ms
2018-05-01 17:16:04.980 -07:00 [INF] Request finished in 2811.3622ms 302 
2018-05-01 17:16:04.995 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:16:05.009 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:05.017 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:05.120 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:16:05.132 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:16:05.167 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 137.3399ms
2018-05-01 17:16:05.179 -07:00 [INF] Request finished in 182.9918ms 200 text/html; charset=utf-8
2018-05-01 17:16:06.328 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:16:06.334 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:06.339 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:06.376 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:16:06.386 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:06.563 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:16:06.869 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:16:06.900 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 545.04000000000008ms
2018-05-01 17:16:06.912 -07:00 [INF] Request finished in 580.4275ms 200 text/html; charset=utf-8
2018-05-01 17:16:08.929 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Create  
2018-05-01 17:16:08.935 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:08.940 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:08.972 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:16:09.181 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Create.cshtml.
2018-05-01 17:16:09.213 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) in 263.7857ms
2018-05-01 17:16:09.223 -07:00 [INF] Request finished in 292.7051ms 200 text/html; charset=utf-8
2018-05-01 17:16:14.930 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Create application/x-www-form-urlencoded 260
2018-05-01 17:16:14.936 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:14.941 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:15.014 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) with arguments (["IdentityServer.Models.Organization"]) - ModelState is "Valid"
2018-05-01 17:16:15.026 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:15.330 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Organization] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Organization]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2018-05-01 17:16:15.419 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-01 17:16:15.431 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) in 465.7594ms
2018-05-01 17:16:15.443 -07:00 [INF] Request finished in 509.8273ms 302 
2018-05-01 17:16:15.460 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:16:15.472 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:15.481 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:15.559 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:16:15.572 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:15.704 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:16:15.868 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:16:15.885 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:16:15.917 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 423.8449ms
2018-05-01 17:16:15.931 -07:00 [INF] Request finished in 470.0198ms 200 text/html; charset=utf-8
2018-05-01 17:16:17.567 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:16:17.573 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:17.578 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:17.625 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:16:17.642 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:17.664 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 17:16:17.841 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:16:17.989 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:16:18.296 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:16:18.764 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1169.9461000000001ms
2018-05-01 17:16:18.777 -07:00 [INF] Request finished in 1206.6642ms 200 text/html; charset=utf-8
2018-05-01 17:16:22.474 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 833
2018-05-01 17:16:22.481 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:22.486 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:22.539 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel"]) - ModelState is "Valid"
2018-05-01 17:16:37.875 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:38.017 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:16:38.148 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:16:38.362 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p2, @p3);
2018-05-01 17:16:38.427 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-01 17:16:38.435 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 15936.777100000001ms
2018-05-01 17:16:38.444 -07:00 [INF] Request finished in 15969.5376ms 302 
2018-05-01 17:16:38.458 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:16:38.465 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:38.478 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:38.550 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:16:38.557 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:38.730 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:16:38.868 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:16:38.881 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:16:38.892 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 406.8657ms
2018-05-01 17:16:38.901 -07:00 [INF] Request finished in 442.4605ms 200 text/html; charset=utf-8
2018-05-01 17:16:41.645 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:16:41.651 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:41.655 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:16:41.709 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:16:41.721 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:16:41.867 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:16:41.987 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:16:42.222 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:16:42.466 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 798.4076ms
2018-05-01 17:16:42.554 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore._Views_Organizations_Details_cshtml.<ExecuteAsync>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Details.cshtml:line 25
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 17:16:42.739 -07:00 [INF] Request finished in 1093.6006ms 500 text/html; charset=utf-8
2018-05-01 17:21:08.649 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:21:08.855 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:21:10.918 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:21:11.380 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:21:14.192 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:21:15.009 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3728.201ms
2018-05-01 17:21:15.030 -07:00 [INF] Request finished in 4113.8778ms 200 text/html; charset=utf-8
2018-05-01 17:21:26.737 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:21:26.867 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:21:26.891 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:21:27.650 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:21:27.995 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1198.7579ms
2018-05-01 17:21:28.004 -07:00 [INF] Request finished in 1266.2606ms 200 text/html; charset=utf-8
2018-05-01 17:21:29.201 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:21:29.287 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:21:29.521 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:21:30.600 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:21:30.870 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:21:31.005 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:21:31.159 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:21:31.316 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:21:31.411 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:21:31.511 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:21:31.603 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:21:31.699 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:21:31.760 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:21:31.767 -07:00 [INF] User logged in.
2018-05-01 17:21:31.775 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:21:31.782 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2560.8529000000003ms
2018-05-01 17:21:31.790 -07:00 [INF] Request finished in 2589.1924ms 302 
2018-05-01 17:21:31.800 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:21:31.811 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:31.818 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:31.897 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:21:31.904 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:21:31.920 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 95.220800000000011ms
2018-05-01 17:21:31.926 -07:00 [INF] Request finished in 126.054ms 200 text/html; charset=utf-8
2018-05-01 17:21:33.360 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:21:33.367 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:33.372 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:33.410 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:21:33.421 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:21:33.620 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:21:33.805 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:21:34.084 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:21:34.135 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 748.4536ms
2018-05-01 17:21:34.146 -07:00 [INF] Request finished in 784.6441ms 200 text/html; charset=utf-8
2018-05-01 17:21:35.457 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:21:35.462 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:35.467 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:35.506 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:21:35.518 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:21:35.666 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:21:35.800 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:21:36.118 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:21:36.171 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 690.0546ms
2018-05-01 17:21:36.182 -07:00 [INF] Request finished in 723.4806ms 200 text/html; charset=utf-8
2018-05-01 17:21:57.420 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:21:57.428 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:57.434 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:21:57.466 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:21:57.473 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:21:57.563 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:21:57.660 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:21:57.666 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:25:10.889 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:25:11.197 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:25:13.159 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:25:13.608 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:25:16.622 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:25:17.478 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3983.6552ms
2018-05-01 17:25:17.493 -07:00 [INF] Request finished in 4351.0479ms 200 text/html; charset=utf-8
2018-05-01 17:25:47.455 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:25:47.768 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:25:47.807 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:25:48.527 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:25:48.818 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1270.0918000000001ms
2018-05-01 17:25:48.829 -07:00 [INF] Request finished in 1375.1764ms 200 text/html; charset=utf-8
2018-05-01 17:25:49.859 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:25:49.964 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:25:50.202 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:25:51.308 -07:00 [INF] Executed DbCommand (189ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:25:51.614 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:25:51.778 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:25:51.931 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:25:52.103 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:25:52.221 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:25:52.337 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:25:52.451 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:25:52.561 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:25:52.613 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:25:52.621 -07:00 [INF] User logged in.
2018-05-01 17:25:52.628 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:25:52.634 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2755.6441ms
2018-05-01 17:25:52.641 -07:00 [INF] Request finished in 2782.3486ms 302 
2018-05-01 17:25:52.651 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:25:52.662 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:25:52.670 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:25:52.768 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:25:52.775 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:25:52.795 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 115.87060000000001ms
2018-05-01 17:25:52.803 -07:00 [INF] Request finished in 151.5161ms 200 text/html; charset=utf-8
2018-05-01 17:25:54.160 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:25:54.166 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:25:54.171 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:25:54.217 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:25:54.228 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:25:54.405 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:25:54.581 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:25:54.834 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:25:54.869 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 683.37290000000007ms
2018-05-01 17:25:54.880 -07:00 [INF] Request finished in 718.4204ms 200 text/html; charset=utf-8
2018-05-01 17:25:56.569 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:25:56.575 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:25:56.580 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:25:56.622 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:25:56.633 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:25:56.783 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:25:56.919 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:25:57.177 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:25:57.211 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 617.3144ms
2018-05-01 17:25:57.221 -07:00 [INF] Request finished in 651.5227ms 200 text/html; charset=utf-8
2018-05-01 17:26:06.014 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:26:06.021 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:26:06.026 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:26:06.054 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:26:06.060 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:26:06.175 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:26:06.290 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:26:06.301 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:26:06.313 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 279.7078ms
2018-05-01 17:26:06.324 -07:00 [INF] Request finished in 307.213ms 200 text/html; charset=utf-8
2018-05-01 17:26:07.655 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:26:07.661 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:26:07.666 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:26:07.697 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:26:07.704 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:26:07.815 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:26:07.928 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:26:07.938 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:26:21.343 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 13671.7487ms
2018-05-01 17:26:21.347 -07:00 [INF] Request finished in 13693.0021ms 200 text/html; charset=utf-8
2018-05-01 17:27:34.708 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:27:34.922 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:27:36.946 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:27:37.395 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:27:40.249 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:27:41.007 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3715.5173ms
2018-05-01 17:27:41.019 -07:00 [INF] Request finished in 4079.663ms 200 text/html; charset=utf-8
2018-05-01 17:27:46.435 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:27:46.548 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:27:46.569 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:27:47.211 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:27:47.490 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1008.6714000000001ms
2018-05-01 17:27:47.497 -07:00 [INF] Request finished in 1062.6511ms 200 text/html; charset=utf-8
2018-05-01 17:27:48.594 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:27:48.679 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:27:48.901 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:27:50.026 -07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:27:50.356 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:27:50.488 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:27:50.600 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:27:50.726 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:27:50.824 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:27:50.922 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:27:51.014 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:27:51.117 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:27:51.206 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:27:51.218 -07:00 [INF] User logged in.
2018-05-01 17:27:51.229 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:27:51.238 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2619.1795ms
2018-05-01 17:27:51.248 -07:00 [INF] Request finished in 2654.1257ms 302 
2018-05-01 17:27:51.257 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:27:51.268 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:51.275 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:51.354 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:27:51.360 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:27:51.377 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.4467ms
2018-05-01 17:27:51.384 -07:00 [INF] Request finished in 126.9795ms 200 text/html; charset=utf-8
2018-05-01 17:27:52.001 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:27:52.007 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:52.013 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:52.049 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:27:52.062 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:27:52.240 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:27:52.375 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:27:52.615 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:27:52.647 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 622.0737ms
2018-05-01 17:27:52.655 -07:00 [INF] Request finished in 654.6121ms 200 text/html; charset=utf-8
2018-05-01 17:27:54.954 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:27:54.959 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:54.964 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:55.007 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:27:55.020 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:27:55.038 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 17:27:55.205 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:27:55.313 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:27:55.660 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:27:56.093 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1110.4669000000001ms
2018-05-01 17:27:56.105 -07:00 [INF] Request finished in 1150.2892ms 200 text/html; charset=utf-8
2018-05-01 17:27:59.959 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:27:59.965 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:59.970 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:27:59.999 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:28:00.006 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:28:00.103 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:28:00.222 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:28:00.237 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:28:00.248 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 272.3992ms
2018-05-01 17:28:00.256 -07:00 [INF] Request finished in 296.2085ms 200 text/html; charset=utf-8
2018-05-01 17:28:01.136 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:28:01.142 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:28:01.147 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:28:01.183 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:28:01.193 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:28:01.296 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 137.5713ms
2018-05-01 17:28:01.385 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationAssignments/ApplicationUsers' is not a navigation property of entity type 'Organization'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at IdentityServer.Controllers.OrganizationsController.<Details>d__3.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 17:28:01.564 -07:00 [INF] Request finished in 428.6029ms 500 text/html; charset=utf-8
2018-05-01 17:30:13.372 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:30:13.730 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:30:16.239 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:30:16.729 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:30:19.679 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:30:20.487 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3883.2683ms
2018-05-01 17:30:20.499 -07:00 [INF] Request finished in 4279.5949ms 200 text/html; charset=utf-8
2018-05-01 17:30:22.424 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:30:22.546 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:30:22.569 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:30:23.256 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:30:23.527 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1055.954ms
2018-05-01 17:30:23.532 -07:00 [INF] Request finished in 1108.6505ms 200 text/html; charset=utf-8
2018-05-01 17:30:24.785 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:30:24.888 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:30:25.167 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:30:26.317 -07:00 [INF] Executed DbCommand (203ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:30:26.584 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:30:26.716 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:30:26.843 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:30:26.972 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:30:27.080 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:30:27.203 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:30:27.317 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:30:27.410 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:30:27.466 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:30:27.471 -07:00 [INF] User logged in.
2018-05-01 17:30:27.478 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:30:27.484 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2680.5764ms
2018-05-01 17:30:27.491 -07:00 [INF] Request finished in 2706.9091ms 302 
2018-05-01 17:30:27.498 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:30:27.509 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:30:27.514 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:30:27.592 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:30:27.599 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:30:27.617 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 95.0026ms
2018-05-01 17:30:27.624 -07:00 [INF] Request finished in 124.3456ms 200 text/html; charset=utf-8
2018-05-01 17:30:29.752 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:30:29.757 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:30:29.762 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:30:29.797 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:30:29.804 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:30:29.967 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:30:30.102 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:30:30.430 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:30:30.461 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 687.7083ms
2018-05-01 17:30:30.467 -07:00 [INF] Request finished in 715.9248ms 200 text/html; charset=utf-8
2018-05-01 17:30:31.961 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:30:31.967 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:30:31.972 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:30:32.014 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:30:32.025 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:30:32.203 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 216.29440000000002ms
2018-05-01 17:30:32.295 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property expression 'o => {from OrganizationAssignment oa in o.OrganizationAssignments select [oa].User}' is not valid. The expression should represent a property access: 't => t.MyProperty'. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeExpressionNode.CreateResultOperator(ClauseGenerationContext clauseGenerationContext)
   at Remotion.Linq.Parsing.Structure.IntermediateModel.ResultOperatorExpressionNodeBase.ApplyNodeSpecificSemantics(QueryModel queryModel, ClauseGenerationContext clauseGenerationContext)
   at Remotion.Linq.Parsing.Structure.IntermediateModel.MethodCallExpressionNodeBase.Apply(QueryModel queryModel, ClauseGenerationContext clauseGenerationContext)
   at Remotion.Linq.Parsing.Structure.QueryParser.ApplyAllNodes(IExpressionNode node, ClauseGenerationContext clauseGenerationContext)
   at Remotion.Linq.Parsing.Structure.QueryParser.ApplyAllNodes(IExpressionNode node, ClauseGenerationContext clauseGenerationContext)
   at Remotion.Linq.Parsing.Structure.QueryParser.GetParsedQuery(Expression expressionTreeRoot)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at IdentityServer.Controllers.OrganizationsController.<Details>d__3.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\OrganizationsController.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 17:30:32.475 -07:00 [INF] Request finished in 514.4539ms 500 text/html; charset=utf-8
2018-05-01 17:34:47.091 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:34:47.320 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:34:49.517 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:34:49.982 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:34:52.787 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:34:53.582 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3719.3528ms
2018-05-01 17:34:53.593 -07:00 [INF] Request finished in 4081.9121ms 200 text/html; charset=utf-8
2018-05-01 17:34:55.822 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:34:55.938 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:34:55.959 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:34:56.637 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:34:56.976 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1107.1287ms
2018-05-01 17:34:56.983 -07:00 [INF] Request finished in 1160.0984ms 200 text/html; charset=utf-8
2018-05-01 17:34:57.961 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:34:58.045 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:34:58.285 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:34:59.389 -07:00 [INF] Executed DbCommand (183ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:34:59.651 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:34:59.796 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:34:59.907 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:35:00.032 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:35:00.138 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:35:00.262 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:35:00.348 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:35:00.439 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:35:00.493 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:35:00.499 -07:00 [INF] User logged in.
2018-05-01 17:35:00.506 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:35:00.512 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2528.2911ms
2018-05-01 17:35:00.520 -07:00 [INF] Request finished in 2559.7536ms 302 
2018-05-01 17:35:00.529 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:35:00.540 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:00.546 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:00.623 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:35:00.630 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:35:00.647 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 94.1581ms
2018-05-01 17:35:00.655 -07:00 [INF] Request finished in 124.7665ms 200 text/html; charset=utf-8
2018-05-01 17:35:01.974 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:35:01.980 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:01.985 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:02.018 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:35:02.027 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:35:02.214 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:35:02.355 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:35:02.615 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:35:02.647 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 649.0705ms
2018-05-01 17:35:02.654 -07:00 [INF] Request finished in 679.5292ms 200 text/html; charset=utf-8
2018-05-01 17:35:04.448 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:35:04.454 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:04.459 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:04.495 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:35:04.503 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:35:04.647 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:35:04.751 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:35:05.039 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:35:05.092 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 620.0974ms
2018-05-01 17:35:05.102 -07:00 [INF] Request finished in 652.2652ms 200 text/html; charset=utf-8
2018-05-01 17:35:24.054 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:35:24.065 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:24.075 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:35:24.119 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:35:24.130 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:35:24.228 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:35:24.318 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:35:24.480 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:35:24.502 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 416.9155ms
2018-05-01 17:35:24.509 -07:00 [INF] Request finished in 458.2178ms 200 text/html; charset=utf-8
2018-05-01 17:35:24.581 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 17:35:24.589 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 17:35:24.600 -07:00 [INF] Request finished in 19.3221ms 200 image/x-icon
2018-05-01 17:37:41.653 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:37:41.658 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:37:41.662 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:37:41.691 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:37:41.698 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:37:42.153 -07:00 [INF] Executed DbCommand (444ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:37:42.266 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:37:42.447 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:37:42.468 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 800.9217ms
2018-05-01 17:37:42.474 -07:00 [INF] Request finished in 821.2609ms 200 text/html; charset=utf-8
2018-05-01 17:37:42.546 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 17:37:42.551 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 17:37:42.559 -07:00 [INF] Request finished in 12.2357ms 200 image/x-icon
2018-05-01 17:38:02.718 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:38:02.723 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:38:02.727 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:38:02.743 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:38:02.772 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:38:02.780 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:38:02.902 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:38:03.007 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:38:03.312 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:38:03.388 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 648.88920000000007ms
2018-05-01 17:38:03.395 -07:00 [INF] Request finished in 677.209ms 200 text/html; charset=utf-8
2018-05-01 17:38:05.177 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:38:05.183 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:38:05.188 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:38:05.200 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:38:05.232 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:38:05.241 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:38:05.357 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:38:05.462 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:38:05.730 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-01 17:38:05.928 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 729.577ms
2018-05-01 17:38:06.005 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore._Views_ApplicationUsers_Details_cshtml.<ExecuteAsync>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Details.cshtml:line 35
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 17:38:06.193 -07:00 [INF] Request finished in 1015.0453ms 500 text/html; charset=utf-8
2018-05-01 17:43:26.979 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:43:27.338 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:43:29.737 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:43:30.156 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:43:33.042 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:43:33.913 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3884.4883ms
2018-05-01 17:43:33.927 -07:00 [INF] Request finished in 4193.9565ms 200 text/html; charset=utf-8
2018-05-01 17:43:41.720 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:43:41.902 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:43:41.945 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:43:42.578 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:43:42.886 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1116.4456ms
2018-05-01 17:43:42.893 -07:00 [INF] Request finished in 1172.1814ms 200 text/html; charset=utf-8
2018-05-01 17:43:44.467 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:43:44.592 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:43:44.817 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:43:45.967 -07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:43:46.291 -07:00 [INF] Executed DbCommand (163ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:43:46.426 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:43:46.545 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:43:46.728 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:43:46.848 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:43:46.969 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:43:47.091 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:43:47.214 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:43:47.300 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:43:47.311 -07:00 [INF] User logged in.
2018-05-01 17:43:47.325 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:43:47.336 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2847.5339000000004ms
2018-05-01 17:43:47.351 -07:00 [INF] Request finished in 2883.4467ms 302 
2018-05-01 17:43:47.364 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:43:47.382 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:47.389 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:47.470 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:43:47.477 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:43:47.503 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 104.22ms
2018-05-01 17:43:47.509 -07:00 [INF] Request finished in 145.8837ms 200 text/html; charset=utf-8
2018-05-01 17:43:49.599 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:43:49.605 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:49.612 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:49.650 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:43:49.665 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:43:49.831 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:43:49.963 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:43:50.311 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:43:50.347 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 720.13510000000008ms
2018-05-01 17:43:50.358 -07:00 [INF] Request finished in 756.3263ms 200 text/html; charset=utf-8
2018-05-01 17:43:52.456 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:43:52.461 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:52.466 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:52.510 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:43:52.521 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:43:52.686 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:43:52.813 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:43:53.099 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:43:53.153 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 671.7457ms
2018-05-01 17:43:53.166 -07:00 [INF] Request finished in 707.6552ms 200 text/html; charset=utf-8
2018-05-01 17:43:56.583 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:43:56.589 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:56.594 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:56.612 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:43:56.664 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:43:56.675 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:43:56.818 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:43:56.935 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:43:57.213 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:43:57.293 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 686.86380000000008ms
2018-05-01 17:43:57.299 -07:00 [INF] Request finished in 716.977ms 200 text/html; charset=utf-8
2018-05-01 17:43:58.984 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:43:58.989 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:58.995 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:43:59.006 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:43:59.037 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:43:59.053 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:43:59.217 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:43:59.330 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:43:59.540 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-01 17:43:59.579 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 573.3364ms
2018-05-01 17:43:59.585 -07:00 [INF] Request finished in 601.8435ms 200 text/html; charset=utf-8
2018-05-01 17:44:06.614 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:44:06.620 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:06.625 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:06.654 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:44:06.659 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:44:06.752 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:44:06.862 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:44:06.873 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:44:06.885 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 252.21900000000002ms
2018-05-01 17:44:06.894 -07:00 [INF] Request finished in 279.3079ms 200 text/html; charset=utf-8
2018-05-01 17:44:08.814 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:44:08.820 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:08.825 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:08.865 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:44:08.876 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:44:08.891 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 17:44:09.057 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:44:09.199 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:44:09.465 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:44:09.900 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1058.0564ms
2018-05-01 17:44:09.910 -07:00 [INF] Request finished in 1095.2468ms 200 text/html; charset=utf-8
2018-05-01 17:44:13.692 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:44:13.699 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:13.704 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:13.734 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:44:13.739 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:44:13.831 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:44:13.916 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:44:13.922 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:44:13.932 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 221.1952ms
2018-05-01 17:44:13.938 -07:00 [INF] Request finished in 245.7026ms 200 text/html; charset=utf-8
2018-05-01 17:44:17.255 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:44:17.261 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:17.266 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:17.271 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:44:17.305 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:44:17.315 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:44:17.435 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:44:17.558 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:44:17.572 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:44:17.623 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 346.3116ms
2018-05-01 17:44:17.633 -07:00 [INF] Request finished in 376.7427ms 200 text/html; charset=utf-8
2018-05-01 17:44:20.744 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:44:20.750 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:20.756 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:44:20.769 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:44:20.834 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:44:20.853 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:44:20.993 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:44:21.080 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:44:21.473 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 702.316ms
2018-05-01 17:44:21.565 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
adbjlw4n.q25(1131,908): error CS1031: Type expected
adbjlw4n.q25(1131,1107): error CS1031: Type expected
adbjlw4n.q25(1131,1306): error CS1031: Type expected
adbjlw4n.q25(1131,963): error CS1061: 'ApplicationUser' does not contain a definition for 'Organization' and no extension method 'Organization' accepting a first argument of type 'ApplicationUser' could be found (are you missing a using directive or an assembly reference?)
adbjlw4n.q25(1131,1162): error CS1061: 'ApplicationUser' does not contain a definition for 'Organization' and no extension method 'Organization' accepting a first argument of type 'ApplicationUser' could be found (are you missing a using directive or an assembly reference?)
adbjlw4n.q25(1131,1361): error CS1061: 'ApplicationUser' does not contain a definition for 'Organization' and no extension method 'Organization' accepting a first argument of type 'ApplicationUser' could be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 17:44:21.688 -07:00 [INF] Request finished in 943.4838ms 500 text/html; charset=utf-8
2018-05-01 17:45:30.362 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:45:30.370 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:30.376 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:30.382 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:45:30.414 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:45:30.421 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:45:30.513 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:45:30.600 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:45:31.156 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-01 17:45:31.284 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 899.9297ms
2018-05-01 17:45:31.294 -07:00 [INF] Request finished in 932.1876ms 200 text/html; charset=utf-8
2018-05-01 17:45:31.399 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 17:45:31.408 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 17:45:31.416 -07:00 [INF] Request finished in 18.3049ms 200 image/x-icon
2018-05-01 17:45:39.813 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:45:39.819 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:39.824 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:39.854 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:45:39.859 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:45:39.951 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:45:40.065 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:45:40.078 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:45:40.096 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 262.43100000000004ms
2018-05-01 17:45:40.110 -07:00 [INF] Request finished in 293.1563ms 200 text/html; charset=utf-8
2018-05-01 17:45:41.255 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:45:41.260 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:41.264 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:41.295 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:45:41.302 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:45:41.396 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:45:41.485 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:45:41.492 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:45:41.504 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 233.23610000000002ms
2018-05-01 17:45:41.511 -07:00 [INF] Request finished in 255.418ms 200 text/html; charset=utf-8
2018-05-01 17:45:42.806 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:45:42.811 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:42.815 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:42.843 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:45:42.847 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:45:42.937 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:45:43.026 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:45:43.035 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:45:43.047 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 226.0447ms
2018-05-01 17:45:43.058 -07:00 [INF] Request finished in 250.9012ms 200 text/html; charset=utf-8
2018-05-01 17:45:43.944 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:45:43.950 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:43.955 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:43.984 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:45:43.992 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:45:44.088 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:45:44.203 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:45:44.217 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:45:44.251 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 290.0051ms
2018-05-01 17:45:44.256 -07:00 [INF] Request finished in 313.2161ms 200 text/html; charset=utf-8
2018-05-01 17:45:46.485 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:45:46.491 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:46.496 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:45:46.526 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:45:46.532 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:45:46.629 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:45:46.714 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:45:46.723 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:45:46.765 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 262.6838ms
2018-05-01 17:45:46.773 -07:00 [INF] Request finished in 286.7153ms 200 text/html; charset=utf-8
2018-05-01 17:54:52.734 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:54:52.954 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:54:54.970 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:54:55.468 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:54:58.469 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:54:59.261 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3903.018ms
2018-05-01 17:54:59.275 -07:00 [INF] Request finished in 4317.4096ms 200 text/html; charset=utf-8
2018-05-01 17:55:00.711 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:55:00.860 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:55:00.885 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:55:01.511 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:55:01.808 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1043.5323ms
2018-05-01 17:55:01.817 -07:00 [INF] Request finished in 1105.8646ms 200 text/html; charset=utf-8
2018-05-01 17:55:02.873 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:55:02.960 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:55:03.186 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:55:04.348 -07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:55:04.711 -07:00 [INF] Executed DbCommand (171ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:55:04.846 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:55:04.965 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:55:05.095 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:55:05.208 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:55:05.314 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:55:05.418 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:55:05.514 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:55:05.580 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:55:05.587 -07:00 [INF] User logged in.
2018-05-01 17:55:05.594 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:55:05.600 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2703.5222000000003ms
2018-05-01 17:55:05.608 -07:00 [INF] Request finished in 2736.7441ms 302 
2018-05-01 17:55:05.619 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:55:05.629 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:05.635 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:05.711 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:55:05.718 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:55:05.736 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 92.819200000000009ms
2018-05-01 17:55:05.745 -07:00 [INF] Request finished in 125.4623ms 200 text/html; charset=utf-8
2018-05-01 17:55:07.048 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:55:07.055 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:07.061 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:07.100 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:55:07.113 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:55:07.288 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:55:07.428 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:55:07.672 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:55:07.704 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 629.8674ms
2018-05-01 17:55:07.713 -07:00 [INF] Request finished in 664.7307ms 200 text/html; charset=utf-8
2018-05-01 17:55:09.127 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:55:09.134 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:09.140 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:09.179 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:55:09.190 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:55:09.324 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:55:09.420 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:55:09.674 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:55:09.707 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 550.8083ms
2018-05-01 17:55:09.716 -07:00 [INF] Request finished in 588.3199ms 200 text/html; charset=utf-8
2018-05-01 17:55:11.038 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:55:11.044 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:11.049 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:11.089 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:55:11.104 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:55:11.136 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 17:55:11.295 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:55:11.401 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:55:11.627 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:55:12.027 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 963.98120000000006ms
2018-05-01 17:55:12.036 -07:00 [INF] Request finished in 997.2489ms 200 text/html; charset=utf-8
2018-05-01 17:55:14.674 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 811
2018-05-01 17:55:14.682 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:14.690 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:55:14.747 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-01 17:56:53.195 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 17:56:53.446 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 17:56:55.497 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:56:55.959 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:56:58.817 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:56:59.746 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3912.8516ms
2018-05-01 17:56:59.757 -07:00 [INF] Request finished in 4266.0348ms 200 text/html; charset=utf-8
2018-05-01 17:57:19.907 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 17:57:20.136 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 17:57:20.179 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 17:57:20.888 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 17:57:21.298 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1307.944ms
2018-05-01 17:57:21.306 -07:00 [INF] Request finished in 1398.5724ms 200 text/html; charset=utf-8
2018-05-01 17:57:22.537 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 17:57:22.646 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 17:57:22.886 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:24.049 -07:00 [INF] Executed DbCommand (172ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 17:57:24.378 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 17:57:24.514 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 17:57:24.626 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:57:24.762 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:57:24.858 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:57:24.954 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:57:25.049 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 17:57:25.167 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 17:57:25.275 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 17:57:25.284 -07:00 [INF] User logged in.
2018-05-01 17:57:25.297 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 17:57:25.309 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2749.4795ms
2018-05-01 17:57:25.325 -07:00 [INF] Request finished in 2786.3269ms 302 
2018-05-01 17:57:25.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 17:57:25.364 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:25.375 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:25.481 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:25.491 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 17:57:25.524 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 137.0138ms
2018-05-01 17:57:25.535 -07:00 [INF] Request finished in 193.0446ms 200 text/html; charset=utf-8
2018-05-01 17:57:27.150 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:57:27.156 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:27.162 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:27.197 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:27.205 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:27.387 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:57:27.559 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:27.911 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:57:27.949 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 772.35480000000007ms
2018-05-01 17:57:27.956 -07:00 [INF] Request finished in 806.0483ms 200 text/html; charset=utf-8
2018-05-01 17:57:29.630 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:57:29.636 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:29.641 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:29.681 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:57:29.693 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:29.851 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:29.985 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:30.348 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:57:30.381 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 728.0585ms
2018-05-01 17:57:30.388 -07:00 [INF] Request finished in 758.9582ms 200 text/html; charset=utf-8
2018-05-01 17:57:32.005 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:57:32.010 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:32.016 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:32.033 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:57:32.065 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:32.075 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:32.215 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:57:32.347 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:32.587 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:57:32.663 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 635.546ms
2018-05-01 17:57:32.669 -07:00 [INF] Request finished in 664.9436ms 200 text/html; charset=utf-8
2018-05-01 17:57:34.847 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:57:34.853 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:34.859 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:34.871 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:57:34.904 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:57:34.918 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:35.039 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:35.155 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:35.433 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-01 17:57:35.475 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 603.4878ms
2018-05-01 17:57:35.483 -07:00 [INF] Request finished in 635.7233ms 200 text/html; charset=utf-8
2018-05-01 17:57:37.948 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:57:37.954 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:37.959 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:37.964 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:57:37.995 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:38.003 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:38.100 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:57:38.214 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:38.228 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:57:38.268 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 300.9135ms
2018-05-01 17:57:38.277 -07:00 [INF] Request finished in 328.7018ms 200 text/html; charset=utf-8
2018-05-01 17:57:39.439 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:57:39.444 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:39.449 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:39.460 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:57:39.492 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:57:39.501 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:39.621 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:39.730 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:40.213 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-01 17:57:40.330 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 867.4851ms
2018-05-01 17:57:40.339 -07:00 [INF] Request finished in 898.5447ms 200 text/html; charset=utf-8
2018-05-01 17:57:41.948 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:57:41.954 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:41.959 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:41.964 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:57:42.004 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:42.012 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:42.109 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:57:42.224 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:42.234 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:57:42.278 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 310.4048ms
2018-05-01 17:57:42.283 -07:00 [INF] Request finished in 335.9051ms 200 text/html; charset=utf-8
2018-05-01 17:57:44.494 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:57:44.500 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:44.505 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:44.535 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:44.543 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:44.637 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:57:44.723 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:44.731 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:57:44.740 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 228.9787ms
2018-05-01 17:57:44.747 -07:00 [INF] Request finished in 253.5147ms 200 text/html; charset=utf-8
2018-05-01 17:57:46.150 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:57:46.156 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:46.161 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:46.214 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:57:46.238 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:46.261 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-01 17:57:46.437 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:57:46.549 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:57:46.805 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:57:47.057 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 880.0967ms
2018-05-01 17:57:47.069 -07:00 [INF] Request finished in 916.5785ms 200 text/html; charset=utf-8
2018-05-01 17:57:50.164 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 506
2018-05-01 17:57:50.170 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:50.175 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:50.252 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-01 17:57:50.272 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:50.410 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:50.509 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:50.752 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450), @p4='?', @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [OrganizationAssignments]
WHERE [OrganizationId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p4, @p5);
2018-05-01 17:57:50.821 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-01 17:57:50.828 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 637.2593ms
2018-05-01 17:57:50.835 -07:00 [INF] Request finished in 670.7577ms 302 
2018-05-01 17:57:50.844 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:57:50.851 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:50.857 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:50.923 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:50.930 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:51.055 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:57:51.166 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:51.180 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:57:51.198 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 330.5735ms
2018-05-01 17:57:51.214 -07:00 [INF] Request finished in 365.4031ms 200 text/html; charset=utf-8
2018-05-01 17:57:53.192 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:57:53.198 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:53.204 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:53.240 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:57:53.249 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:53.342 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:53.460 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:53.474 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:57:53.493 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 278.0099ms
2018-05-01 17:57:53.505 -07:00 [INF] Request finished in 312.0849ms 200 text/html; charset=utf-8
2018-05-01 17:57:55.095 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-01 17:57:55.101 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:55.106 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:55.148 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:57:55.159 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:55.279 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-01 17:57:55.394 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-01 17:57:55.406 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-01 17:57:55.435 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 319.5199ms
2018-05-01 17:57:55.445 -07:00 [INF] Request finished in 348.673ms 200 text/html; charset=utf-8
2018-05-01 17:57:57.645 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 528
2018-05-01 17:57:57.651 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:57.657 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:57.690 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-01 17:57:57.697 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:57.795 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:57.914 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:58.106 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p2, @p3);
2018-05-01 17:57:58.172 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-01 17:57:58.183 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 518.577ms
2018-05-01 17:57:58.194 -07:00 [INF] Request finished in 546.8978ms 302 
2018-05-01 17:57:58.213 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:57:58.226 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:58.239 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:58.337 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:57:58.344 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:58.472 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:57:58.582 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:58.596 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:57:58.613 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 360.2051ms
2018-05-01 17:57:58.625 -07:00 [INF] Request finished in 412.6811ms 200 text/html; charset=utf-8
2018-05-01 17:57:59.504 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-01 17:57:59.510 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:59.515 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:57:59.565 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-01 17:57:59.576 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:57:59.690 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:57:59.803 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:57:59.816 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-01 17:57:59.836 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 311.4365ms
2018-05-01 17:57:59.847 -07:00 [INF] Request finished in 341.1087ms 200 text/html; charset=utf-8
2018-05-01 17:58:06.926 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-01 17:58:06.931 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:58:06.936 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:58:07.070 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:58:07.089 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:58:07.217 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-01 17:58:07.334 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:58:07.346 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-01 17:58:07.358 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 416.6772ms
2018-05-01 17:58:07.364 -07:00 [INF] Request finished in 439.0332ms 200 text/html; charset=utf-8
2018-05-01 17:58:14.790 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 17:58:14.795 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:58:14.799 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:58:14.804 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:58:14.834 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 17:58:14.840 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:58:14.957 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 17:58:15.071 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:58:15.085 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 17:58:15.133 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 323.82140000000004ms
2018-05-01 17:58:15.142 -07:00 [INF] Request finished in 351.2575ms 200 text/html; charset=utf-8
2018-05-01 17:58:26.166 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 17:58:26.172 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:58:26.176 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 17:58:26.181 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 17:58:26.208 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 17:58:26.213 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 17:58:26.308 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 17:58:26.418 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 17:58:26.429 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-01 17:58:26.442 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 260.5337ms
2018-05-01 17:58:26.450 -07:00 [INF] Request finished in 283.4363ms 200 text/html; charset=utf-8
2018-05-01 18:01:19.391 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-01 18:01:19.598 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-01 18:01:21.637 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 18:01:22.052 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 18:01:25.058 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 18:01:25.883 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3945.8613ms
2018-05-01 18:01:25.895 -07:00 [INF] Request finished in 4263.5658ms 200 text/html; charset=utf-8
2018-05-01 18:01:28.717 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-01 18:01:28.831 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-01 18:01:28.866 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-01 18:01:29.533 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-01 18:01:29.857 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1094.0955000000001ms
2018-05-01 18:01:29.863 -07:00 [INF] Request finished in 1146.2619ms 200 text/html; charset=utf-8
2018-05-01 18:01:31.167 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-01 18:01:31.251 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-01 18:01:31.462 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 18:01:32.541 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-01 18:01:32.825 -07:00 [INF] Executed DbCommand (133ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-01 18:01:32.975 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-01 18:01:33.109 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 18:01:33.283 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 18:01:33.379 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 18:01:33.479 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 18:01:33.574 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-01 18:01:33.669 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-01 18:01:33.745 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-01 18:01:33.751 -07:00 [INF] User logged in.
2018-05-01 18:01:33.758 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-01 18:01:33.763 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2573.2913000000003ms
2018-05-01 18:01:33.771 -07:00 [INF] Request finished in 2603.2932ms 302 
2018-05-01 18:01:33.861 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-01 18:01:33.879 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:33.885 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:33.967 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 18:01:33.978 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-01 18:01:34.009 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 115.1956ms
2018-05-01 18:01:34.017 -07:00 [INF] Request finished in 157.3625ms 200 text/html; charset=utf-8
2018-05-01 18:01:35.606 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-01 18:01:35.614 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:35.619 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:35.637 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 18:01:35.669 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-01 18:01:35.679 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 18:01:35.836 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-01 18:01:35.953 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 18:01:36.457 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-01 18:01:36.544 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 910.0709ms
2018-05-01 18:01:36.552 -07:00 [INF] Request finished in 945.908ms 200 text/html; charset=utf-8
2018-05-01 18:01:38.184 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 18:01:38.191 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:38.197 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:38.209 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 18:01:38.246 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 18:01:38.257 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 18:01:38.391 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 18:01:38.489 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 18:01:38.870 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-01 18:01:39.235 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1024.169ms
2018-05-01 18:01:39.244 -07:00 [INF] Request finished in 1059.9067ms 200 text/html; charset=utf-8
2018-05-01 18:01:54.332 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-01 18:01:54.343 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:54.352 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-01 18:01:54.360 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-01 18:01:54.395 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-01 18:01:54.405 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-01 18:01:54.499 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-01 18:01:54.587 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-01 18:01:54.944 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-01 18:01:55.401 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1041.1114ms
2018-05-01 18:01:55.506 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-01 18:01:55.758 -07:00 [INF] Request finished in 1428.7721ms 500 text/html; charset=utf-8
2018-05-01 18:01:55.796 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-01 18:01:55.806 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-01 18:01:55.818 -07:00 [INF] Request finished in 22.8716ms 200 image/x-icon
2018-05-02 11:53:35.135 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 11:53:35.421 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 11:53:37.803 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 11:53:38.285 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 11:53:41.556 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 11:53:42.426 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4254.59ms
2018-05-02 11:53:42.441 -07:00 [INF] Request finished in 4641.9354ms 200 text/html; charset=utf-8
2018-05-02 11:53:51.927 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 11:53:52.067 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 11:53:52.090 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 11:53:52.772 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 11:53:53.089 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1094.356ms
2018-05-02 11:53:53.099 -07:00 [INF] Request finished in 1169.4679ms 200 text/html; charset=utf-8
2018-05-02 11:55:15.503 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 11:55:15.594 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 11:55:15.827 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 11:55:17.094 -07:00 [INF] Executed DbCommand (178ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 11:55:17.357 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 11:55:17.495 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 11:55:17.603 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 11:55:17.722 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 11:55:17.811 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 11:55:17.906 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 11:55:18.017 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 11:55:18.131 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 11:55:18.207 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 11:55:18.215 -07:00 [INF] User logged in.
2018-05-02 11:55:18.223 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 11:55:18.232 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2694.9088ms
2018-05-02 11:55:18.240 -07:00 [INF] Request finished in 2736.7483ms 302 
2018-05-02 11:55:18.249 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 11:55:18.260 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:18.268 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:18.343 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 11:55:18.348 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 11:55:18.362 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 88.2954ms
2018-05-02 11:55:18.367 -07:00 [INF] Request finished in 117.8856ms 200 text/html; charset=utf-8
2018-05-02 11:55:39.710 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 11:55:39.716 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:39.721 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:39.736 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 11:55:39.764 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 11:55:39.852 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 11:55:40.000 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 11:55:40.104 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 11:55:40.411 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 11:55:40.494 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 762.5715ms
2018-05-02 11:55:40.499 -07:00 [INF] Request finished in 789.8899ms 200 text/html; charset=utf-8
2018-05-02 11:55:42.134 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 11:55:42.139 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:42.144 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:42.154 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 11:55:42.182 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 11:55:42.189 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 11:55:42.315 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 11:55:42.411 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 11:55:42.666 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 11:55:42.706 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 552.2676ms
2018-05-02 11:55:42.711 -07:00 [INF] Request finished in 577.4536ms 200 text/html; charset=utf-8
2018-05-02 11:55:45.948 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 11:55:45.953 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:45.957 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 11:55:45.967 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 11:55:45.994 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 11:55:46.001 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 11:55:46.096 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 11:55:46.185 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 11:55:46.554 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-02 11:55:47.209 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1239.8866ms
2018-05-02 11:55:47.321 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 11:55:47.563 -07:00 [INF] Request finished in 1615.1683ms 500 text/html; charset=utf-8
2018-05-02 12:45:04.838 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 12:45:04.846 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:05.065 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 12:45:05.071 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:05.077 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
2018-05-02 12:45:05.140 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-02 12:45:05.259 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
2018-05-02 12:45:05.834 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-02 12:45:05.946 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 12:45:06.059 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 12:45:06.157 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 12:45:06.271 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 12:45:06.364 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 12:45:06.483 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 12:45:06.551 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 12:45:06.598 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 12:45:06.661 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 12:45:06.738 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.SignInManager`1.<ValidateSecurityStampAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.<ValidateAsync>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.<HandleAuthenticateAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.<AuthenticateAsync>d__47.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.<AuthenticateAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 12:45:06.741 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 12:45:06.769 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:06.775 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:06.781 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:45:06.859 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:45:06.965 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 12:45:07.047 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:07.087 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 12:45:07.126 -07:00 [INF] Request finished in 2287.0366ms 500 text/html; charset=utf-8
2018-05-02 12:45:07.144 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 362.2755ms
2018-05-02 12:45:07.150 -07:00 [INF] Request finished in 2084.3319ms 200 text/html; charset=utf-8
2018-05-02 12:45:12.581 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 12:45:12.586 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:12.590 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:12.595 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:45:12.624 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 12:45:12.629 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:12.724 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:45:12.828 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:12.838 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 12:45:12.847 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 250.8684ms
2018-05-02 12:45:12.854 -07:00 [INF] Request finished in 273.6249ms 200 text/html; charset=utf-8
2018-05-02 12:45:21.555 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 12:45:21.560 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:21.566 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:21.571 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:45:21.600 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 12:45:21.605 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:21.694 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:45:21.780 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:21.791 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-02 12:45:22.067 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 496.0452ms
2018-05-02 12:45:22.124 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 12:45:22.337 -07:00 [INF] Request finished in 782.4897ms 500 text/html; charset=utf-8
2018-05-02 12:45:23.474 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 12:45:23.479 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:23.483 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:23.487 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:45:23.514 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 12:45:23.519 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:23.610 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:45:23.719 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:23.728 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 12:45:23.739 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 250.37470000000002ms
2018-05-02 12:45:23.745 -07:00 [INF] Request finished in 270.7159ms 200 text/html; charset=utf-8
2018-05-02 12:45:32.797 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 12:45:32.802 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:32.807 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:32.841 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:45:32.849 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:32.988 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 12:45:33.100 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:33.336 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 12:45:33.363 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 544.39190000000008ms
2018-05-02 12:45:33.371 -07:00 [INF] Request finished in 573.1952ms 200 text/html; charset=utf-8
2018-05-02 12:45:34.741 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-02 12:45:34.747 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:34.752 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:34.792 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-02 12:45:34.806 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:34.824 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 12:45:34.981 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-02 12:45:35.104 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-02 12:45:35.344 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-02 12:45:35.617 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 850.82350000000008ms
2018-05-02 12:45:35.626 -07:00 [INF] Request finished in 883.8408ms 200 text/html; charset=utf-8
2018-05-02 12:45:40.839 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 528
2018-05-02 12:45:40.845 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:40.851 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:40.915 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 12:45:40.927 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:41.063 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:45:41.183 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:41.381 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@p1='?', @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2018-05-02 12:45:41.456 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-02 12:45:41.463 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 598.6409ms
2018-05-02 12:45:41.471 -07:00 [INF] Request finished in 632.0327ms 302 
2018-05-02 12:45:41.485 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 12:45:41.496 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:41.504 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:41.576 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:45:41.584 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:41.710 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 12:45:41.801 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:41.808 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 12:45:41.817 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 305.81780000000003ms
2018-05-02 12:45:41.824 -07:00 [INF] Request finished in 340.6557ms 200 text/html; charset=utf-8
2018-05-02 12:45:43.357 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Create  
2018-05-02 12:45:43.363 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:43.368 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:43.404 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:45:43.642 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Create.cshtml.
2018-05-02 12:45:43.677 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) in 297.9493ms
2018-05-02 12:45:43.688 -07:00 [INF] Request finished in 329.1315ms 200 text/html; charset=utf-8
2018-05-02 12:45:55.320 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Create application/x-www-form-urlencoded 267
2018-05-02 12:45:55.325 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:55.330 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:55.372 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) with arguments (["IdentityServer.Models.Organization"]) - ModelState is "Valid"
2018-05-02 12:45:55.382 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:55.568 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Organization] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Organization]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2018-05-02 12:45:55.643 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-02 12:45:55.653 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Create (IdentityServer) in 308.36510000000004ms
2018-05-02 12:45:55.664 -07:00 [INF] Request finished in 342.4734ms 302 
2018-05-02 12:45:55.681 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 12:45:55.693 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:55.698 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:45:55.765 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:45:55.774 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:45:55.896 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 12:45:55.993 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:45:56.001 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 12:45:56.010 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 305.2853ms
2018-05-02 12:45:56.016 -07:00 [INF] Request finished in 338.0979ms 200 text/html; charset=utf-8
2018-05-02 12:46:00.237 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/2  
2018-05-02 12:46:00.242 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:00.247 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:00.275 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2"]) - ModelState is "Valid"
2018-05-02 12:46:00.280 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:46:00.375 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-02 12:46:00.486 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-02 12:46:00.495 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-02 12:46:00.513 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 259.8756ms
2018-05-02 12:46:00.519 -07:00 [INF] Request finished in 282.9464ms 200 text/html; charset=utf-8
2018-05-02 12:46:03.772 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/2 application/x-www-form-urlencoded 513
2018-05-02 12:46:03.777 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:03.782 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:03.811 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 12:46:03.816 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:46:03.905 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:46:03.989 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:46:04.154 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p2, @p3);
2018-05-02 12:46:04.215 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-02 12:46:04.221 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 434.0837ms
2018-05-02 12:46:04.228 -07:00 [INF] Request finished in 455.6301ms 302 
2018-05-02 12:46:04.238 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 12:46:04.245 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:04.252 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:04.321 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:46:04.329 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:46:04.466 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 12:46:04.565 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:46:04.574 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 12:46:04.583 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 324.1191ms
2018-05-02 12:46:04.589 -07:00 [INF] Request finished in 350.5972ms 200 text/html; charset=utf-8
2018-05-02 12:46:06.814 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 12:46:06.820 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:06.825 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:06.830 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:46:06.859 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:46:06.865 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:46:06.958 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 12:46:07.054 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:46:07.061 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 12:46:07.082 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 251.27190000000002ms
2018-05-02 12:46:07.087 -07:00 [INF] Request finished in 273.7072ms 200 text/html; charset=utf-8
2018-05-02 12:46:09.052 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-02 12:46:09.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:09.061 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:09.065 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:46:09.092 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-02 12:46:09.096 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:46:09.187 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:46:09.294 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:46:09.303 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 12:46:09.315 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 246.99050000000003ms
2018-05-02 12:46:09.323 -07:00 [INF] Request finished in 270.2413ms 200 text/html; charset=utf-8
2018-05-02 12:46:14.271 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 12:46:14.276 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:14.281 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:46:14.286 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:46:14.314 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:46:14.320 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:46:14.433 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 12:46:14.537 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:46:14.546 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 12:46:14.568 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 281.98040000000003ms
2018-05-02 12:46:14.573 -07:00 [INF] Request finished in 303.9306ms 200 text/html; charset=utf-8
2018-05-02 12:47:06.981 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-02 12:47:06.987 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:06.991 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:07.001 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:47:07.045 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:47:07.053 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:47:07.175 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-02 12:47:07.491 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-02 12:47:07.528 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 523.7591ms
2018-05-02 12:47:07.535 -07:00 [INF] Request finished in 553.4389ms 200 text/html; charset=utf-8
2018-05-02 12:47:17.387 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-02 12:47:17.393 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:17.398 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:17.410 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:47:17.442 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:47:17.451 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:47:17.577 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-02 12:47:17.719 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-02 12:47:17.842 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-02 12:47:17.939 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-02 12:47:18.177 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-02 12:47:18.587 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1175.9425ms
2018-05-02 12:47:18.595 -07:00 [INF] Request finished in 1207.1727ms 200 text/html; charset=utf-8
2018-05-02 12:47:21.638 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 12:47:21.644 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:21.649 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:21.654 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:47:21.682 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:47:21.689 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:47:21.783 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 12:47:21.870 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:47:21.876 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 12:47:21.896 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 241.9369ms
2018-05-02 12:47:21.901 -07:00 [INF] Request finished in 264.3647ms 200 text/html; charset=utf-8
2018-05-02 12:47:24.621 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 12:47:24.627 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:24.631 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:47:24.661 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:47:24.668 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:47:24.773 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 12:47:24.887 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:47:24.898 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 12:47:24.909 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 270.7504ms
2018-05-02 12:47:24.920 -07:00 [INF] Request finished in 296.5684ms 200 text/html; charset=utf-8
2018-05-02 12:50:43.284 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 12:50:43.289 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:43.294 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:43.322 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:50:43.327 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:50:43.458 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 12:50:43.578 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:50:43.589 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 12:50:43.606 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 303.2194ms
2018-05-02 12:50:43.616 -07:00 [INF] Request finished in 330.6816ms 200 text/html; charset=utf-8
2018-05-02 12:50:46.756 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-02 12:50:46.762 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:46.766 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:46.801 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-02 12:50:46.809 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:50:46.977 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:50:47.104 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:50:47.361 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-02 12:50:47.393 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 613.56220000000008ms
2018-05-02 12:50:47.402 -07:00 [INF] Request finished in 645.0778ms 200 text/html; charset=utf-8
2018-05-02 12:50:52.522 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-02 12:50:52.528 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:52.534 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:52.564 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-02 12:50:52.571 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:50:52.669 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-02 12:50:52.788 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-02 12:50:52.800 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-02 12:50:52.836 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 292.4331ms
2018-05-02 12:50:52.847 -07:00 [INF] Request finished in 323.244ms 200 text/html; charset=utf-8
2018-05-02 12:50:54.446 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 12:50:54.452 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:54.457 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:54.462 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:50:54.490 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:50:54.496 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:50:54.594 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 12:50:54.708 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:50:54.720 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 12:50:54.750 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 285.083ms
2018-05-02 12:50:54.758 -07:00 [INF] Request finished in 311.5256ms 200 text/html; charset=utf-8
2018-05-02 12:50:56.462 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 12:50:56.468 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:56.473 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:50:56.479 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:50:56.507 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 12:50:56.513 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:50:56.609 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:50:56.717 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:50:56.725 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 12:50:56.734 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 254.02030000000002ms
2018-05-02 12:50:56.741 -07:00 [INF] Request finished in 278.8963ms 200 text/html; charset=utf-8
2018-05-02 12:51:00.877 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 12:51:00.884 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:51:00.889 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:51:00.894 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:51:00.925 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 12:51:00.931 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:51:01.026 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 12:51:01.132 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:51:01.142 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 12:51:01.168 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 270.0781ms
2018-05-02 12:51:01.179 -07:00 [INF] Request finished in 300.2795ms 200 text/html; charset=utf-8
2018-05-02 12:51:02.669 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-02 12:51:02.674 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:51:02.679 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:51:02.684 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:51:02.713 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-02 12:51:02.718 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:51:02.814 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:51:02.930 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:51:02.940 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 12:51:02.951 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 264.9716ms
2018-05-02 12:51:02.961 -07:00 [INF] Request finished in 291.2841ms 200 text/html; charset=utf-8
2018-05-02 12:51:05.171 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-02 12:51:05.177 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:51:05.182 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 12:51:05.187 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 12:51:05.217 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-02 12:51:05.224 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 12:51:05.317 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 12:51:05.424 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 12:51:05.436 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-02 12:51:05.701 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 511.31300000000005ms
2018-05-02 12:51:05.775 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 12:51:05.989 -07:00 [INF] Request finished in 818.8354ms 500 text/html; charset=utf-8
2018-05-02 13:13:35.157 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:13:35.352 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:13:39.365 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:13:39.801 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:13:42.743 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:13:43.569 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3873.8720000000003ms
2018-05-02 13:13:43.594 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css  
2018-05-02 13:13:43.618 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css  
2018-05-02 13:13:43.642 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js  
2018-05-02 13:13:43.700 -07:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-05-02 13:13:43.701 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-05-02 13:13:43.728 -07:00 [INF] The file /css/site.css was not modified
2018-05-02 13:13:43.754 -07:00 [INF] Request finished in 4343.2876ms 200 text/html; charset=utf-8
2018-05-02 13:13:43.781 -07:00 [INF] Request finished in 185.8222ms 304 application/javascript
2018-05-02 13:13:43.805 -07:00 [INF] Request finished in 187.547ms 304 text/css
2018-05-02 13:13:43.827 -07:00 [INF] Request finished in 187.5566ms 304 text/css
2018-05-02 13:13:43.831 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg  
2018-05-02 13:13:43.857 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg  
2018-05-02 13:13:43.865 -07:00 [INF] The file /images/banner4.svg was not modified
2018-05-02 13:13:43.896 -07:00 [INF] The file /images/banner3.svg was not modified
2018-05-02 13:13:43.920 -07:00 [INF] Request finished in 86.6791ms 304 image/svg+xml
2018-05-02 13:13:43.947 -07:00 [INF] Request finished in 140.053ms 304 image/svg+xml
2018-05-02 13:13:44.082 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-05-02 13:13:44.103 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2018-05-02 13:13:44.126 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js  
2018-05-02 13:13:44.203 -07:00 [INF] The file /lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 was not modified
2018-05-02 13:13:44.226 -07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-05-02 13:13:44.255 -07:00 [INF] The file /js/site.js was not modified
2018-05-02 13:13:44.305 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg  
2018-05-02 13:13:44.331 -07:00 [INF] Request finished in 221.4595ms 304 application/javascript
2018-05-02 13:13:44.357 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg  
2018-05-02 13:13:44.459 -07:00 [INF] Request finished in 396.839ms 304 font/woff2
2018-05-02 13:13:44.483 -07:00 [INF] The file /images/banner2.svg was not modified
2018-05-02 13:13:44.513 -07:00 [INF] The file /images/banner1.svg was not modified
2018-05-02 13:13:44.518 -07:00 [INF] Request finished in 479.6343ms 304 image/svg+xml
2018-05-02 13:13:44.544 -07:00 [INF] Request finished in 372.6541ms 304 application/javascript
2018-05-02 13:13:44.606 -07:00 [INF] Request finished in 263.0923ms 304 image/svg+xml
2018-05-02 13:13:46.074 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:13:46.185 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:13:46.204 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:13:46.840 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:13:47.119 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 998.67860000000007ms
2018-05-02 13:13:47.147 -07:00 [INF] Request finished in 1052.1232ms 200 text/html; charset=utf-8
2018-05-02 13:13:47.149 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-05-02 13:13:47.201 -07:00 [INF] The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified
2018-05-02 13:13:47.224 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js  
2018-05-02 13:13:47.273 -07:00 [INF] Request finished in 122.5824ms 304 application/javascript
2018-05-02 13:13:47.296 -07:00 [INF] The file /lib/jquery-validation/dist/jquery.validate.js was not modified
2018-05-02 13:13:47.347 -07:00 [INF] Request finished in 123.3255ms 304 application/javascript
2018-05-02 13:13:54.141 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:13:54.236 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:13:54.460 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:13:55.647 -07:00 [INF] Executed DbCommand (200ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:13:55.936 -07:00 [INF] Executed DbCommand (150ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:13:56.094 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:13:56.227 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:13:56.377 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:13:56.478 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:13:56.600 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:13:56.704 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:13:56.811 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:13:56.874 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:13:56.880 -07:00 [INF] User logged in.
2018-05-02 13:13:56.886 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:13:56.892 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2731.7112ms
2018-05-02 13:13:56.900 -07:00 [INF] Request finished in 2758.7024ms 302 
2018-05-02 13:13:56.907 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:13:56.919 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:13:56.924 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:13:57.009 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:13:57.017 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:13:57.034 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 102.31960000000001ms
2018-05-02 13:13:57.040 -07:00 [INF] Request finished in 131.7179ms 200 text/html; charset=utf-8
2018-05-02 13:13:59.308 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:13:59.314 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:13:59.319 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:13:59.336 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:13:59.366 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:13:59.375 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:13:59.556 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:13:59.665 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:13:59.951 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:14:00.037 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 706.82040000000006ms
2018-05-02 13:14:00.043 -07:00 [INF] Request finished in 736.151ms 200 text/html; charset=utf-8
2018-05-02 13:14:02.240 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:14:02.246 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:14:02.251 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:14:02.261 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:14:02.290 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:14:02.297 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:14:02.433 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:14:02.548 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:14:02.838 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:14:02.884 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 620.7191ms
2018-05-02 13:14:02.891 -07:00 [INF] Request finished in 650.3143ms 200 text/html; charset=utf-8
2018-05-02 13:14:06.301 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:14:06.306 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:14:06.311 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:14:06.326 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:14:06.363 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:14:06.374 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:14:06.488 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
WHERE [oa].[UserId] = @__id_0
2018-05-02 13:14:06.516 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:14:06.542 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:14:06.552 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:14:06.560 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:14:06.568 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:14:06.704 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:14:06.890 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:14:06.906 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 579.5379ms
2018-05-02 13:14:06.989 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]', but this ViewDataDictionary instance requires a model item of type 'IdentityServer.Models.UserViewModels.UserOrganizationsViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:14:07.164 -07:00 [INF] Request finished in 863.7577ms 500 text/html; charset=utf-8
2018-05-02 13:19:42.761 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:19:42.972 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:19:45.098 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:19:45.486 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:19:48.384 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:19:49.233 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3854.7462ms
2018-05-02 13:19:49.247 -07:00 [INF] Request finished in 4153.3887ms 200 text/html; charset=utf-8
2018-05-02 13:19:51.044 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:19:51.165 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:19:51.189 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:19:51.883 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:19:52.179 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1084.6429ms
2018-05-02 13:19:52.185 -07:00 [INF] Request finished in 1142.5523ms 200 text/html; charset=utf-8
2018-05-02 13:19:53.573 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:19:53.666 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:19:53.894 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:19:54.978 -07:00 [INF] Executed DbCommand (175ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:19:55.271 -07:00 [INF] Executed DbCommand (146ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:19:55.436 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:19:55.578 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:19:55.737 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:19:55.851 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:19:55.959 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:19:56.053 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:19:56.159 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:19:56.222 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:19:56.227 -07:00 [INF] User logged in.
2018-05-02 13:19:56.234 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:19:56.242 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2647.9213ms
2018-05-02 13:19:56.252 -07:00 [INF] Request finished in 2679.0143ms 302 
2018-05-02 13:19:56.264 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:19:56.277 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:19:56.286 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:19:56.380 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:19:56.390 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:19:56.420 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 123.95970000000001ms
2018-05-02 13:19:56.426 -07:00 [INF] Request finished in 162.7178ms 200 text/html; charset=utf-8
2018-05-02 13:19:58.051 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 13:19:58.058 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:19:58.063 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:19:58.100 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:19:58.111 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:19:58.296 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 13:19:58.455 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:19:58.772 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 13:19:58.805 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 729.7563ms
2018-05-02 13:19:58.811 -07:00 [INF] Request finished in 760.3441ms 200 text/html; charset=utf-8
2018-05-02 13:20:00.347 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:20:00.353 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:00.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:00.378 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:20:00.408 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:20:00.416 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:20:00.559 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:20:00.678 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:20:00.926 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:20:01.012 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 641.3266ms
2018-05-02 13:20:01.020 -07:00 [INF] Request finished in 671.6836ms 200 text/html; charset=utf-8
2018-05-02 13:20:02.748 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:20:02.754 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:02.759 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:02.770 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:20:02.800 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:20:02.811 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:20:02.957 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:20:03.052 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:20:03.301 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:20:03.345 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 572.9016ms
2018-05-02 13:20:03.353 -07:00 [INF] Request finished in 605.1745ms 200 text/html; charset=utf-8
2018-05-02 13:20:04.773 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:20:04.779 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:04.784 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:04.800 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:20:04.839 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:20:04.850 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:20:04.963 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:20:05.064 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:20:05.078 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:20:05.095 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:20:05.104 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:20:05.111 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:20:05.117 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:20:05.250 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:20:05.438 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:20:05.729 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 928.558ms
2018-05-02 13:20:05.738 -07:00 [INF] Request finished in 964.251ms 200 text/html; charset=utf-8
2018-05-02 13:20:09.201 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:20:09.210 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:09.215 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:20:09.233 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:34:45.097 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:34:45.303 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:34:47.359 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:34:47.793 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:34:50.741 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:34:51.565 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3886.0452ms
2018-05-02 13:34:51.581 -07:00 [INF] Request finished in 4225.714ms 200 text/html; charset=utf-8
2018-05-02 13:34:53.339 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:34:53.467 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:34:53.491 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:34:54.137 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:34:54.423 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1035.2901ms
2018-05-02 13:34:54.432 -07:00 [INF] Request finished in 1092.4735ms 200 text/html; charset=utf-8
2018-05-02 13:34:55.749 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:34:55.838 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:34:56.098 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:34:57.202 -07:00 [INF] Executed DbCommand (175ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:34:57.497 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:34:57.672 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:34:57.813 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:34:57.959 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:34:58.073 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:34:58.190 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:34:58.307 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:34:58.426 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:34:58.508 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:34:58.514 -07:00 [INF] User logged in.
2018-05-02 13:34:58.524 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:34:58.531 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2758.8203000000003ms
2018-05-02 13:34:58.539 -07:00 [INF] Request finished in 2791.0895ms 302 
2018-05-02 13:34:58.548 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:34:58.560 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:34:58.568 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:34:58.666 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:34:58.673 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:34:58.690 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 114.5014ms
2018-05-02 13:34:58.695 -07:00 [INF] Request finished in 147.9073ms 200 text/html; charset=utf-8
2018-05-02 13:35:00.755 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:35:00.762 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:00.767 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:00.785 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:35:00.816 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:35:00.825 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:35:00.993 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:35:01.102 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:35:01.411 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:35:01.497 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 717.534ms
2018-05-02 13:35:01.508 -07:00 [INF] Request finished in 751.3224ms 200 text/html; charset=utf-8
2018-05-02 13:35:03.491 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:35:03.497 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:03.502 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:03.513 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:35:03.560 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:35:03.579 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:35:03.750 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:35:03.872 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:35:04.182 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:35:04.229 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 712.48970000000008ms
2018-05-02 13:35:04.240 -07:00 [INF] Request finished in 747.4083ms 200 text/html; charset=utf-8
2018-05-02 13:35:05.660 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:35:05.665 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:05.670 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:05.683 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:35:05.731 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:35:05.744 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:35:05.884 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:35:06.005 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:35:06.034 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:35:06.068 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:35:06.083 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:35:06.092 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:35:06.102 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:35:06.262 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:35:06.460 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:35:06.755 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1071.5939ms
2018-05-02 13:35:06.761 -07:00 [INF] Request finished in 1101.8888ms 200 text/html; charset=utf-8
2018-05-02 13:35:08.633 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:35:08.639 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:08.644 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:35:08.663 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:36:55.614 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:36:55.824 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:36:58.074 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:36:58.475 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:37:01.309 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:37:02.098 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3738.2467ms
2018-05-02 13:37:02.109 -07:00 [INF] Request finished in 4041.1713ms 200 text/html; charset=utf-8
2018-05-02 13:37:14.659 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:37:14.777 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:37:14.800 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:37:15.472 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:37:15.748 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1039.4935ms
2018-05-02 13:37:15.755 -07:00 [INF] Request finished in 1094.7743ms 200 text/html; charset=utf-8
2018-05-02 13:37:17.372 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:37:17.459 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:37:17.680 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:18.735 -07:00 [INF] Executed DbCommand (150ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:37:19.006 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:37:19.138 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:37:19.250 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:37:19.375 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:37:19.470 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:37:19.593 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:37:19.688 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:37:19.785 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:37:19.861 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:37:19.869 -07:00 [INF] User logged in.
2018-05-02 13:37:19.878 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:37:19.885 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2488.8126ms
2018-05-02 13:37:19.898 -07:00 [INF] Request finished in 2525.4234ms 302 
2018-05-02 13:37:19.906 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:37:19.919 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:19.926 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:20.010 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:37:20.016 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:37:20.046 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 112.41510000000001ms
2018-05-02 13:37:20.053 -07:00 [INF] Request finished in 146.2321ms 200 text/html; charset=utf-8
2018-05-02 13:37:21.723 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:37:21.729 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:21.734 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:21.750 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:21.780 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:37:21.789 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:21.952 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:37:22.078 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:37:22.376 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:37:22.461 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 715.6429ms
2018-05-02 13:37:22.469 -07:00 [INF] Request finished in 746.675ms 200 text/html; charset=utf-8
2018-05-02 13:37:24.571 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:37:24.577 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:24.582 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:24.594 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:24.625 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:37:24.634 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:24.765 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:37:24.862 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:37:25.131 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:37:25.175 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 581.7712ms
2018-05-02 13:37:25.182 -07:00 [INF] Request finished in 611.609ms 200 text/html; charset=utf-8
2018-05-02 13:37:26.331 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:37:26.336 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:26.341 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:26.352 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:26.390 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:37:26.400 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:26.514 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:37:26.613 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:37:26.630 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:37:26.653 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:37:26.661 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:37:26.667 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:37:26.673 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:37:26.799 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:37:26.988 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:37:27.280 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 926.7209ms
2018-05-02 13:37:27.287 -07:00 [INF] Request finished in 956.274ms 200 text/html; charset=utf-8
2018-05-02 13:37:29.631 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:37:29.638 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:29.644 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:29.663 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:29.703 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124",null]) - ModelState is "Valid"
2018-05-02 13:37:29.713 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:29.939 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2018-05-02 13:37:30.103 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:37:30.363 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [e]
        WHERE [e].[Id] = @__id_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-05-02 13:37:30.435 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 772.46300000000008ms
2018-05-02 13:37:30.645 -07:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:37:30.728 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:37:30.790 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:37:30.976 -07:00 [INF] Request finished in 1346.4386ms 500 text/html; charset=utf-8
2018-05-02 13:37:40.368 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:37:40.373 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:40.378 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:40.382 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:40.411 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:37:40.416 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:40.512 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:37:40.599 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:37:40.700 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:37:40.707 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:37:40.725 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 341.70230000000004ms
2018-05-02 13:37:40.732 -07:00 [INF] Request finished in 362.9732ms 200 text/html; charset=utf-8
2018-05-02 13:37:44.618 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:37:44.624 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:44.630 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:44.637 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:44.669 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124",null]) - ModelState is "Valid"
2018-05-02 13:37:44.677 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:44.820 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2018-05-02 13:37:44.914 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:37:45.108 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [e]
        WHERE [e].[Id] = @__id_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-05-02 13:37:45.176 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 539.287ms
2018-05-02 13:37:45.306 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:37:45.383 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:37:45.441 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:37:45.608 -07:00 [INF] Request finished in 990.7259ms 500 text/html; charset=utf-8
2018-05-02 13:37:58.865 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:37:58.870 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:58.875 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:37:58.880 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:37:58.908 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:37:58.914 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:37:59.005 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:37:59.090 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:37:59.192 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:37:59.199 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:37:59.228 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 347.37190000000004ms
2018-05-02 13:37:59.233 -07:00 [INF] Request finished in 369.8201ms 200 text/html; charset=utf-8
2018-05-02 13:38:00.353 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:38:00.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:00.363 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:00.368 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:00.397 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124",null]) - ModelState is "Valid"
2018-05-02 13:38:00.404 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:00.559 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2018-05-02 13:38:00.651 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:38:00.837 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [e]
        WHERE [e].[Id] = @__id_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-05-02 13:38:00.899 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 531.4831ms
2018-05-02 13:38:01.024 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:38:01.102 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:38:01.149 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:38:01.305 -07:00 [INF] Request finished in 953.7016ms 500 text/html; charset=utf-8
2018-05-02 13:38:04.201 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:38:04.207 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:04.212 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:04.216 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:04.245 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:38:04.251 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:04.340 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:38:04.429 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:38:04.548 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:38:04.555 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:38:04.574 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 356.7158ms
2018-05-02 13:38:04.579 -07:00 [INF] Request finished in 378.4975ms 200 text/html; charset=utf-8
2018-05-02 13:38:07.479 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 452
2018-05-02 13:38:07.484 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:07.488 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:07.492 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:07.529 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124",null]) - ModelState is "Valid"
2018-05-02 13:38:07.534 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:07.676 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2018-05-02 13:38:07.769 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:38:07.954 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [e]
        WHERE [e].[Id] = @__id_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-05-02 13:38:08.020 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 526.0017ms
2018-05-02 13:38:08.149 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:38:08.226 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:38:08.275 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:38:08.440 -07:00 [INF] Request finished in 960.7437ms 500 text/html; charset=utf-8
2018-05-02 13:38:13.425 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:38:13.430 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:13.435 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:13.439 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:13.467 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:38:13.473 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:13.565 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:38:13.678 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:38:13.783 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:38:13.790 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:38:13.807 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 366.1383ms
2018-05-02 13:38:13.814 -07:00 [INF] Request finished in 388.4956ms 200 text/html; charset=utf-8
2018-05-02 13:38:15.390 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:38:15.396 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:15.400 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:15.405 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:15.437 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124",null]) - ModelState is "Valid"
2018-05-02 13:38:15.444 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:15.591 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2018-05-02 13:38:15.684 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:38:15.872 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [e]
        WHERE [e].[Id] = @__id_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-05-02 13:38:15.935 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 529.9139ms
2018-05-02 13:38:16.060 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:38:16.137 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:38:16.184 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:38:16.342 -07:00 [INF] Request finished in 952.5119ms 500 text/html; charset=utf-8
2018-05-02 13:38:19.434 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:38:19.439 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:19.443 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:19.448 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:19.475 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:38:19.480 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:19.576 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:38:19.663 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:38:19.766 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:38:19.772 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:38:19.789 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 340.4563ms
2018-05-02 13:38:19.795 -07:00 [INF] Request finished in 361.2128ms 200 text/html; charset=utf-8
2018-05-02 13:38:27.026 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 474
2018-05-02 13:38:27.030 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:27.034 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:38:27.038 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:38:27.067 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124",null]) - ModelState is "Valid"
2018-05-02 13:38:29.587 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:38:29.737 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;
2018-05-02 13:38:29.830 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:38:30.017 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [e]
        WHERE [e].[Id] = @__id_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2018-05-02 13:38:30.095 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 3054.842ms
2018-05-02 13:38:30.228 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:38:30.324 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:38:30.399 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: Database operation expected to affect 1 row(s) but actually affected 0 row(s). Data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeResultSetWithoutPropagationAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.<ConsumeAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__7.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 115
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:38:30.572 -07:00 [INF] Request finished in 3546.7098ms 500 text/html; charset=utf-8
2018-05-02 13:39:10.113 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:39:10.120 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:10.125 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:10.130 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:39:10.159 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:39:10.165 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:39:10.258 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:39:10.365 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:39:10.474 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:39:10.682 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:39:10.713 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 582.3261ms
2018-05-02 13:39:10.719 -07:00 [INF] Request finished in 605.9778ms 200 text/html; charset=utf-8
2018-05-02 13:39:10.736 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:39:10.742 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:10.746 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:10.751 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:39:10.779 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:39:10.785 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:39:10.876 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:39:10.965 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:39:10.973 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:39:10.981 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 229.0275ms
2018-05-02 13:39:10.987 -07:00 [INF] Request finished in 250.5314ms 200 text/html; charset=utf-8
2018-05-02 13:39:12.454 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:39:12.460 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:12.464 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:12.469 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:39:12.498 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:39:12.503 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:39:12.595 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:39:12.683 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:39:12.784 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:39:12.791 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:39:12.809 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 338.11ms
2018-05-02 13:39:12.816 -07:00 [INF] Request finished in 362.2873ms 200 text/html; charset=utf-8
2018-05-02 13:39:14.263 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 474
2018-05-02 13:39:14.268 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:14.273 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:14.285 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:39:14.318 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:39:17.268 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:39:17.375 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:39:17.475 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [a0].[Id]
    FROM [AspNetUsers] AS [a0]
    ORDER BY [a0].[Id]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:39:17.529 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-02 13:39:17.589 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
2018-05-02 13:39:17.752 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 3464.6889ms
2018-05-02 13:39:17.920 -07:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:39:18.018 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:39:18.074 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 166
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:39:18.249 -07:00 [INF] Request finished in 3987.1981ms 500 text/html; charset=utf-8
2018-05-02 13:39:24.833 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:39:24.838 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:24.843 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:24.848 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:39:24.877 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:39:24.884 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:39:24.977 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:39:25.066 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:39:25.167 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:39:25.173 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:39:25.190 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 340.6037ms
2018-05-02 13:39:25.195 -07:00 [INF] Request finished in 363.1815ms 200 text/html; charset=utf-8
2018-05-02 13:39:27.009 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 474
2018-05-02 13:39:27.015 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:27.020 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:39:27.025 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:39:27.054 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:39:29.969 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:39:30.062 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:39:30.146 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [a0].[Id]
    FROM [AspNetUsers] AS [a0]
    ORDER BY [a0].[Id]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:39:30.174 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-02 13:39:30.224 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
2018-05-02 13:39:30.439 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 3411.7527ms
2018-05-02 13:39:30.620 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:39:30.697 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:39:30.741 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: Source sequence contains more than one element.
   at System.Linq.AsyncEnumerable.<SingleOrDefault_>d__381`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 166
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:39:31.031 -07:00 [INF] Request finished in 4022.1855ms 500 text/html; charset=utf-8
2018-05-02 13:40:27.161 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:40:27.366 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:40:29.529 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:40:30.025 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:40:33.260 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:40:34.092 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4184.6564ms
2018-05-02 13:40:34.106 -07:00 [INF] Request finished in 4583.2045ms 200 text/html; charset=utf-8
2018-05-02 13:40:36.442 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:40:36.579 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:40:36.607 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:40:37.292 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:40:37.641 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1146.0574000000001ms
2018-05-02 13:40:37.648 -07:00 [INF] Request finished in 1205.8961ms 200 text/html; charset=utf-8
2018-05-02 13:40:39.637 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:40:39.726 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:40:39.959 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:40:41.076 -07:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:40:41.368 -07:00 [INF] Executed DbCommand (137ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:40:41.529 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:40:41.652 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:40:41.803 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:40:41.897 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:40:41.996 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:40:42.092 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:40:42.193 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:40:42.271 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:40:42.280 -07:00 [INF] User logged in.
2018-05-02 13:40:42.289 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:40:42.297 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2638.6755000000003ms
2018-05-02 13:40:42.307 -07:00 [INF] Request finished in 2670.481ms 302 
2018-05-02 13:40:42.319 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:40:42.332 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:42.340 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:42.432 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:40:42.441 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:40:42.460 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 111.89280000000001ms
2018-05-02 13:40:42.468 -07:00 [INF] Request finished in 149.3011ms 200 text/html; charset=utf-8
2018-05-02 13:40:44.660 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 13:40:44.667 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:44.674 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:44.716 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:40:44.727 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:40:44.886 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 13:40:45.028 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:40:45.303 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 13:40:45.341 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 649.7143ms
2018-05-02 13:40:45.351 -07:00 [INF] Request finished in 690.6896ms 200 text/html; charset=utf-8
2018-05-02 13:40:46.164 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:40:46.171 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:46.178 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:46.197 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:40:46.234 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:40:46.245 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:40:46.370 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:40:46.468 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:40:46.723 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:40:46.819 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 627.981ms
2018-05-02 13:40:46.826 -07:00 [INF] Request finished in 662.4174ms 200 text/html; charset=utf-8
2018-05-02 13:40:48.388 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:40:48.396 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:48.402 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:48.415 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:40:48.453 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:40:48.463 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:40:48.615 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:40:48.744 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:40:49.003 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:40:49.052 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 635.6349ms
2018-05-02 13:40:49.060 -07:00 [INF] Request finished in 671.916ms 200 text/html; charset=utf-8
2018-05-02 13:40:50.309 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:40:50.315 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:50.321 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:50.340 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:40:50.386 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:40:50.403 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:40:50.529 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:40:50.657 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:40:50.685 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:40:50.721 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:40:50.734 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:40:50.744 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:40:50.755 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:40:50.934 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:40:51.190 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:40:51.493 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1151.9337ms
2018-05-02 13:40:51.501 -07:00 [INF] Request finished in 1192.9326ms 200 text/html; charset=utf-8
2018-05-02 13:40:53.729 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 474
2018-05-02 13:40:53.737 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:53.744 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:40:53.766 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:40:53.818 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:40:53.831 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:40:53.973 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:40:54.118 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:40:54.132 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:40:54.150 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 387.23580000000004ms
2018-05-02 13:40:54.256 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'IdentityServer.Models.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'IdentityServer.Models.UserViewModels.UserOrganizationsViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:40:54.448 -07:00 [INF] Request finished in 719.2951ms 500 text/html; charset=utf-8
2018-05-02 13:41:30.664 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:41:30.670 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:41:30.676 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:41:30.681 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:41:30.712 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:41:30.719 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:41:30.811 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:41:30.920 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:41:31.081 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:41:31.095 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:41:31.132 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 446.49490000000003ms
2018-05-02 13:41:31.142 -07:00 [INF] Request finished in 477.1294ms 200 text/html; charset=utf-8
2018-05-02 13:41:33.801 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:41:33.807 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:41:33.812 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:41:33.819 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:41:33.851 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:41:33.859 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:41:33.955 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:41:34.070 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:41:34.196 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:41:34.204 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:41:34.225 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 404.1426ms
2018-05-02 13:41:34.234 -07:00 [INF] Request finished in 432.1571ms 200 text/html; charset=utf-8
2018-05-02 13:41:54.517 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 452
2018-05-02 13:41:54.529 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:41:54.537 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:41:54.546 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:41:54.599 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:41:54.611 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:41:54.736 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:41:54.835 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:41:54.851 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:41:54.876 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 326.3439ms
2018-05-02 13:41:54.964 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'IdentityServer.Models.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'IdentityServer.Models.UserViewModels.UserOrganizationsViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:41:55.144 -07:00 [INF] Request finished in 629.4693ms 500 text/html; charset=utf-8
2018-05-02 13:42:15.957 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:42:15.963 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:15.969 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:15.976 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:42:16.008 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:42:16.016 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:42:16.116 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:42:16.231 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:42:16.375 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:42:16.385 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:42:16.412 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 431.2662ms
2018-05-02 13:42:16.420 -07:00 [INF] Request finished in 464.9305ms 200 text/html; charset=utf-8
2018-05-02 13:42:18.610 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 474
2018-05-02 13:42:18.617 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:18.622 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:18.628 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:42:18.663 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:42:18.672 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:42:18.798 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:42:18.919 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:42:18.927 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:42:18.945 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 316.16610000000003ms
2018-05-02 13:42:18.997 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'IdentityServer.Models.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'IdentityServer.Models.UserViewModels.UserOrganizationsViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:42:19.180 -07:00 [INF] Request finished in 569.989ms 500 text/html; charset=utf-8
2018-05-02 13:42:54.234 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:42:54.240 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:54.246 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:54.251 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:42:54.281 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:42:54.289 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:42:54.383 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:42:54.519 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:42:54.663 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:42:54.674 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:42:54.702 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 443.678ms
2018-05-02 13:42:54.713 -07:00 [INF] Request finished in 477.1119ms 200 text/html; charset=utf-8
2018-05-02 13:42:58.058 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 430
2018-05-02 13:42:58.067 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:58.076 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:42:58.085 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:42:58.139 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:43:02.218 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:43:02.339 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:43:02.429 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:43:13.097 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:43:13.110 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 15026.7335ms
2018-05-02 13:43:13.155 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'IdentityServer.Models.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'IdentityServer.Models.UserViewModels.UserOrganizationsViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:43:13.348 -07:00 [INF] Request finished in 15291.8789ms 500 text/html; charset=utf-8
2018-05-02 13:44:15.407 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:44:15.713 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:44:17.788 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:44:18.236 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:44:21.259 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:44:22.104 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3976.5750000000003ms
2018-05-02 13:44:22.116 -07:00 [INF] Request finished in 4334.7995ms 200 text/html; charset=utf-8
2018-05-02 13:44:23.769 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:44:23.885 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:44:23.906 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:44:24.592 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:44:24.882 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1063.894ms
2018-05-02 13:44:24.887 -07:00 [INF] Request finished in 1118.3461ms 200 text/html; charset=utf-8
2018-05-02 13:44:26.045 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:44:26.129 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:44:26.365 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:27.502 -07:00 [INF] Executed DbCommand (206ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:44:27.802 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:44:27.951 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:44:28.082 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:44:28.219 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:44:28.341 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:44:28.443 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:44:28.558 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:44:28.680 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:44:28.757 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:44:28.762 -07:00 [INF] User logged in.
2018-05-02 13:44:28.768 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:44:28.774 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2706.3409ms
2018-05-02 13:44:28.781 -07:00 [INF] Request finished in 2736.328ms 302 
2018-05-02 13:44:28.789 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:44:28.800 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:28.806 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:28.902 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:44:28.909 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:44:28.926 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 113.0947ms
2018-05-02 13:44:28.932 -07:00 [INF] Request finished in 142.6458ms 200 text/html; charset=utf-8
2018-05-02 13:44:30.227 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:44:30.233 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:30.238 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:30.255 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:44:30.295 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:44:30.305 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:30.467 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:44:30.601 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:44:30.890 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:44:30.976 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 726.032ms
2018-05-02 13:44:30.980 -07:00 [INF] Request finished in 754.7402ms 200 text/html; charset=utf-8
2018-05-02 13:44:33.474 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:44:33.480 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:33.486 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:33.497 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:44:33.526 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:44:33.537 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:33.691 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:44:33.807 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:44:34.103 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:44:34.148 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 650.1906ms
2018-05-02 13:44:34.155 -07:00 [INF] Request finished in 681.2249ms 200 text/html; charset=utf-8
2018-05-02 13:44:35.739 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:44:35.745 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:35.750 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:35.766 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:44:35.820 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:44:35.831 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:35.944 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:44:36.040 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:44:36.060 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:44:36.080 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:44:36.088 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:44:36.094 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:44:36.100 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:44:36.230 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:44:36.429 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:44:36.762 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 997.3098ms
2018-05-02 13:44:36.769 -07:00 [INF] Request finished in 1029.8703ms 200 text/html; charset=utf-8
2018-05-02 13:44:38.982 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 474
2018-05-02 13:44:38.988 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:38.994 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:39.006 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:44:39.061 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:44:39.071 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:39.186 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:44:39.299 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:44:39.311 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:44:39.335 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 327.2868ms
2018-05-02 13:44:39.452 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'IdentityServer.Models.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'IdentityServer.Models.UserViewModels.UserOrganizationsViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:44:39.653 -07:00 [INF] Request finished in 671.9354ms 500 text/html; charset=utf-8
2018-05-02 13:44:49.032 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:44:49.038 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:49.043 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:49.048 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:44:49.077 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:44:49.083 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:49.174 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:44:49.261 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:44:49.366 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:44:49.373 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:44:49.395 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 342.33680000000004ms
2018-05-02 13:44:49.402 -07:00 [INF] Request finished in 369.8352ms 200 text/html; charset=utf-8
2018-05-02 13:44:50.459 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 474
2018-05-02 13:44:50.464 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:50.469 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:44:50.475 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:44:50.506 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-02 13:44:54.601 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:44:54.631 -07:00 [WRN] Heartbeat took longer than ""00:00:01"" at ""2018-05-02T20:44:54.5983989+00:00"".
2018-05-02 13:44:54.775 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:44:54.862 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:46:44.325 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:46:44.588 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:46:47.006 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:46:47.388 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:46:50.276 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:46:51.091 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3804.2576000000004ms
2018-05-02 13:46:51.105 -07:00 [INF] Request finished in 4103.8516ms 200 text/html; charset=utf-8
2018-05-02 13:46:53.394 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:46:53.531 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:46:53.551 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:46:54.219 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:46:54.554 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1111.8142ms
2018-05-02 13:46:54.562 -07:00 [INF] Request finished in 1167.6676ms 200 text/html; charset=utf-8
2018-05-02 13:46:55.772 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:46:55.858 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:46:56.087 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:46:57.186 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:46:57.496 -07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:46:57.671 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:46:57.781 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:46:57.919 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:46:58.044 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:46:58.168 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:46:58.274 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:46:58.391 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:46:58.492 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:46:58.502 -07:00 [INF] User logged in.
2018-05-02 13:46:58.512 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:46:58.518 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2722.7913000000003ms
2018-05-02 13:46:58.527 -07:00 [INF] Request finished in 2754.6297ms 302 
2018-05-02 13:46:58.565 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:46:58.581 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:46:58.587 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:46:58.666 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:46:58.673 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:46:58.691 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 95.9407ms
2018-05-02 13:46:58.697 -07:00 [INF] Request finished in 132.102ms 200 text/html; charset=utf-8
2018-05-02 13:47:03.691 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:47:03.697 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:03.702 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:03.720 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:47:03.750 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:47:03.758 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:47:03.912 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:47:04.033 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:47:04.384 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:47:04.475 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 759.409ms
2018-05-02 13:47:04.482 -07:00 [INF] Request finished in 791.4146ms 200 text/html; charset=utf-8
2018-05-02 13:47:06.027 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:47:06.034 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:06.039 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:06.051 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:47:06.082 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:47:06.092 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:47:06.250 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:47:06.365 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:47:06.679 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:47:06.728 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 675.60430000000008ms
2018-05-02 13:47:06.737 -07:00 [INF] Request finished in 709.2183ms 200 text/html; charset=utf-8
2018-05-02 13:47:08.332 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:47:08.338 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:08.343 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:08.355 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:47:08.404 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:47:08.419 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:47:08.560 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:47:08.663 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:47:08.687 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:47:08.710 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:47:08.718 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:47:08.724 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:47:08.731 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:47:08.868 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:47:09.108 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:47:09.426 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1069.088ms
2018-05-02 13:47:09.433 -07:00 [INF] Request finished in 1101.0489ms 200 text/html; charset=utf-8
2018-05-02 13:47:11.095 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 13:47:11.100 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:11.105 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:11.118 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:47:11.158 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:47:14.519 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:47:14.664 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:47:14.783 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:47:18.193 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:47:18.378 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 7260.1599000000006ms
2018-05-02 13:47:18.613 -07:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:47:18.700 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:47:18.761 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:47:18.960 -07:00 [INF] Request finished in 7866.2296ms 500 text/html; charset=utf-8
2018-05-02 13:47:30.408 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:47:30.413 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:30.417 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:30.423 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:47:30.453 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:47:30.459 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:47:30.555 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:47:30.641 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:47:30.741 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:47:30.746 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:47:30.763 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 339.5726ms
2018-05-02 13:47:30.769 -07:00 [INF] Request finished in 361.7848ms 200 text/html; charset=utf-8
2018-05-02 13:47:32.049 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 13:47:32.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:32.062 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:47:32.071 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:47:32.100 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:47:34.239 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:47:34.350 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:47:34.438 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:48:36.600 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 13:48:36.783 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 64710.594300000004ms
2018-05-02 13:48:36.995 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 13:48:37.091 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 13:48:37.142 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:48:37.306 -07:00 [INF] Request finished in 65258.517ms 500 text/html; charset=utf-8
2018-05-02 13:49:10.160 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:49:10.165 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:49:10.170 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:49:10.174 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:49:10.202 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:49:10.207 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:49:10.323 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:49:10.413 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:49:10.529 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:49:10.537 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:49:10.566 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 389.814ms
2018-05-02 13:49:10.572 -07:00 [INF] Request finished in 412.0752ms 200 text/html; charset=utf-8
2018-05-02 13:49:11.906 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 13:49:11.911 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:49:11.915 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:49:11.919 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:49:11.946 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:49:17.543 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:49:17.666 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:49:17.763 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:00.908 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 13:52:01.168 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 13:52:03.324 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:52:03.751 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:52:06.779 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:52:07.601 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3942.8185000000003ms
2018-05-02 13:52:07.615 -07:00 [INF] Request finished in 4297.8954ms 200 text/html; charset=utf-8
2018-05-02 13:52:09.459 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 13:52:09.631 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 13:52:09.678 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 13:52:10.372 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 13:52:10.645 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1138.2893000000001ms
2018-05-02 13:52:10.651 -07:00 [INF] Request finished in 1193.2637ms 200 text/html; charset=utf-8
2018-05-02 13:52:12.077 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 13:52:12.181 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 13:52:12.411 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:13.494 -07:00 [INF] Executed DbCommand (164ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 13:52:13.800 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 13:52:13.954 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 13:52:14.090 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:52:14.232 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:52:14.328 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:52:14.428 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:52:14.538 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 13:52:14.635 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 13:52:14.703 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 13:52:14.711 -07:00 [INF] User logged in.
2018-05-02 13:52:14.720 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 13:52:14.727 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2625.8253ms
2018-05-02 13:52:14.739 -07:00 [INF] Request finished in 2662.1048ms 302 
2018-05-02 13:52:14.786 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 13:52:14.799 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:14.806 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:14.896 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:52:14.903 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 13:52:14.920 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 107.17530000000001ms
2018-05-02 13:52:14.927 -07:00 [INF] Request finished in 140.7636ms 200 text/html; charset=utf-8
2018-05-02 13:52:32.420 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 13:52:32.427 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:32.433 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:32.476 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:52:32.488 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:32.646 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 13:52:32.785 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:33.062 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 13:52:33.097 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 649.46980000000008ms
2018-05-02 13:52:33.106 -07:00 [INF] Request finished in 686.2946ms 200 text/html; charset=utf-8
2018-05-02 13:52:35.315 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-02 13:52:35.322 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:35.328 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:35.366 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-02 13:52:35.376 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:35.527 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:52:35.639 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:35.969 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-02 13:52:36.020 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 677.3677ms
2018-05-02 13:52:36.029 -07:00 [INF] Request finished in 713.7509ms 200 text/html; charset=utf-8
2018-05-02 13:52:41.685 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-02 13:52:41.692 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:41.698 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:41.740 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-02 13:52:41.766 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:41.801 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:52:41.947 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-02 13:52:42.063 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-02 13:52:42.281 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-02 13:52:42.550 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 837.87880000000007ms
2018-05-02 13:52:42.557 -07:00 [INF] Request finished in 872.331ms 200 text/html; charset=utf-8
2018-05-02 13:52:45.314 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 506
2018-05-02 13:52:45.321 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:45.327 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:45.383 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:52:45.401 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:45.527 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:52:45.649 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:45.881 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [OrganizationAssignments]
WHERE [OrganizationId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2018-05-02 13:52:45.951 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-02 13:52:45.960 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 618.74610000000007ms
2018-05-02 13:52:45.974 -07:00 [INF] Request finished in 658.3108ms 302 
2018-05-02 13:52:45.987 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 13:52:45.996 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:46.004 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:46.071 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:52:46.077 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:46.203 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 13:52:46.293 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:46.302 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 13:52:46.313 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 300.0172ms
2018-05-02 13:52:46.323 -07:00 [INF] Request finished in 335.7615ms 200 text/html; charset=utf-8
2018-05-02 13:52:50.779 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-02 13:52:50.786 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:50.792 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:50.826 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-02 13:52:50.835 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:50.931 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-02 13:52:51.026 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-02 13:52:51.043 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-02 13:52:51.080 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 278.24440000000004ms
2018-05-02 13:52:51.088 -07:00 [INF] Request finished in 309.337ms 200 text/html; charset=utf-8
2018-05-02 13:52:52.762 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 13:52:52.769 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:52.776 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:52.807 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:52:52.816 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:52.914 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 13:52:53.005 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:53.017 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 13:52:53.035 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 250.0387ms
2018-05-02 13:52:53.045 -07:00 [INF] Request finished in 282.5893ms 200 text/html; charset=utf-8
2018-05-02 13:52:54.305 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/2  
2018-05-02 13:52:54.312 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:54.318 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:54.351 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2"]) - ModelState is "Valid"
2018-05-02 13:52:54.360 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:54.468 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-02 13:52:54.566 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-02 13:52:54.578 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-02 13:52:54.610 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 281.8952ms
2018-05-02 13:52:54.618 -07:00 [INF] Request finished in 313.1718ms 200 text/html; charset=utf-8
2018-05-02 13:52:56.923 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/2 application/x-www-form-urlencoded 513
2018-05-02 13:52:56.931 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:56.938 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:56.975 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:52:56.983 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:57.081 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:52:57.177 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:57.353 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@p1='?', @p0='?' (Size = 4000), @p2='?', @p3='?' (Size = 450), @p4='?', @p5='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [OrganizationAssignments]
WHERE [OrganizationId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p4, @p5);
2018-05-02 13:52:57.423 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-02 13:52:57.437 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 488.0072ms
2018-05-02 13:52:57.449 -07:00 [INF] Request finished in 524.5839ms 302 
2018-05-02 13:52:57.462 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 13:52:57.469 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:57.475 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:52:57.569 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:52:57.581 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:52:57.750 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 13:52:57.864 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:52:57.874 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 13:52:57.886 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 403.57590000000005ms
2018-05-02 13:52:57.895 -07:00 [INF] Request finished in 431.9175ms 200 text/html; charset=utf-8
2018-05-02 13:53:00.548 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 13:53:00.555 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:00.561 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:00.582 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:53:00.633 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 13:53:00.643 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:53:00.788 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 13:53:00.895 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:53:01.204 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 13:53:01.281 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 705.1534ms
2018-05-02 13:53:01.291 -07:00 [INF] Request finished in 743.5432ms 200 text/html; charset=utf-8
2018-05-02 13:53:04.084 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:53:04.092 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:04.098 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:04.111 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:53:04.141 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 13:53:04.151 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:53:04.267 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:53:04.364 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:53:04.638 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 13:53:04.683 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 570.72620000000006ms
2018-05-02 13:53:04.693 -07:00 [INF] Request finished in 608.8112ms 200 text/html; charset=utf-8
2018-05-02 13:53:06.411 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 13:53:06.418 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:06.425 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:06.441 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:53:06.478 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:53:06.491 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:53:06.618 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 13:53:06.727 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:53:06.746 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 13:53:06.759 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:53:06.768 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:53:06.775 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 13:53:06.783 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 13:53:06.895 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 13:53:07.156 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 13:53:07.396 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 953.9007ms
2018-05-02 13:53:07.408 -07:00 [INF] Request finished in 996.0996ms 200 text/html; charset=utf-8
2018-05-02 13:53:09.183 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 13:53:09.191 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:09.199 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 13:53:09.214 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 13:53:09.249 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 13:53:09.261 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 13:53:09.401 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 13:53:09.516 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 13:53:11.998 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 2782.9508ms
2018-05-02 13:53:12.090 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The entity type 'HashSet<OrganizationAssignment>' was not found. Ensure that the entity type has been added to the model.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity)
   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 178
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 13:53:12.293 -07:00 [INF] Request finished in 3108.9627ms 500 text/html; charset=utf-8
2018-05-02 14:03:04.187 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 14:03:04.400 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 14:03:06.577 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:03:07.027 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:03:09.951 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:03:10.783 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3869.1600000000003ms
2018-05-02 14:03:10.793 -07:00 [INF] Request finished in 4222.122ms 200 text/html; charset=utf-8
2018-05-02 14:03:13.378 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 14:03:13.504 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 14:03:13.527 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 14:03:14.180 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 14:03:14.459 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1032.6239ms
2018-05-02 14:03:14.465 -07:00 [INF] Request finished in 1087.4091ms 200 text/html; charset=utf-8
2018-05-02 14:03:15.947 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 14:03:16.033 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 14:03:16.263 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:03:20.388 -07:00 [INF] Executed DbCommand (184ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 14:03:20.709 -07:00 [INF] Executed DbCommand (145ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 14:03:20.874 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 14:03:21.012 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:03:21.155 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:03:21.256 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:03:21.360 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:03:21.472 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:03:21.608 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:03:21.681 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 14:03:21.690 -07:00 [INF] User logged in.
2018-05-02 14:03:21.701 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 14:03:21.709 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 5741.1775000000007ms
2018-05-02 14:03:21.718 -07:00 [INF] Request finished in 5770.6048ms 302 
2018-05-02 14:03:21.749 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:03:21.760 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:21.765 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:21.848 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:03:21.857 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:03:21.875 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 102.2073ms
2018-05-02 14:03:21.883 -07:00 [INF] Request finished in 150.1868ms 200 text/html; charset=utf-8
2018-05-02 14:03:27.700 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 14:03:27.706 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:27.711 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:27.747 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:03:27.756 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:03:27.930 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 14:03:28.088 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:03:28.320 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 14:03:28.355 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 629.8491ms
2018-05-02 14:03:28.365 -07:00 [INF] Request finished in 663.5647ms 200 text/html; charset=utf-8
2018-05-02 14:03:30.947 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 14:03:30.952 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:30.956 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:30.972 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:03:31.019 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:03:31.027 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:03:31.153 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 14:03:31.248 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:03:31.604 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 14:03:31.689 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 720.9012ms
2018-05-02 14:03:31.694 -07:00 [INF] Request finished in 747.9026ms 200 text/html; charset=utf-8
2018-05-02 14:03:32.962 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:03:32.967 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:32.971 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:32.981 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:03:33.020 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 14:03:33.028 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:03:33.162 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:03:33.267 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:03:33.591 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 14:03:33.636 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 654.49930000000006ms
2018-05-02 14:03:33.640 -07:00 [INF] Request finished in 679.1031ms 200 text/html; charset=utf-8
2018-05-02 14:03:35.194 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:03:35.200 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:35.205 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:35.221 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:03:35.262 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:03:35.274 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:03:35.400 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:03:35.497 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:03:35.517 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 14:03:35.538 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:03:35.545 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:03:35.550 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:03:35.556 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:03:35.691 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 14:03:35.961 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 14:03:36.311 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1088.4909ms
2018-05-02 14:03:36.319 -07:00 [INF] Request finished in 1124.304ms 200 text/html; charset=utf-8
2018-05-02 14:03:38.343 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 14:03:38.349 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:38.355 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:03:38.368 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:03:38.423 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:03:38.440 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:03:38.557 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 14:03:38.670 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:03:38.901 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 14:03:39.073 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 704.1878ms
2018-05-02 14:03:39.322 -07:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 14:03:39.417 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 14:03:39.485 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 14:03:39.662 -07:00 [INF] Request finished in 1319.9591ms 500 text/html; charset=utf-8
2018-05-02 14:25:20.477 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:25:20.483 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:25:20.487 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:25:20.492 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:25:20.524 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:25:20.531 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:25:21.229 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:25:21.352 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:25:21.468 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 14:25:21.486 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 14:25:21.531 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1033.4859000000001ms
2018-05-02 14:25:21.541 -07:00 [INF] Request finished in 1061.8844ms 200 text/html; charset=utf-8
2018-05-02 14:25:22.907 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 14:25:22.913 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:25:22.918 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:25:22.923 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:25:22.954 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:25:22.960 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:25:23.055 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 14:25:23.160 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:25:23.309 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 14:25:23.476 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 551.0113ms
2018-05-02 14:25:23.648 -07:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 14:25:23.748 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 14:25:23.803 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 14:25:24.000 -07:00 [INF] Request finished in 1092.7378ms 500 text/html; charset=utf-8
2018-05-02 14:33:03.624 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 14:33:03.868 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 14:33:05.938 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:33:06.422 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:33:09.195 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:33:10.023 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3724.7946ms
2018-05-02 14:33:10.034 -07:00 [INF] Request finished in 4102.3709ms 200 text/html; charset=utf-8
2018-05-02 14:33:16.555 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 14:33:16.674 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 14:33:16.695 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 14:33:17.366 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 14:33:17.656 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1049.8211000000001ms
2018-05-02 14:33:17.664 -07:00 [INF] Request finished in 1108.943ms 200 text/html; charset=utf-8
2018-05-02 14:33:21.325 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 14:33:21.419 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 14:33:21.641 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:22.735 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 14:33:23.008 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 14:33:23.144 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 14:33:23.256 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:33:23.383 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:33:23.492 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:33:23.625 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:33:23.716 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:33:23.815 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:33:23.873 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 14:33:23.879 -07:00 [INF] User logged in.
2018-05-02 14:33:23.887 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 14:33:23.893 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2543.9041ms
2018-05-02 14:33:23.901 -07:00 [INF] Request finished in 2575.8676ms 302 
2018-05-02 14:33:23.910 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:33:23.921 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:23.927 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:24.004 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:33:24.010 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:33:24.025 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 91.5586ms
2018-05-02 14:33:24.032 -07:00 [INF] Request finished in 121.4282ms 200 text/html; charset=utf-8
2018-05-02 14:33:32.859 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 14:33:32.866 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:32.871 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:32.887 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:33:32.933 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:33:32.944 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:33.108 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 14:33:33.225 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:33:33.535 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 14:33:33.639 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 755.07030000000009ms
2018-05-02 14:33:33.650 -07:00 [INF] Request finished in 789.2353ms 200 text/html; charset=utf-8
2018-05-02 14:33:35.716 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:33:35.721 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:35.727 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:35.737 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:33:35.768 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 14:33:35.776 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:35.919 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:33:36.012 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:33:36.389 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-02 14:33:37.036 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1297.8651ms
2018-05-02 14:33:37.131 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 23
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 14:33:37.358 -07:00 [INF] Request finished in 1643.2292ms 500 text/html; charset=utf-8
2018-05-02 14:33:38.923 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 14:33:38.928 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:38.933 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:38.938 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:33:38.967 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:33:38.973 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:39.065 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 14:33:39.148 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:33:39.155 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 14:33:39.177 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 237.83290000000002ms
2018-05-02 14:33:39.183 -07:00 [INF] Request finished in 261.3164ms 200 text/html; charset=utf-8
2018-05-02 14:33:40.171 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:33:40.177 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:40.182 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:40.193 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:33:40.224 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 14:33:40.232 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:40.331 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:33:40.424 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:33:40.656 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 14:33:40.697 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 503.3455ms
2018-05-02 14:33:40.703 -07:00 [INF] Request finished in 532.6106ms 200 text/html; charset=utf-8
2018-05-02 14:33:41.786 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:33:41.792 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:41.798 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:41.814 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:33:41.853 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:33:41.864 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:41.975 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:33:42.071 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:33:42.086 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 14:33:42.103 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:33:42.111 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:33:42.117 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:33:42.123 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:33:42.249 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 14:33:42.430 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 14:33:42.512 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 694.609ms
2018-05-02 14:33:42.523 -07:00 [INF] Request finished in 735.1847ms 200 text/html; charset=utf-8
2018-05-02 14:33:44.832 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 14:33:44.838 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:44.843 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:33:44.856 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:33:44.892 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:33:44.902 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:33:45.012 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 14:33:45.105 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:33:45.345 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 14:33:45.476 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 619.7989ms
2018-05-02 14:33:45.695 -07:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 14:33:45.777 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 14:33:45.823 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 14:33:46.067 -07:00 [INF] Request finished in 1235.8329ms 500 text/html; charset=utf-8
2018-05-02 14:39:59.898 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 14:40:00.162 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 14:40:02.213 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:40:02.655 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:40:05.613 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:40:06.403 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3875.9648ms
2018-05-02 14:40:06.418 -07:00 [INF] Request finished in 4208.6866ms 200 text/html; charset=utf-8
2018-05-02 14:40:22.738 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 14:40:22.858 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 14:40:22.882 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 14:40:23.695 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 14:40:23.985 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1196.0678ms
2018-05-02 14:40:23.996 -07:00 [INF] Request finished in 1254.6581ms 200 text/html; charset=utf-8
2018-05-02 14:40:25.381 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 14:40:25.488 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 14:40:25.730 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:40:26.866 -07:00 [INF] Executed DbCommand (169ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 14:40:27.196 -07:00 [INF] Executed DbCommand (164ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 14:40:27.350 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 14:40:27.483 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:40:27.663 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:40:27.792 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:40:27.932 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:40:28.041 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:40:28.159 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:40:28.256 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 14:40:28.264 -07:00 [INF] User logged in.
2018-05-02 14:40:28.273 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 14:40:28.280 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2874.6687ms
2018-05-02 14:40:28.290 -07:00 [INF] Request finished in 2909.537ms 302 
2018-05-02 14:40:28.302 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:40:28.314 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:28.322 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:28.426 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:40:28.438 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:40:28.475 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 142.4789ms
2018-05-02 14:40:28.488 -07:00 [INF] Request finished in 184.0871ms 200 text/html; charset=utf-8
2018-05-02 14:40:33.387 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 14:40:33.393 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:33.398 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:33.416 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:40:33.450 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:40:33.462 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:40:33.652 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 14:40:33.787 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:40:34.082 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 14:40:34.173 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 759.1593ms
2018-05-02 14:40:34.184 -07:00 [INF] Request finished in 796.115ms 200 text/html; charset=utf-8
2018-05-02 14:40:37.810 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:40:37.816 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:37.821 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:37.833 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:40:37.863 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 14:40:37.872 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:40:38.016 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:40:38.127 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:40:38.442 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 14:40:38.493 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 659.438ms
2018-05-02 14:40:38.501 -07:00 [INF] Request finished in 691.0674ms 200 text/html; charset=utf-8
2018-05-02 14:40:41.082 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:40:41.087 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:41.092 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:41.104 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:40:41.142 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:40:41.155 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:40:41.283 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:40:41.380 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:40:41.399 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 14:40:41.426 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:40:41.437 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:40:41.446 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:40:41.456 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:40:41.627 -07:00 [INF] Executed DbCommand (141ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 14:40:41.815 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 14:40:42.107 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1001.6198ms
2018-05-02 14:40:42.114 -07:00 [INF] Request finished in 1032.3399ms 200 text/html; charset=utf-8
2018-05-02 14:40:45.936 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 14:40:45.942 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:45.947 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:40:45.960 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:40:46.013 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:40:46.022 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:40:46.132 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 14:40:46.227 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:40:46.465 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-02 14:40:46.644 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 684.86560000000009ms
2018-05-02 14:40:46.858 -07:00 [INF] Executed DbCommand (141ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-02 14:40:46.961 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-02 14:40:47.024 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'OrganizationId' on entity type 'OrganizationAssignment' has a temporary value. Either set a permanent value explicitly or ensure that the database is configured to generate values for this property.
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.Validate(ModificationCommand modificationCommand)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.<BatchCommands>d__8.MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<EditOrganizations>d__9.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 179
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-02 14:40:47.201 -07:00 [INF] Request finished in 1265.3714ms 500 text/html; charset=utf-8
2018-05-02 14:46:16.858 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:46:16.863 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:46:16.867 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:46:16.871 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:46:16.900 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:46:16.905 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:46:17.008 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:46:17.104 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:46:17.228 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 14:46:17.236 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 14:46:17.255 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 381.12080000000003ms
2018-05-02 14:46:17.263 -07:00 [INF] Request finished in 404.2463ms 200 text/html; charset=utf-8
2018-05-02 14:46:18.639 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 14:46:18.644 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:46:18.649 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:46:18.653 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:46:18.683 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:46:18.689 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:46:18.781 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 14:46:18.892 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:47:51.653 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 14:47:51.854 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 14:47:53.967 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:47:54.391 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:47:57.234 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:47:58.027 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3745.0472ms
2018-05-02 14:47:58.039 -07:00 [INF] Request finished in 4078.5207ms 200 text/html; charset=utf-8
2018-05-02 14:48:00.025 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 14:48:00.149 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 14:48:00.177 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 14:48:00.852 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 14:48:01.167 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1085.4917ms
2018-05-02 14:48:01.174 -07:00 [INF] Request finished in 1148.7025ms 200 text/html; charset=utf-8
2018-05-02 14:48:02.564 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 14:48:02.646 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 14:48:02.863 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:48:03.929 -07:00 [INF] Executed DbCommand (148ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 14:48:04.209 -07:00 [INF] Executed DbCommand (140ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 14:48:04.349 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 14:48:04.471 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:48:04.626 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:48:04.724 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:48:04.820 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:48:04.916 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 14:48:05.019 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 14:48:05.079 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 14:48:05.086 -07:00 [INF] User logged in.
2018-05-02 14:48:05.093 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 14:48:05.099 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2514.9626000000003ms
2018-05-02 14:48:05.108 -07:00 [INF] Request finished in 2544.2714ms 302 
2018-05-02 14:48:05.118 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 14:48:05.128 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:05.135 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:05.216 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:48:05.224 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 14:48:05.240 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 97.7502ms
2018-05-02 14:48:05.246 -07:00 [INF] Request finished in 128.8395ms 200 text/html; charset=utf-8
2018-05-02 14:48:15.155 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-02 14:48:15.161 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:15.167 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:15.203 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:48:15.212 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:48:15.367 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-02 14:48:15.522 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:48:15.845 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-02 14:48:15.878 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 699.4545ms
2018-05-02 14:48:15.887 -07:00 [INF] Request finished in 731.3742ms 200 text/html; charset=utf-8
2018-05-02 14:48:37.119 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 14:48:37.124 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:37.129 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:37.144 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:48:37.181 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 14:48:37.188 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:48:37.305 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 14:48:37.419 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:48:37.738 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 14:48:37.818 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 679.2871ms
2018-05-02 14:48:37.825 -07:00 [INF] Request finished in 705.7574ms 200 text/html; charset=utf-8
2018-05-02 14:48:39.753 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:48:39.759 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:39.764 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:39.776 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:48:39.807 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 14:48:39.815 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:48:39.947 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:48:40.045 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:48:40.320 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 14:48:40.364 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 586.84350000000006ms
2018-05-02 14:48:40.370 -07:00 [INF] Request finished in 617.2121ms 200 text/html; charset=utf-8
2018-05-02 14:48:42.417 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 14:48:42.423 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:42.428 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:42.452 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:48:42.492 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:48:42.503 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:48:42.617 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 14:48:42.711 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 14:48:42.726 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 14:48:42.742 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:48:42.751 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:48:42.757 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 14:48:42.764 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 14:48:42.893 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 14:48:43.079 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 14:48:43.393 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 940.7899ms
2018-05-02 14:48:43.400 -07:00 [INF] Request finished in 982.5856ms 200 text/html; charset=utf-8
2018-05-02 14:48:50.431 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 14:48:50.437 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:50.442 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 14:48:50.455 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 14:48:50.495 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 14:48:50.507 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 14:48:50.620 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 14:48:50.712 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:01:00.041 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 15:01:00.250 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 15:01:03.085 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 15:01:03.550 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:01:06.359 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 15:01:07.157 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3755.0388000000003ms
2018-05-02 15:01:07.168 -07:00 [INF] Request finished in 4089.1537ms 200 text/html; charset=utf-8
2018-05-02 15:11:21.340 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 15:11:21.550 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 15:11:21.573 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 15:11:22.229 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 15:11:22.601 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1176.1775ms
2018-05-02 15:11:22.612 -07:00 [INF] Request finished in 1269.7141ms 200 text/html; charset=utf-8
2018-05-02 15:11:23.878 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 15:11:23.978 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 15:11:24.195 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:11:25.313 -07:00 [INF] Executed DbCommand (172ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 15:11:25.610 -07:00 [INF] Executed DbCommand (155ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 15:11:25.754 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 15:11:25.872 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 15:11:26.001 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 15:11:26.110 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 15:11:26.223 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 15:11:26.343 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 15:11:26.465 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 15:11:26.543 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 15:11:26.548 -07:00 [INF] User logged in.
2018-05-02 15:11:26.555 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 15:11:26.561 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2659.5597000000002ms
2018-05-02 15:11:26.568 -07:00 [INF] Request finished in 2691.0822ms 302 
2018-05-02 15:11:26.576 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 15:11:26.586 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:26.591 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:26.692 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:11:26.701 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 15:11:26.721 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 120.3481ms
2018-05-02 15:11:26.733 -07:00 [INF] Request finished in 153.2581ms 200 text/html; charset=utf-8
2018-05-02 15:11:28.314 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 15:11:28.320 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:28.326 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:28.343 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:11:28.382 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:11:28.390 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:11:28.570 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 15:11:28.707 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:11:28.996 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 15:11:29.081 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 742.32810000000006ms
2018-05-02 15:11:29.094 -07:00 [INF] Request finished in 776.6171ms 200 text/html; charset=utf-8
2018-05-02 15:11:30.800 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:11:30.807 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:30.812 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:30.823 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:11:30.870 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 15:11:30.879 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:11:31.015 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:11:31.123 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:11:31.380 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 15:11:31.425 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 599.73750000000007ms
2018-05-02 15:11:31.433 -07:00 [INF] Request finished in 632.9226ms 200 text/html; charset=utf-8
2018-05-02 15:11:33.880 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:11:33.886 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:33.891 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:33.903 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:11:33.942 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:11:33.953 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:11:34.087 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:11:34.195 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:11:34.211 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 15:11:34.227 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 15:11:34.236 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 15:11:34.244 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 15:11:34.251 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 15:11:34.383 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:11:34.582 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:11:34.875 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 969.5389ms
2018-05-02 15:11:34.885 -07:00 [INF] Request finished in 1004.6003ms 200 text/html; charset=utf-8
2018-05-02 15:11:38.124 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:11:38.130 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:38.135 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:11:38.140 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:11:38.170 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:11:38.175 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:11:38.266 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:11:38.365 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:11:38.477 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:11:38.489 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:11:38.516 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 373.14480000000003ms
2018-05-02 15:11:38.523 -07:00 [INF] Request finished in 398.6843ms 200 text/html; charset=utf-8
2018-05-02 15:12:46.159 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 15:12:46.165 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:12:46.171 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:12:46.182 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:12:46.226 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:16:01.645 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-02 15:16:01.864 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-02 15:16:03.864 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 15:16:04.305 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:16:07.393 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 15:16:08.304 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4122.4794ms
2018-05-02 15:16:08.319 -07:00 [INF] Request finished in 4461.2747ms 200 text/html; charset=utf-8
2018-05-02 15:16:17.613 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-02 15:16:17.744 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-02 15:16:17.769 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-02 15:16:18.445 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-02 15:16:18.781 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1115.2758000000001ms
2018-05-02 15:16:18.793 -07:00 [INF] Request finished in 1177.7948ms 200 text/html; charset=utf-8
2018-05-02 15:16:20.165 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-02 15:16:20.250 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-02 15:16:20.478 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:21.608 -07:00 [INF] Executed DbCommand (191ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-02 15:16:21.924 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-02 15:16:22.068 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-02 15:16:22.184 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 15:16:22.333 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 15:16:22.436 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 15:16:22.545 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 15:16:22.646 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-02 15:16:22.768 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-02 15:16:22.833 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-02 15:16:22.843 -07:00 [INF] User logged in.
2018-05-02 15:16:22.851 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-02 15:16:22.859 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2673.1439ms
2018-05-02 15:16:22.870 -07:00 [INF] Request finished in 2705.1952ms 302 
2018-05-02 15:16:22.881 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-02 15:16:22.905 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:22.912 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:22.997 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:16:23.009 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-02 15:16:23.038 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 115.5377ms
2018-05-02 15:16:23.045 -07:00 [INF] Request finished in 164.2188ms 200 text/html; charset=utf-8
2018-05-02 15:16:25.692 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 15:16:25.700 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:25.707 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:25.726 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:25.778 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:16:25.790 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:25.973 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 15:16:26.134 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:16:26.531 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 15:16:26.622 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 897.6155ms
2018-05-02 15:16:26.633 -07:00 [INF] Request finished in 941.1427ms 200 text/html; charset=utf-8
2018-05-02 15:16:28.339 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:16:28.346 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:28.352 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:28.365 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:28.397 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 15:16:28.406 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:28.568 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:16:28.700 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:16:28.999 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 15:16:29.043 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 678.6516ms
2018-05-02 15:16:29.052 -07:00 [INF] Request finished in 712.8484ms 200 text/html; charset=utf-8
2018-05-02 15:16:30.378 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:16:30.385 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:30.391 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:30.409 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:30.449 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:16:30.461 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:30.578 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:16:30.692 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:16:30.719 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-02 15:16:30.744 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 15:16:30.755 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 15:16:30.765 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-02 15:16:30.773 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-02 15:16:30.919 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:16:31.101 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:16:31.419 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1008.1702ms
2018-05-02 15:16:31.428 -07:00 [INF] Request finished in 1048.9101ms 200 text/html; charset=utf-8
2018-05-02 15:16:35.071 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-02 15:16:35.079 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:35.087 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:35.102 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:35.148 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:16:45.505 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:45.620 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 15:16:45.726 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:16:50.235 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256), @p17='?', @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p17, @p18);
2018-05-02 15:16:50.314 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-02 15:16:50.327 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 15223.666200000001ms
2018-05-02 15:16:50.335 -07:00 [INF] Request finished in 15264.0984ms 302 
2018-05-02 15:16:50.348 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 15:16:50.357 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:50.365 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:50.372 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:50.445 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:16:50.454 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:50.584 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 15:16:50.680 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:16:50.691 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 15:16:50.716 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 341.072ms
2018-05-02 15:16:50.726 -07:00 [INF] Request finished in 377.3466ms 200 text/html; charset=utf-8
2018-05-02 15:16:56.012 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:16:56.019 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:56.026 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:56.032 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:56.067 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 15:16:56.076 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:16:56.172 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:16:56.278 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:16:56.290 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 15:16:56.304 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 269.7684ms
2018-05-02 15:16:56.311 -07:00 [INF] Request finished in 300.0705ms 200 text/html; charset=utf-8
2018-05-02 15:16:59.944 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:16:59.951 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:59.956 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:16:59.962 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:16:59.998 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:00.008 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:00.106 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:00.195 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:00.300 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:17:00.315 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:17:00.336 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 369.6483ms
2018-05-02 15:17:00.346 -07:00 [INF] Request finished in 399.9741ms 200 text/html; charset=utf-8
2018-05-02 15:17:03.166 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 458
2018-05-02 15:17:03.172 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:03.178 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:03.183 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:03.214 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:05.058 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:05.148 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 15:17:05.234 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:05.415 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256), @p17='?', @p18='?' (Size = 450), @p19='?', @p20='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [OrganizationAssignments]
WHERE [OrganizationId] = @p17 AND [UserId] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [OrganizationAssignments]
WHERE [OrganizationId] = @p19 AND [UserId] = @p20;
SELECT @@ROWCOUNT;
2018-05-02 15:17:05.481 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-02 15:17:05.491 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 2306.0521000000003ms
2018-05-02 15:17:05.501 -07:00 [INF] Request finished in 2333.5834ms 302 
2018-05-02 15:17:05.515 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 15:17:05.525 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:05.535 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:05.543 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:05.617 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:17:05.625 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:05.752 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 15:17:05.841 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:05.850 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 15:17:05.875 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 330.18760000000003ms
2018-05-02 15:17:05.884 -07:00 [INF] Request finished in 369.3468ms 200 text/html; charset=utf-8
2018-05-02 15:17:09.098 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:17:09.105 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:09.111 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:09.116 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:09.147 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 15:17:09.153 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:09.246 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:09.338 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:09.347 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 15:17:09.357 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 239.6305ms
2018-05-02 15:17:09.364 -07:00 [INF] Request finished in 266.7208ms 200 text/html; charset=utf-8
2018-05-02 15:17:40.154 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:17:40.166 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:40.175 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:40.185 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:40.231 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-02 15:17:40.239 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:40.334 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:40.441 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:40.741 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-02 15:17:40.801 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 613.76560000000006ms
2018-05-02 15:17:40.814 -07:00 [INF] Request finished in 659.6871ms 200 text/html; charset=utf-8
2018-05-02 15:17:40.898 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-02 15:17:40.910 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-02 15:17:40.928 -07:00 [INF] Request finished in 32.1737ms 200 image/x-icon
2018-05-02 15:17:44.058 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:17:44.065 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:44.071 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:44.077 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:44.106 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:44.112 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:44.208 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:44.297 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:44.418 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:17:44.432 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:17:44.463 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 381.1455ms
2018-05-02 15:17:44.475 -07:00 [INF] Request finished in 413.9219ms 200 text/html; charset=utf-8
2018-05-02 15:17:47.127 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 480
2018-05-02 15:17:47.134 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:47.140 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:47.146 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:47.177 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:47.183 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:47.290 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-02 15:17:47.379 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:47.575 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256), @p17='?', @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p17, @p18);
2018-05-02 15:17:47.638 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-02 15:17:47.644 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 498.38910000000004ms
2018-05-02 15:17:47.653 -07:00 [INF] Request finished in 525.638ms 302 
2018-05-02 15:17:47.665 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 15:17:47.673 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:47.680 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:47.688 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:47.754 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:17:47.762 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:47.891 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 15:17:47.981 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:47.990 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 15:17:48.017 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 324.8132ms
2018-05-02 15:17:48.025 -07:00 [INF] Request finished in 359.6248ms 200 text/html; charset=utf-8
2018-05-02 15:17:49.547 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-02 15:17:49.560 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:49.572 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:49.584 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:49.634 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-02 15:17:49.646 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:49.749 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-02 15:17:49.847 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:49.864 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-02 15:17:49.907 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 317.0264ms
2018-05-02 15:17:49.920 -07:00 [INF] Request finished in 377.5016ms 200 text/html; charset=utf-8
2018-05-02 15:17:50.001 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-02 15:17:50.012 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-02 15:17:50.030 -07:00 [INF] Request finished in 30.2451ms 200 image/x-icon
2018-05-02 15:17:51.378 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:17:51.385 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:51.390 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:51.397 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:51.430 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:51.439 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:51.540 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:51.654 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:51.789 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:17:51.806 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:17:51.849 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 444.41360000000003ms
2018-05-02 15:17:51.861 -07:00 [INF] Request finished in 483.1475ms 200 text/html; charset=utf-8
2018-05-02 15:17:55.141 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:17:55.149 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:55.157 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:55.164 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:55.197 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:55.205 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:55.302 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:55.391 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:55.495 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:17:55.506 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:17:55.530 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 363.16540000000003ms
2018-05-02 15:17:55.538 -07:00 [INF] Request finished in 400.004ms 200 text/html; charset=utf-8
2018-05-02 15:17:55.626 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-02 15:17:55.638 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-02 15:17:55.649 -07:00 [INF] Request finished in 27.9028ms 200 image/x-icon
2018-05-02 15:17:57.199 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-02 15:17:57.213 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:57.223 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-02 15:17:57.234 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-02 15:17:57.282 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-02 15:17:57.291 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-02 15:17:57.390 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-02 15:17:57.503 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-02 15:17:57.621 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-02 15:17:57.632 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-02 15:17:57.660 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 423.5251ms
2018-05-02 15:17:57.669 -07:00 [INF] Request finished in 475.6313ms 200 text/html; charset=utf-8
2018-05-02 15:17:57.753 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-02 15:17:57.761 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-02 15:17:57.784 -07:00 [INF] Request finished in 31.3806ms 200 image/x-icon
2018-05-03 12:28:15.477 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 12:28:15.809 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 12:28:18.641 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 12:28:19.211 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:28:22.558 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 12:28:23.587 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4511.2798ms
2018-05-03 12:28:23.610 -07:00 [INF] Request finished in 4973.4915ms 200 text/html; charset=utf-8
2018-05-03 12:28:25.485 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 12:28:25.646 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 12:28:25.688 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 12:28:26.472 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 12:28:26.857 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1315.3923ms
2018-05-03 12:28:26.866 -07:00 [INF] Request finished in 1382.0427ms 200 text/html; charset=utf-8
2018-05-03 12:28:28.076 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 12:28:28.182 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 12:28:28.429 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:28:44.201 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-03 12:28:44.348 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-03 12:28:44.579 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-03 12:28:44.924 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 16828.8753ms
2018-05-03 12:28:45.125 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-03 12:28:45.285 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.SignInManager`1.<PasswordSignInAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.AccountController.<Login>d__10.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 64
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-03 12:28:45.643 -07:00 [INF] Request finished in 17570.066ms 500 text/html; charset=utf-8
2018-05-03 12:29:34.422 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 12:29:34.629 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 12:29:36.668 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 12:29:37.149 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:29:40.065 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 12:29:40.907 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3906.6506000000004ms
2018-05-03 12:29:40.926 -07:00 [INF] Request finished in 4266.364ms 200 text/html; charset=utf-8
2018-05-03 12:31:03.437 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 12:31:03.728 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 12:31:03.768 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 12:31:04.610 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 12:31:04.885 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1281.1833000000001ms
2018-05-03 12:31:04.893 -07:00 [INF] Request finished in 1467.3896ms 200 text/html; charset=utf-8
2018-05-03 12:31:06.197 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 12:31:06.314 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 12:31:06.563 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:07.882 -07:00 [INF] Executed DbCommand (231ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 12:31:08.167 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 12:31:08.325 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 12:31:08.476 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 12:31:08.648 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 12:31:08.739 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 12:31:08.860 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 12:31:08.954 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 12:31:09.048 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 12:31:09.161 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 12:31:09.175 -07:00 [INF] User logged in.
2018-05-03 12:31:09.187 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 12:31:09.198 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2979.1961ms
2018-05-03 12:31:09.212 -07:00 [INF] Request finished in 3013.8329ms 302 
2018-05-03 12:31:09.229 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 12:31:09.250 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:09.262 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:09.351 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:31:09.358 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 12:31:09.378 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 104.17450000000001ms
2018-05-03 12:31:09.388 -07:00 [INF] Request finished in 159.452ms 200 text/html; charset=utf-8
2018-05-03 12:31:11.344 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 12:31:11.351 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:11.357 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:11.377 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:11.413 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:31:11.424 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:11.598 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 12:31:11.702 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:12.044 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 12:31:12.147 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 774.8553ms
2018-05-03 12:31:12.158 -07:00 [INF] Request finished in 812.985ms 200 text/html; charset=utf-8
2018-05-03 12:31:14.350 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 12:31:14.357 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:14.363 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:14.376 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:14.409 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 12:31:14.419 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:14.565 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 12:31:14.655 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:14.910 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-03 12:31:14.955 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 579.1044ms
2018-05-03 12:31:14.963 -07:00 [INF] Request finished in 612.8263ms 200 text/html; charset=utf-8
2018-05-03 12:31:16.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 12:31:16.349 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:16.354 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:16.373 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:16.416 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-03 12:31:16.428 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:16.538 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 12:31:16.627 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:16.644 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-03 12:31:16.660 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-03 12:31:16.670 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-03 12:31:16.677 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-03 12:31:16.685 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-03 12:31:16.809 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-03 12:31:17.046 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-03 12:31:17.401 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1028.0898ms
2018-05-03 12:31:17.409 -07:00 [INF] Request finished in 1066.7349ms 200 text/html; charset=utf-8
2018-05-03 12:31:19.050 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 502
2018-05-03 12:31:19.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:19.062 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:19.076 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:19.118 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-03 12:31:19.129 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:19.238 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-03 12:31:19.330 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:19.603 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@p15='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p16='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?', @p11='?', @p12='?' (Size = 4000), @p13='?', @p14='?' (Size = 256), @p17='?', @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RegistrationDate] = @p11, [SecurityStamp] = @p12, [TwoFactorEnabled] = @p13, [UserName] = @p14
WHERE [Id] = @p15 AND [ConcurrencyStamp] = @p16;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p17, @p18);
2018-05-03 12:31:19.673 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-03 12:31:19.682 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 606.12330000000009ms
2018-05-03 12:31:19.689 -07:00 [INF] Request finished in 638.8131ms 302 
2018-05-03 12:31:19.700 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 12:31:19.707 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:19.714 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:19.721 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:19.783 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:31:19.791 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:19.905 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 12:31:19.988 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:20.000 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 12:31:20.047 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 321.08340000000004ms
2018-05-03 12:31:20.058 -07:00 [INF] Request finished in 357.0781ms 200 text/html; charset=utf-8
2018-05-03 12:31:22.517 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 12:31:22.523 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:22.529 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:22.535 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:22.567 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 12:31:22.575 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:22.662 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 12:31:22.744 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:22.752 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-03 12:31:22.762 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 225.7321ms
2018-05-03 12:31:22.769 -07:00 [INF] Request finished in 252.6565ms 200 text/html; charset=utf-8
2018-05-03 12:31:25.020 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 12:31:25.026 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:25.031 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:31:25.038 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:31:25.069 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:31:25.077 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:31:25.166 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 12:31:25.248 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 12:31:25.255 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 12:31:25.279 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 238.97490000000002ms
2018-05-03 12:31:25.286 -07:00 [INF] Request finished in 266.9785ms 200 text/html; charset=utf-8
2018-05-03 12:32:08.482 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-03 12:32:08.488 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:32:08.493 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:32:08.504 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:32:08.534 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:32:08.542 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:32:08.639 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-03 12:32:08.880 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-03 12:32:09.242 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 736.2211ms
2018-05-03 12:32:09.250 -07:00 [INF] Request finished in 768.2826ms 200 text/html; charset=utf-8
2018-05-03 12:32:11.897 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Create  
2018-05-03 12:32:11.903 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:32:11.909 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:32:11.922 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:32:11.955 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Create (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:32:12.192 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Create.cshtml.
2018-05-03 12:32:12.234 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Create (IdentityServer) in 311.68690000000004ms
2018-05-03 12:32:12.241 -07:00 [INF] Request finished in 344.5412ms 200 text/html; charset=utf-8
2018-05-03 12:34:29.307 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationRoles/Create application/x-www-form-urlencoded 293
2018-05-03 12:34:29.313 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:29.317 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:29.329 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:34:29.381 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Create (IdentityServer) with arguments (["Access Manager"]) - ModelState is "Valid"
2018-05-03 12:34:29.396 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:34:29.588 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2018-05-03 12:34:29.647 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationRoles/Index.
2018-05-03 12:34:29.653 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Create (IdentityServer) in 324.3508ms
2018-05-03 12:34:29.661 -07:00 [INF] Request finished in 361.535ms 302 
2018-05-03 12:34:29.675 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-03 12:34:29.684 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:29.693 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:29.701 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:34:29.793 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:34:29.805 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:34:29.934 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-03 12:34:29.945 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-03 12:34:29.965 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 261.2328ms
2018-05-03 12:34:29.974 -07:00 [INF] Request finished in 299.6117ms 200 text/html; charset=utf-8
2018-05-03 12:34:34.351 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-03 12:34:34.357 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:34.362 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:34.373 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:34:34.404 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:34:34.413 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:34:34.522 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-03 12:34:34.618 -07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-03 12:34:34.711 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-03 12:34:34.796 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-03 12:34:35.097 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-03 12:34:35.513 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1137.6449ms
2018-05-03 12:34:35.521 -07:00 [INF] Request finished in 1168.7929ms 200 text/html; charset=utf-8
2018-05-03 12:34:39.286 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/UserRoles/Edit application/x-www-form-urlencoded 629
2018-05-03 12:34:39.292 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:39.297 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:39.305 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:34:39.339 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserRolesViewModel","Microsoft.AspNetCore.Http.FormCollection"]) - ModelState is "Valid"
2018-05-03 12:34:39.350 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:34:39.454 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_Username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__id_Username_0
2018-05-03 12:34:39.538 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-03 12:34:39.629 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__User_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[UserId], [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @__User_Id_0
2018-05-03 12:34:39.782 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2018-05-03 12:34:39.838 -07:00 [INF] Executing RedirectResult, redirecting to /UserRoles/Index.
2018-05-03 12:34:39.844 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) in 538.7496ms
2018-05-03 12:34:39.850 -07:00 [INF] Request finished in 564.9127ms 302 
2018-05-03 12:34:39.860 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-03 12:34:39.866 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:39.872 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 12:34:39.878 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 12:34:39.909 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 12:34:39.919 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 12:34:40.018 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-03 12:34:40.132 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-03 12:34:40.219 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-03 12:34:40.301 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-03 12:34:40.308 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-03 12:34:40.316 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 438.2694ms
2018-05-03 12:34:40.323 -07:00 [INF] Request finished in 463.1263ms 200 text/html; charset=utf-8
2018-05-03 13:11:38.253 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 13:11:38.567 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 13:11:40.993 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 13:11:41.646 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 13:11:44.779 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 13:11:45.720 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4242.3776ms
2018-05-03 13:11:45.738 -07:00 [INF] Request finished in 4758.4365ms 200 text/html; charset=utf-8
2018-05-03 13:11:48.760 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 13:11:48.966 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 13:11:49.004 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 13:11:49.707 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 13:11:50.047 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1230.6424ms
2018-05-03 13:11:50.058 -07:00 [INF] Request finished in 1295.9223ms 200 text/html; charset=utf-8
2018-05-03 13:11:51.529 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 13:11:51.654 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 13:11:51.887 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 13:11:52.994 -07:00 [INF] Executed DbCommand (203ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 13:11:53.300 -07:00 [INF] Executed DbCommand (149ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 13:11:53.453 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 13:11:53.584 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 13:11:53.739 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 13:11:53.853 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 13:11:53.971 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 13:11:54.084 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 13:11:54.200 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 13:11:54.313 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 13:11:54.433 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 13:11:54.512 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 13:11:54.522 -07:00 [INF] User logged in.
2018-05-03 13:11:54.533 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 13:11:54.543 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2993.0669000000003ms
2018-05-03 13:11:54.555 -07:00 [INF] Request finished in 3024.8029ms 302 
2018-05-03 13:11:54.569 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 13:11:54.585 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:54.595 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:54.699 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 13:11:54.709 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 13:11:54.730 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 124.4452ms
2018-05-03 13:11:54.740 -07:00 [INF] Request finished in 170.6797ms 200 text/html; charset=utf-8
2018-05-03 13:11:57.214 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 13:11:57.221 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:57.226 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:57.244 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 13:11:57.292 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 13:11:57.304 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 13:11:57.490 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 13:11:57.621 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 13:11:57.958 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 13:11:58.070 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 832.7621ms
2018-05-03 13:11:58.078 -07:00 [INF] Request finished in 863.4035ms 200 text/html; charset=utf-8
2018-05-03 13:11:59.129 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Create  
2018-05-03 13:11:59.135 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:59.140 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:59.148 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 13:11:59.179 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Create (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 13:11:59.188 -07:00 [INF] Executing RedirectResult, redirecting to /Account/Register.
2018-05-03 13:11:59.196 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Create (IdentityServer) in 47.018ms
2018-05-03 13:11:59.204 -07:00 [INF] Request finished in 74.761ms 302 
2018-05-03 13:11:59.214 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-03 13:11:59.223 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:59.231 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 13:11:59.285 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 13:11:59.540 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-03 13:11:59.591 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 349.50390000000004ms
2018-05-03 13:11:59.596 -07:00 [INF] Request finished in 383.4022ms 200 text/html; charset=utf-8
2018-05-03 13:55:13.991 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 13:55:14.063 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 13:55:14.361 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:01:15.845 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 14:01:15.929 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 14:01:16.227 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:02:46.607 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 14:02:46.674 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 14:02:46.972 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:02:47.688 -07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-03 14:02:47.745 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-03 14:02:47.798 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-03 14:02:47.802 -07:00 [INF] Applying migration '20180503210116_AddUserName'.
2018-05-03 14:02:47.976 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'Organization') AND [c].[name] = N'Name');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Organization] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Organization] ALTER COLUMN [Name] nvarchar(450) NOT NULL;
2018-05-03 14:02:48.048 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [FamilyName] nvarchar(max) NOT NULL DEFAULT N'';
2018-05-03 14:02:48.108 -07:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [GivenName] nvarchar(max) NOT NULL DEFAULT N'';
2018-05-03 14:02:48.159 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180503210116_AddUserName', N'2.0.2-rtm-10011');
2018-05-03 14:14:04.634 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 14:14:04.845 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 14:14:06.870 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 14:14:07.262 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:14:10.161 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 14:14:11.088 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3921.4680000000003ms
2018-05-03 14:14:11.103 -07:00 [INF] Request finished in 4237.2431ms 200 text/html; charset=utf-8
2018-05-03 14:14:45.766 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 14:14:46.013 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 14:14:46.047 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 14:14:46.744 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 14:14:47.077 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1184.6136000000001ms
2018-05-03 14:14:47.083 -07:00 [INF] Request finished in 1317.0435ms 200 text/html; charset=utf-8
2018-05-03 14:14:48.246 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 14:14:48.360 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 14:14:48.587 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:14:49.653 -07:00 [INF] Executed DbCommand (180ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 14:14:49.953 -07:00 [INF] Executed DbCommand (141ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 14:14:50.093 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 14:14:50.205 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 14:14:50.376 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 14:14:50.465 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 14:14:50.579 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 14:14:50.768 -07:00 [INF] Executed DbCommand (181ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 14:14:50.862 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 14:14:50.951 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 14:14:51.047 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 14:14:51.105 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 14:14:51.111 -07:00 [INF] User logged in.
2018-05-03 14:14:51.118 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 14:14:51.125 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2854.609ms
2018-05-03 14:14:51.133 -07:00 [INF] Request finished in 2887.7191ms 302 
2018-05-03 14:14:51.142 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 14:14:51.152 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:14:51.158 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:14:51.231 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:14:51.238 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 14:14:51.270 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 104.44170000000001ms
2018-05-03 14:14:51.277 -07:00 [INF] Request finished in 134.0079ms 200 text/html; charset=utf-8
2018-05-03 14:14:52.867 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 14:14:52.874 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:14:52.879 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:14:52.896 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:14:52.927 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:14:52.936 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:14:53.088 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 14:14:53.199 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:14:53.459 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 14:14:53.547 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 656.2344ms
2018-05-03 14:14:53.554 -07:00 [INF] Request finished in 687.5354ms 200 text/html; charset=utf-8
2018-05-03 14:14:57.949 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 14:14:57.955 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:14:57.961 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:14:57.972 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:14:58.002 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 14:14:58.016 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:14:58.169 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 14:14:58.277 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:14:58.734 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:14:59.426 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1453.0903ms
2018-05-03 14:14:59.549 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 33
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-03 14:14:59.837 -07:00 [INF] Request finished in 1888.4559ms 500 text/html; charset=utf-8
2018-05-03 14:15:11.554 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 14:15:11.560 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:11.566 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:11.572 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:15:11.601 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:15:11.609 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:15:11.705 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 14:15:11.793 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:15:11.801 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 14:15:11.828 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 255.4625ms
2018-05-03 14:15:11.834 -07:00 [INF] Request finished in 280.3744ms 200 text/html; charset=utf-8
2018-05-03 14:15:13.653 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 14:15:13.659 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:13.664 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:13.675 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:15:13.705 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 14:15:13.718 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:15:13.820 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 14:15:13.928 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:15:14.201 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-03 14:15:14.249 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 573.8768ms
2018-05-03 14:15:14.256 -07:00 [INF] Request finished in 603.0612ms 200 text/html; charset=utf-8
2018-05-03 14:15:16.434 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 14:15:16.440 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:16.445 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:16.451 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:15:16.481 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:15:16.487 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:15:16.579 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 14:15:16.667 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:15:16.673 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 14:15:16.696 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 244.6054ms
2018-05-03 14:15:16.703 -07:00 [INF] Request finished in 269.3619ms 200 text/html; charset=utf-8
2018-05-03 14:15:18.005 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 14:15:18.011 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:18.017 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:18.022 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:15:18.053 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 14:15:18.060 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:15:18.154 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 14:15:18.242 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:15:18.251 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:15:18.489 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 465.0973ms
2018-05-03 14:15:18.560 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[IdentityServer.Models.Organization]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IList`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<<ExecuteAsync>b__19_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 33
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_ApplicationUsers_Edit_cshtml.<ExecuteAsync>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\ApplicationUsers\Edit.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-03 14:15:18.879 -07:00 [INF] Request finished in 873.1334ms 500 text/html; charset=utf-8
2018-05-03 14:15:53.170 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 14:15:53.180 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:53.189 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:15:53.198 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:15:53.236 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 14:15:53.245 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:15:53.341 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 14:15:53.424 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:15:54.003 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:15:54.141 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 942.4759ms
2018-05-03 14:15:54.150 -07:00 [INF] Request finished in 980.8485ms 200 text/html; charset=utf-8
2018-05-03 14:15:54.246 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-03 14:15:54.263 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-03 14:15:54.291 -07:00 [INF] Request finished in 44.5448ms 200 image/x-icon
2018-05-03 14:16:09.493 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 831
2018-05-03 14:16:09.501 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:09.507 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:09.525 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:16:09.589 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-05-03 14:16:13.444 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:16:13.463 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 3937.4454ms
2018-05-03 14:16:13.473 -07:00 [INF] Request finished in 3978.1709ms 200 text/html; charset=utf-8
2018-05-03 14:16:18.050 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 14:16:18.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:18.063 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:18.069 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:16:18.103 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:16:18.114 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:16:18.216 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 14:16:18.337 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:16:18.351 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 14:16:18.398 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 324.9692ms
2018-05-03 14:16:18.409 -07:00 [INF] Request finished in 358.545ms 200 text/html; charset=utf-8
2018-05-03 14:16:24.988 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 14:16:24.995 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:25.000 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:25.006 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:16:25.037 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 14:16:25.044 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 14:16:25.138 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 14:16:25.237 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 14:16:25.247 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:16:25.263 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 255.1525ms
2018-05-03 14:16:25.274 -07:00 [INF] Request finished in 284.6413ms 200 text/html; charset=utf-8
2018-05-03 14:16:31.405 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 831
2018-05-03 14:16:31.413 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:31.419 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:31.425 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:16:31.463 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-05-03 14:16:31.474 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:16:31.495 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 64.0625ms
2018-05-03 14:16:31.508 -07:00 [INF] Request finished in 99.7923ms 200 text/html; charset=utf-8
2018-05-03 14:16:41.876 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 831
2018-05-03 14:16:41.884 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:41.890 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:16:41.895 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:16:41.929 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-05-03 14:16:52.102 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 14:16:52.112 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 10216.2487ms
2018-05-03 14:16:52.118 -07:00 [INF] Request finished in 10242.9911ms 200 text/html; charset=utf-8
2018-05-03 14:17:04.083 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 831
2018-05-03 14:17:04.090 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:17:04.096 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 14:17:04.102 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 14:17:04.137 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Invalid"
2018-05-03 14:23:57.060 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 14:23:57.346 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 14:23:59.797 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 14:24:00.293 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 14:24:03.153 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 14:24:04.091 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3892.2286000000004ms
2018-05-03 14:24:04.110 -07:00 [INF] Request finished in 4316.4465ms 200 text/html; charset=utf-8
2018-05-03 17:01:56.953 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:01:57.352 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:01:59.957 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:02:00.560 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:02:03.882 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:02:04.761 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4339.6059000000005ms
2018-05-03 17:02:04.772 -07:00 [INF] Request finished in 4833.5635ms 200 text/html; charset=utf-8
2018-05-03 17:02:06.815 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 17:02:06.974 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 17:02:06.997 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 17:02:07.693 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 17:02:08.095 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1221.6178ms
2018-05-03 17:02:08.104 -07:00 [INF] Request finished in 1288.5239ms 200 text/html; charset=utf-8
2018-05-03 17:02:10.024 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 17:02:10.133 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 17:02:10.427 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:02:12.051 -07:00 [INF] Executed DbCommand (243ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:02:12.397 -07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:02:12.543 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:02:12.659 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:02:12.802 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:02:12.914 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:02:13.019 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:02:13.127 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:02:13.231 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:02:13.357 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:02:13.479 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:02:13.542 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 17:02:13.549 -07:00 [INF] User logged in.
2018-05-03 17:02:13.557 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 17:02:13.563 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3515.8344ms
2018-05-03 17:02:13.572 -07:00 [INF] Request finished in 3547.6656ms 302 
2018-05-03 17:02:13.582 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:02:13.602 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:13.615 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:13.697 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:02:13.708 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:02:13.739 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 111.4709ms
2018-05-03 17:02:13.750 -07:00 [INF] Request finished in 165.2519ms 200 text/html; charset=utf-8
2018-05-03 17:02:20.767 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 17:02:20.774 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:20.780 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:20.798 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:02:20.833 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:02:20.844 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:02:21.038 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 17:02:21.171 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:02:21.480 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 17:02:21.570 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 779.12330000000009ms
2018-05-03 17:02:21.578 -07:00 [INF] Request finished in 810.6194ms 200 text/html; charset=utf-8
2018-05-03 17:02:25.719 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 17:02:25.726 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:25.731 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:25.743 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:02:25.778 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 17:02:25.788 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:02:25.924 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 17:02:26.018 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:02:26.594 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 17:02:26.748 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1003.2141ms
2018-05-03 17:02:26.758 -07:00 [INF] Request finished in 1037.7831ms 200 text/html; charset=utf-8
2018-05-03 17:02:33.962 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 831
2018-05-03 17:02:33.968 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:33.973 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:33.991 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:02:34.039 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","jander42@hotmail.com"]) - ModelState is "Valid"
2018-05-03 17:02:36.860 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:02:37.084 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@p17='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?', @p7='?', @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FamilyName] = @p4, [GivenName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RegistrationDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;
2018-05-03 17:02:37.151 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-03 17:02:37.157 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 3169.4402ms
2018-05-03 17:02:37.163 -07:00 [INF] Request finished in 3201.5597ms 302 
2018-05-03 17:02:37.171 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 17:02:37.176 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:37.184 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:02:37.195 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:02:37.285 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:02:37.297 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:02:37.424 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 17:02:37.534 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:02:37.548 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 17:02:37.594 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 399.0262ms
2018-05-03 17:02:37.605 -07:00 [INF] Request finished in 430.7271ms 200 text/html; charset=utf-8
2018-05-03 17:03:02.493 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-03 17:03:02.498 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:03:02.503 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:03:02.509 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:03:02.542 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-03 17:03:02.551 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:03:02.677 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 17:03:02.833 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:03:02.847 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 17:03:02.866 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 354.5742ms
2018-05-03 17:03:02.877 -07:00 [INF] Request finished in 382.7598ms 200 text/html; charset=utf-8
2018-05-03 17:03:09.697 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 853
2018-05-03 17:03:09.703 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:03:09.707 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:03:09.712 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:03:09.743 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9","james.r.anderson@utah.edu"]) - ModelState is "Valid"
2018-05-03 17:03:11.420 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:03:11.592 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@p17='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?', @p7='?', @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FamilyName] = @p4, [GivenName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RegistrationDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;
2018-05-03 17:03:11.655 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-03 17:03:11.662 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 1949.0016ms
2018-05-03 17:03:11.668 -07:00 [INF] Request finished in 1971.661ms 302 
2018-05-03 17:03:11.675 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 17:03:11.680 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:03:11.684 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:03:11.690 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 17:03:11.760 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:03:11.770 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:03:11.893 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 17:03:11.997 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:03:12.006 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 17:03:12.031 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 338.865ms
2018-05-03 17:03:12.039 -07:00 [INF] Request finished in 361.9082ms 200 text/html; charset=utf-8
2018-05-03 17:18:33.773 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:18:34.053 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:18:36.537 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:18:37.017 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:18:39.991 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:18:40.906 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4016.0080000000003ms
2018-05-03 17:18:40.918 -07:00 [INF] Request finished in 4388.1178ms 200 text/html; charset=utf-8
2018-05-03 17:18:42.646 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 17:18:42.801 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 17:18:42.843 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 17:18:43.605 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 17:18:43.939 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1245.8007ms
2018-05-03 17:18:43.946 -07:00 [INF] Request finished in 1300.0965ms 200 text/html; charset=utf-8
2018-05-03 17:18:49.384 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 17:18:49.484 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 17:18:49.707 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:18:50.813 -07:00 [INF] Executed DbCommand (172ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:18:51.084 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:18:51.235 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:18:51.393 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:18:51.561 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:18:51.684 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:18:51.810 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:18:51.934 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:18:52.058 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:18:52.177 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:18:52.317 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:18:52.402 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 17:18:52.411 -07:00 [INF] User logged in.
2018-05-03 17:18:52.421 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 17:18:52.430 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3025.0125000000003ms
2018-05-03 17:18:52.441 -07:00 [INF] Request finished in 3055.1761ms 302 
2018-05-03 17:18:52.455 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:18:52.467 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:18:52.476 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:18:52.581 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:18:52.592 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:18:52.625 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 137.1157ms
2018-05-03 17:18:52.634 -07:00 [INF] Request finished in 179.072ms 200 text/html; charset=utf-8
2018-05-03 17:19:00.163 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:19:00.212 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:19:00.350 -07:00 [INF] Request finished in 187.1195ms 200 application/json; charset=UTF-8
2018-05-03 17:19:00.482 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:19:00.525 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:19:00.649 -07:00 [INF] Request finished in 169.6663ms 200 application/json; charset=UTF-8
2018-05-03 17:19:02.265 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 107
2018-05-03 17:19:02.318 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:19:02.564 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:19:02.686 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:19:02.726 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 17:19:02.768 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid"
  }
}
2018-05-03 17:19:02.970 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:19:03.086 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:19:03.209 -07:00 [INF] Request finished in 946.3604ms 200 application/json; charset=UTF-8
2018-05-03 17:19:06.657 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 17:19:06.694 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 17:19:06.850 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:19:06.988 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:19:07.228 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:19:07.358 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:19:07.372 -07:00 [INF] Profile service returned to the following claim types: sub
2018-05-03 17:19:07.402 -07:00 [INF] Request finished in 745.6511ms 200 application/json; charset=UTF-8
2018-05-03 17:19:13.357 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 918
2018-05-03 17:19:13.396 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 17:19:13.533 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:19:13.649 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:19:13.718 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 17:19:13.729 -07:00 [INF] Request finished in 374.116ms 200 application/json; charset=UTF-8
2018-05-03 17:34:31.570 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:34:31.775 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:34:33.673 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:34:34.061 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:34:36.999 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:34:37.868 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3903.8802ms
2018-05-03 17:34:37.883 -07:00 [INF] Request finished in 4214.2384ms 200 text/html; charset=utf-8
2018-05-03 17:34:51.055 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:34:51.098 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:34:51.227 -07:00 [INF] Request finished in 173.6413ms 200 application/json; charset=UTF-8
2018-05-03 17:34:51.338 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:34:51.353 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:34:51.409 -07:00 [INF] Request finished in 71.6581ms 200 application/json; charset=UTF-8
2018-05-03 17:34:51.624 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:34:51.676 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:34:51.905 -07:00 [ERR] Requested scope not allowed: Organization
2018-05-03 17:34:51.925 -07:00 [ERR] {
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:34:51.938 -07:00 [INF] Request finished in 318.7618ms 400 application/json; charset=UTF-8
2018-05-03 17:35:35.872 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:35:35.890 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:35:35.902 -07:00 [INF] Request finished in 29.7798ms 200 application/json; charset=UTF-8
2018-05-03 17:35:36.043 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:35:36.062 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:35:36.074 -07:00 [INF] Request finished in 32.1332ms 200 application/json; charset=UTF-8
2018-05-03 17:35:36.306 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:35:36.333 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:35:36.403 -07:00 [ERR] Requested scope not allowed: Organization
2018-05-03 17:35:36.407 -07:00 [ERR] {
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:35:36.412 -07:00 [INF] Request finished in 107.5515ms 400 application/json; charset=UTF-8
2018-05-03 17:38:30.408 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:38:30.627 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:38:32.991 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:38:33.538 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:38:36.531 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:38:37.404 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3995.1577ms
2018-05-03 17:38:37.415 -07:00 [INF] Request finished in 4435.4699ms 200 text/html; charset=utf-8
2018-05-03 17:39:16.906 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:39:17.019 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:39:17.148 -07:00 [INF] Request finished in 241.4205ms 200 application/json; charset=UTF-8
2018-05-03 17:39:17.249 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:39:17.283 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:39:17.396 -07:00 [INF] Request finished in 148.5208ms 200 application/json; charset=UTF-8
2018-05-03 17:39:17.575 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:39:17.603 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:39:18.025 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:39:19.121 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:39:19.210 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 17:39:19.283 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Organization Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:39:19.543 -07:00 [INF] Executed DbCommand (144ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:39:19.688 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:39:19.816 -07:00 [INF] Request finished in 2241.5509ms 200 application/json; charset=UTF-8
2018-05-03 17:39:19.866 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 17:39:19.887 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 17:39:19.999 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:39:20.111 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:39:20.337 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:39:20.451 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:39:20.458 -07:00 [INF] Profile service returned to the following claim types: sub Organization
2018-05-03 17:39:20.473 -07:00 [INF] Request finished in 609.4164ms 200 application/json; charset=UTF-8
2018-05-03 17:39:20.485 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 938
2018-05-03 17:39:20.505 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 17:39:20.594 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:39:20.682 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:39:20.723 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 17:39:20.730 -07:00 [INF] Request finished in 245.7151ms 200 application/json; charset=UTF-8
2018-05-03 17:40:28.762 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:40:28.799 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:40:28.813 -07:00 [INF] Request finished in 53.1998ms 200 application/json; charset=UTF-8
2018-05-03 17:40:28.923 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:40:28.948 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:40:28.965 -07:00 [INF] Request finished in 43.5304ms 200 application/json; charset=UTF-8
2018-05-03 17:40:29.148 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:40:29.164 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:40:29.264 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:40:29.455 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:40:29.490 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 17:40:29.510 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Organization Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:40:29.659 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:40:29.775 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:40:29.800 -07:00 [INF] Request finished in 650.2258ms 200 application/json; charset=UTF-8
2018-05-03 17:40:29.861 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 17:40:29.880 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 17:40:29.901 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:40:30.005 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:40:30.153 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:40:30.251 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:40:30.258 -07:00 [INF] Profile service returned to the following claim types: sub Organization
2018-05-03 17:40:30.273 -07:00 [INF] Request finished in 411.5253ms 200 application/json; charset=UTF-8
2018-05-03 17:40:30.298 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 938
2018-05-03 17:40:30.323 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 17:40:30.380 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:40:30.467 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:40:30.497 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 17:40:30.503 -07:00 [INF] Request finished in 207.9037ms 200 application/json; charset=UTF-8
2018-05-03 17:40:49.880 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 17:40:50.031 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 17:40:50.071 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 17:40:50.759 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 17:40:51.076 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1157.6201ms
2018-05-03 17:40:51.082 -07:00 [INF] Request finished in 1202.0145ms 200 text/html; charset=utf-8
2018-05-03 17:40:52.443 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 17:40:52.539 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 17:40:52.562 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:40:52.691 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:40:52.870 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:40:52.982 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:40:53.133 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:40:53.273 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:40:53.403 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:40:53.530 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:40:53.652 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:40:53.778 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:40:53.905 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:40:54.045 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:40:54.105 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 17:40:54.112 -07:00 [INF] User logged in.
2018-05-03 17:40:54.120 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 17:40:54.127 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1663.2471ms
2018-05-03 17:40:54.134 -07:00 [INF] Request finished in 1692.1502ms 302 
2018-05-03 17:40:54.145 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:40:54.156 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:40:54.163 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:40:54.243 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:40:54.256 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:40:54.294 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 119.8383ms
2018-05-03 17:40:54.307 -07:00 [INF] Request finished in 159.5922ms 200 text/html; charset=utf-8
2018-05-03 17:40:55.544 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-03 17:40:55.551 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:40:55.557 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:40:55.598 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:40:55.611 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:40:55.790 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-03 17:40:55.977 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:40:56.315 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-03 17:40:56.375 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 804.54230000000007ms
2018-05-03 17:40:56.384 -07:00 [INF] Request finished in 838.2678ms 200 text/html; charset=utf-8
2018-05-03 17:43:15.920 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:43:16.194 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:43:18.286 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:43:18.753 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:43:21.615 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:43:22.532 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3891.3518000000004ms
2018-05-03 17:43:22.553 -07:00 [INF] Request finished in 4271.126ms 200 text/html; charset=utf-8
2018-05-03 17:43:24.447 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 17:43:24.607 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 17:43:24.629 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 17:43:25.297 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 17:43:25.626 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1121.4542000000001ms
2018-05-03 17:43:25.634 -07:00 [INF] Request finished in 1185.3588ms 200 text/html; charset=utf-8
2018-05-03 17:43:26.713 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 17:43:26.819 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 17:43:27.065 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:43:28.262 -07:00 [INF] Executed DbCommand (214ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:43:28.578 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:43:28.741 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:43:28.871 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:43:29.025 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:43:29.141 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:43:29.262 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:43:29.378 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:43:29.497 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:43:29.611 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 17:43:29.733 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 17:43:29.825 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 17:43:29.837 -07:00 [INF] User logged in.
2018-05-03 17:43:29.847 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 17:43:29.854 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3118.5824000000002ms
2018-05-03 17:43:29.864 -07:00 [INF] Request finished in 3150.791ms 302 
2018-05-03 17:43:29.875 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:43:29.888 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:43:29.894 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:43:29.971 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:43:29.978 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:43:29.996 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 93.4003ms
2018-05-03 17:43:30.003 -07:00 [INF] Request finished in 127.6244ms 200 text/html; charset=utf-8
2018-05-03 17:43:32.519 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-03 17:43:32.525 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:43:32.531 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:43:32.575 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:43:32.594 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:43:32.751 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-03 17:43:32.908 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:43:33.277 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-03 17:43:33.327 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 781.54820000000007ms
2018-05-03 17:43:33.337 -07:00 [INF] Request finished in 817.4551ms 200 text/html; charset=utf-8
2018-05-03 17:43:36.975 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-03 17:43:36.980 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:43:36.985 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 17:43:37.019 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-03 17:43:37.028 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:43:37.183 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 17:43:37.310 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[FamilyName], [o.User].[GivenName], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 17:43:37.622 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-03 17:43:37.654 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 656.0846ms
2018-05-03 17:43:37.662 -07:00 [INF] Request finished in 686.5635ms 200 text/html; charset=utf-8
2018-05-03 17:44:26.590 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:44:26.624 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:44:26.759 -07:00 [INF] Request finished in 169.4264ms 200 application/json; charset=UTF-8
2018-05-03 17:44:26.846 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:44:26.875 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:44:26.984 -07:00 [INF] Request finished in 139.2872ms 200 application/json; charset=UTF-8
2018-05-03 17:44:27.169 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:44:27.214 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:44:27.539 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:44:27.655 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:44:27.674 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 17:44:27.714 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Organization Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:44:27.880 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:44:27.990 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:44:28.124 -07:00 [INF] Request finished in 955.8642ms 200 application/json; charset=UTF-8
2018-05-03 17:44:28.163 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 17:44:28.182 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 17:44:28.322 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:44:28.461 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:44:28.638 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:44:28.732 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:44:28.740 -07:00 [INF] Profile service returned to the following claim types: sub Organization
2018-05-03 17:44:28.754 -07:00 [INF] Request finished in 591.9ms 200 application/json; charset=UTF-8
2018-05-03 17:44:28.766 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 938
2018-05-03 17:44:28.785 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 17:44:28.863 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:44:28.957 -07:00 [INF] Executed DbCommand (74ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:44:29.001 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 17:44:29.008 -07:00 [INF] Request finished in 241.9876ms 200 application/json; charset=UTF-8
2018-05-03 17:52:34.921 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:52:35.173 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:52:37.337 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:52:37.841 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:52:40.914 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:52:41.812 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4104.1172000000006ms
2018-05-03 17:52:41.825 -07:00 [INF] Request finished in 4495.6904ms 200 text/html; charset=utf-8
2018-05-03 17:52:47.171 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:52:47.217 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:52:47.365 -07:00 [INF] Request finished in 193.0041ms 200 application/json; charset=UTF-8
2018-05-03 17:52:47.440 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:52:47.473 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:52:47.565 -07:00 [INF] Request finished in 126.1118ms 200 application/json; charset=UTF-8
2018-05-03 17:52:47.724 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:52:51.006 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:52:51.495 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:52:52.667 -07:00 [INF] Executed DbCommand (213ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:52:52.774 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 17:52:52.817 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Organization Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:52:57.039 -07:00 [INF] Executed DbCommand (148ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:52:57.228 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:52:57.404 -07:00 [INF] Request finished in 9680.5608ms 200 application/json; charset=UTF-8
2018-05-03 17:52:57.442 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 17:52:57.477 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 17:52:57.596 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:52:57.750 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:53:24.505 -07:00 [INF] Executed DbCommand (200ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:53:24.606 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:53:40.253 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId], [oa.Organization].[Id], [oa.Organization].[Name]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
WHERE [oa].[UserId] = @__user_Id_0
2018-05-03 17:53:45.596 -07:00 [INF] Profile service returned to the following claim types: 
2018-05-03 17:53:45.622 -07:00 [INF] Request finished in 48180.7982ms 200 application/json; charset=UTF-8
2018-05-03 17:53:52.952 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 892
2018-05-03 17:53:52.982 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 17:53:53.075 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:53:53.166 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:53:53.225 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 17:53:53.236 -07:00 [INF] Request finished in 284.5689ms 200 application/json; charset=UTF-8
2018-05-03 17:55:04.217 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:55:04.562 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:55:06.546 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:55:07.038 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:55:09.924 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:55:10.798 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3893.6681000000003ms
2018-05-03 17:55:10.812 -07:00 [INF] Request finished in 4271.9139ms 200 text/html; charset=utf-8
2018-05-03 17:55:14.146 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:55:14.174 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:55:14.357 -07:00 [INF] Request finished in 208.1798ms 200 application/json; charset=UTF-8
2018-05-03 17:55:14.451 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:55:14.475 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:55:14.540 -07:00 [INF] Request finished in 91.944ms 200 application/json; charset=UTF-8
2018-05-03 17:55:14.697 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:55:14.724 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:55:15.206 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:55:16.311 -07:00 [INF] Executed DbCommand (187ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 17:55:16.409 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 17:55:16.458 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Organization Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:55:16.749 -07:00 [INF] Executed DbCommand (176ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:55:16.937 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:55:17.110 -07:00 [INF] Request finished in 2411.5523ms 200 application/json; charset=UTF-8
2018-05-03 17:55:17.160 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 17:55:17.186 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 17:55:17.329 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:55:17.470 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:55:17.699 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 17:55:17.823 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 17:55:18.013 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId], [oa.Organization].[Id], [oa.Organization].[Name]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
WHERE [oa].[UserId] = @__user_Id_0
2018-05-03 17:55:18.071 -07:00 [INF] Profile service returned to the following claim types: sub Organization Organization
2018-05-03 17:55:18.096 -07:00 [INF] Request finished in 935.5415ms 200 application/json; charset=UTF-8
2018-05-03 17:55:18.116 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 938
2018-05-03 17:55:18.152 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 17:55:18.273 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 17:55:18.382 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 17:55:18.442 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 17:55:18.451 -07:00 [INF] Request finished in 334.7192ms 200 application/json; charset=UTF-8
2018-05-03 17:56:41.948 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:56:42.258 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:56:44.239 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:56:44.751 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:56:47.715 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:56:48.552 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3937.0505000000003ms
2018-05-03 17:56:48.564 -07:00 [INF] Request finished in 4332.2406ms 200 text/html; charset=utf-8
2018-05-03 17:56:52.519 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:56:52.613 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:56:52.743 -07:00 [INF] Request finished in 222.6446ms 200 application/json; charset=UTF-8
2018-05-03 17:56:52.818 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:56:52.850 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:56:52.951 -07:00 [INF] Request finished in 131.636ms 200 application/json; charset=UTF-8
2018-05-03 17:56:53.125 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:56:53.153 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:56:53.410 -07:00 [ERR] Requested scope not allowed: Organization
2018-05-03 17:56:53.433 -07:00 [ERR] {
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:56:53.448 -07:00 [INF] Request finished in 324.1652ms 400 application/json; charset=UTF-8
2018-05-03 17:57:50.453 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 17:57:50.754 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 17:57:53.038 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 17:57:53.573 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 17:57:55.866 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:57:56.050 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:57:56.221 -07:00 [INF] Request finished in 351.6741ms 200 application/json; charset=UTF-8
2018-05-03 17:57:56.302 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:57:56.332 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:57:56.424 -07:00 [INF] Request finished in 124.2339ms 200 application/json; charset=UTF-8
2018-05-03 17:57:56.585 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:57:56.616 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:57:56.804 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 17:57:56.913 -07:00 [ERR] Requested scope not allowed: Organization
2018-05-03 17:57:56.936 -07:00 [ERR] {
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:57:56.952 -07:00 [INF] Request finished in 367.223ms 400 application/json; charset=UTF-8
2018-05-03 17:57:57.611 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4164.6720000000005ms
2018-05-03 17:57:57.621 -07:00 [INF] Request finished in 4589.4738ms 200 text/html; charset=utf-8
2018-05-03 17:58:00.435 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:58:00.457 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:58:00.472 -07:00 [INF] Request finished in 37.3128ms 200 application/json; charset=UTF-8
2018-05-03 17:58:00.555 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:58:00.584 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:58:00.606 -07:00 [INF] Request finished in 48.7271ms 200 application/json; charset=UTF-8
2018-05-03 17:58:00.790 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:58:00.811 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:58:00.893 -07:00 [ERR] Requested scope not allowed: Organization
2018-05-03 17:58:00.898 -07:00 [ERR] {
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:58:00.906 -07:00 [INF] Request finished in 115.7013ms 400 application/json; charset=UTF-8
2018-05-03 17:58:23.359 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 17:58:23.378 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 17:58:23.391 -07:00 [INF] Request finished in 33.9216ms 200 application/json; charset=UTF-8
2018-05-03 17:58:23.479 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 17:58:23.497 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 17:58:23.510 -07:00 [INF] Request finished in 29.8229ms 200 application/json; charset=UTF-8
2018-05-03 17:58:23.683 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 120
2018-05-03 17:58:23.699 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 17:58:23.842 -07:00 [ERR] Requested scope not allowed: Organization
2018-05-03 17:58:23.850 -07:00 [ERR] {
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid Organization"
  }
}
2018-05-03 17:58:23.862 -07:00 [INF] Request finished in 177.2221ms 400 application/json; charset=UTF-8
2018-05-03 18:00:00.112 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 18:00:00.444 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 18:00:02.796 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 18:00:03.301 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:00:06.196 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 18:00:07.173 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4007.9964ms
2018-05-03 18:00:07.184 -07:00 [INF] Request finished in 4403.8708ms 200 text/html; charset=utf-8
2018-05-03 18:00:12.920 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 18:00:12.959 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 18:00:13.115 -07:00 [INF] Request finished in 196.0118ms 200 application/json; charset=UTF-8
2018-05-03 18:00:13.191 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 18:00:13.227 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 18:00:13.329 -07:00 [INF] Request finished in 138.2337ms 200 application/json; charset=UTF-8
2018-05-03 18:00:13.511 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 107
2018-05-03 18:00:13.560 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 18:00:14.044 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:00:15.295 -07:00 [INF] Executed DbCommand (226ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 18:00:15.420 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 18:00:15.466 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid"
  }
}
2018-05-03 18:00:15.767 -07:00 [INF] Executed DbCommand (171ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:00:15.937 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:00:16.111 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId], [oa.Organization].[Id], [oa.Organization].[Name]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
WHERE [oa].[UserId] = @__user_Id_0
2018-05-03 18:00:16.280 -07:00 [INF] Request finished in 2769.7366ms 200 application/json; charset=UTF-8
2018-05-03 18:00:16.320 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 18:00:16.359 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 18:00:16.493 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:00:16.632 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:00:16.865 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:00:16.964 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:00:16.972 -07:00 [INF] Profile service returned to the following claim types: sub
2018-05-03 18:00:16.985 -07:00 [INF] Request finished in 669.1741ms 200 application/json; charset=UTF-8
2018-05-03 18:00:16.996 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 1000
2018-05-03 18:00:17.012 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 18:00:17.090 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:00:17.186 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:00:17.256 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 18:00:17.270 -07:00 [INF] Request finished in 271.7092ms 200 application/json; charset=UTF-8
2018-05-03 18:08:06.047 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 18:08:06.269 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 18:08:08.756 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 18:08:09.276 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:08:12.527 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 18:08:13.309 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 18:08:13.436 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 18:08:13.534 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4364.7382ms
2018-05-03 18:08:13.548 -07:00 [INF] Request finished in 4809.3796ms 200 text/html; charset=utf-8
2018-05-03 18:08:13.644 -07:00 [INF] Request finished in 336.1446ms 200 application/json; charset=UTF-8
2018-05-03 18:08:13.722 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 18:08:13.747 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 18:08:13.815 -07:00 [INF] Request finished in 90.8651ms 200 application/json; charset=UTF-8
2018-05-03 18:08:13.977 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 107
2018-05-03 18:08:14.011 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 18:08:14.492 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:08:15.680 -07:00 [INF] Executed DbCommand (217ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 18:08:15.788 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 18:08:15.833 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid"
  }
}
2018-05-03 18:08:16.101 -07:00 [INF] Executed DbCommand (155ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:08:16.295 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:08:16.463 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId], [oa.Organization].[Id], [oa.Organization].[Name]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
WHERE [oa].[UserId] = @__user_Id_0
2018-05-03 18:08:16.669 -07:00 [INF] Request finished in 2692.1558ms 200 application/json; charset=UTF-8
2018-05-03 18:08:16.701 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 18:08:16.734 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 18:08:16.875 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:08:17.001 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:08:17.187 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:08:17.313 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:08:17.328 -07:00 [INF] Profile service returned to the following claim types: sub
2018-05-03 18:08:17.364 -07:00 [INF] Request finished in 662.766ms 200 application/json; charset=UTF-8
2018-05-03 18:08:17.376 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 980
2018-05-03 18:08:17.407 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 18:08:17.528 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:08:17.620 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:08:17.670 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 18:08:17.680 -07:00 [INF] Request finished in 303.3481ms 200 application/json; charset=UTF-8
2018-05-03 18:09:35.293 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 18:09:35.503 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 18:09:37.329 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 18:09:37.809 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:09:40.663 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 18:09:41.524 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3813.0887000000002ms
2018-05-03 18:09:41.536 -07:00 [INF] Request finished in 4216.3566ms 200 text/html; charset=utf-8
2018-05-03 18:09:45.722 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 18:09:45.750 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 18:09:45.879 -07:00 [INF] Request finished in 155.8923ms 200 application/json; charset=UTF-8
2018-05-03 18:09:45.978 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 18:09:45.997 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 18:09:46.060 -07:00 [INF] Request finished in 82.6946ms 200 application/json; charset=UTF-8
2018-05-03 18:09:46.256 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 107
2018-05-03 18:09:46.293 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 18:09:46.776 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:09:47.904 -07:00 [INF] Executed DbCommand (174ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 18:09:47.992 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 18:09:48.034 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid"
  }
}
2018-05-03 18:09:48.295 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:09:48.480 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:09:48.631 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId], [oa.Organization].[Id], [oa.Organization].[Name]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
WHERE [oa].[UserId] = @__user_Id_0
2018-05-03 18:09:48.799 -07:00 [INF] Request finished in 2545.6093ms 200 application/json; charset=UTF-8
2018-05-03 18:09:48.849 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 18:09:48.870 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 18:09:48.982 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:09:49.105 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:09:49.305 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:09:49.400 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:09:49.408 -07:00 [INF] Profile service returned to the following claim types: sub
2018-05-03 18:09:49.423 -07:00 [INF] Request finished in 573.8712ms 200 application/json; charset=UTF-8
2018-05-03 18:09:49.444 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 980
2018-05-03 18:09:49.463 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 18:09:49.561 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:09:49.652 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:09:49.706 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 18:09:49.714 -07:00 [INF] Request finished in 270.5915ms 200 application/json; charset=UTF-8
2018-05-03 18:11:24.731 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-03 18:11:25.062 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-03 18:11:27.348 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 18:11:27.880 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:11:30.293 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration  
2018-05-03 18:11:30.512 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-05-03 18:11:30.665 -07:00 [INF] Request finished in 371.1309ms 200 application/json; charset=UTF-8
2018-05-03 18:11:30.743 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks  
2018-05-03 18:11:30.786 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-05-03 18:11:30.873 -07:00 [INF] Request finished in 130.9682ms 200 application/json; charset=UTF-8
2018-05-03 18:11:30.985 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 18:11:31.031 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/token application/x-www-form-urlencoded 107
2018-05-03 18:11:31.060 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-05-03 18:11:31.606 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:11:31.929 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4188.5271ms
2018-05-03 18:11:31.937 -07:00 [INF] Request finished in 4610.5153ms 200 text/html; charset=utf-8
2018-05-03 18:11:32.776 -07:00 [INF] Executed DbCommand (209ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 18:11:32.906 -07:00 [INF] Credentials validated for username: james.r.anderson@utah.edu
2018-05-03 18:11:32.945 -07:00 [INF] Token request validation success
{
  "ClientId": "ro.viking",
  "GrantType": "password",
  "Scopes": "openid Viking.Annotation",
  "UserName": "james.r.anderson@utah.edu",
  "Raw": {
    "grant_type": "password",
    "username": "james.r.anderson@utah.edu",
    "password": "***REDACTED***",
    "scope": "Viking.Annotation openid"
  }
}
2018-05-03 18:11:33.201 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:11:33.396 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:11:33.598 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [oa].[OrganizationId], [oa].[UserId], [oa.Organization].[Id], [oa.Organization].[Name]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
WHERE [oa].[UserId] = @__user_Id_0
2018-05-03 18:11:33.789 -07:00 [INF] Request finished in 2757.4646ms 200 application/json; charset=UTF-8
2018-05-03 18:11:33.824 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo  
2018-05-03 18:11:33.841 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-05-03 18:11:33.942 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:11:34.058 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:11:34.235 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:11:34.357 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:11:34.370 -07:00 [INF] Profile service returned to the following claim types: sub
2018-05-03 18:11:34.400 -07:00 [INF] Request finished in 573.5342ms 200 application/json; charset=UTF-8
2018-05-03 18:11:34.418 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/connect/introspect application/x-www-form-urlencoded 980
2018-05-03 18:11:34.453 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-05-03 18:11:34.586 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:11:34.721 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-03 18:11:34.799 -07:00 [INF] Success token introspection. Token active: true, for API name: Viking.Annotation
2018-05-03 18:11:34.812 -07:00 [INF] Request finished in 393.9ms 200 application/json; charset=UTF-8
2018-05-03 18:55:24.100 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-03 18:55:24.274 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-03 18:55:24.321 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-03 18:55:25.098 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-03 18:55:25.522 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1369.6048ms
2018-05-03 18:55:25.534 -07:00 [INF] Request finished in 1493.1351ms 200 text/html; charset=utf-8
2018-05-03 18:55:26.687 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-03 18:55:26.793 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-03 18:55:26.817 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:27.521 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-03 18:55:27.697 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-03 18:55:27.819 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-03 18:55:27.973 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 18:55:28.146 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 18:55:28.267 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 18:55:28.391 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 18:55:28.508 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 18:55:28.631 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 18:55:28.749 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-03 18:55:28.872 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-03 18:55:28.982 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-03 18:55:28.993 -07:00 [INF] User logged in.
2018-05-03 18:55:29.004 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-03 18:55:29.016 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2306.4431ms
2018-05-03 18:55:29.029 -07:00 [INF] Request finished in 2340.6458ms 302 
2018-05-03 18:55:29.046 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-03 18:55:29.069 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:29.081 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:29.180 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:55:29.195 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-03 18:55:29.227 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 132.19050000000001ms
2018-05-03 18:55:29.240 -07:00 [INF] Request finished in 193.656ms 200 text/html; charset=utf-8
2018-05-03 18:55:33.981 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-03 18:55:33.988 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:33.994 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:34.037 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:55:34.045 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:34.210 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-03 18:55:34.363 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:34.631 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-03 18:55:34.674 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 666.945ms
2018-05-03 18:55:34.682 -07:00 [INF] Request finished in 700.7617ms 200 text/html; charset=utf-8
2018-05-03 18:55:36.749 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 18:55:36.756 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:36.761 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:36.780 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:55:36.841 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:55:36.857 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:37.012 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 18:55:37.136 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:37.457 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 18:55:37.552 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 775.6429ms
2018-05-03 18:55:37.568 -07:00 [INF] Request finished in 815.3036ms 200 text/html; charset=utf-8
2018-05-03 18:55:38.092 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-03 18:55:38.098 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:38.104 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:38.136 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:55:38.142 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:38.237 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-03 18:55:38.352 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:38.367 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-03 18:55:38.388 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 273.0335ms
2018-05-03 18:55:38.400 -07:00 [INF] Request finished in 305.2155ms 200 text/html; charset=utf-8
2018-05-03 18:55:39.456 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Details/1  
2018-05-03 18:55:39.462 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:39.468 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:39.540 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-03 18:55:39.558 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:39.734 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 18:55:39.866 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.User].[Id], [o.User].[AccessFailedCount], [o.User].[ConcurrencyStamp], [o.User].[Email], [o.User].[EmailConfirmed], [o.User].[FamilyName], [o.User].[GivenName], [o.User].[LockoutEnabled], [o.User].[LockoutEnd], [o.User].[NormalizedEmail], [o.User].[NormalizedUserName], [o.User].[PasswordHash], [o.User].[PhoneNumber], [o.User].[PhoneNumberConfirmed], [o.User].[RegistrationDate], [o.User].[SecurityStamp], [o.User].[TwoFactorEnabled], [o.User].[UserName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [AspNetUsers] AS [o.User] ON [m.OrganizationAssignments].[UserId] = [o.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:40.179 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Details.cshtml.
2018-05-03 18:55:40.208 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Details (IdentityServer) in 721.10620000000006ms
2018-05-03 18:55:40.221 -07:00 [INF] Request finished in 763.5931ms 200 text/html; charset=utf-8
2018-05-03 18:55:41.685 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-03 18:55:41.692 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:41.697 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:41.736 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-03 18:55:41.752 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:41.772 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-03 18:55:41.938 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-03 18:55:42.045 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-03 18:55:42.256 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-03 18:55:42.516 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 804.489ms
2018-05-03 18:55:42.525 -07:00 [INF] Request finished in 839.0143ms 200 text/html; charset=utf-8
2018-05-03 18:55:45.748 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 18:55:45.755 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:45.760 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:45.766 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:55:45.798 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:55:45.805 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:45.906 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 18:55:45.994 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:46.009 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 18:55:46.035 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 267.5064ms
2018-05-03 18:55:46.043 -07:00 [INF] Request finished in 294.3149ms 200 text/html; charset=utf-8
2018-05-03 18:55:52.976 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 18:55:52.982 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:52.987 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:52.999 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:55:53.048 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 18:55:53.065 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:53.228 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 18:55:53.357 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:53.612 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-03 18:55:53.658 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 658.738ms
2018-05-03 18:55:53.666 -07:00 [INF] Request finished in 690.9881ms 200 text/html; charset=utf-8
2018-05-03 18:55:54.870 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 18:55:54.876 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:54.881 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:54.896 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:55:54.962 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-03 18:55:54.975 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:55.092 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 18:55:55.196 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:55.209 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-03 18:55:55.226 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-03 18:55:55.239 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-03 18:55:55.249 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-03 18:55:55.261 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-03 18:55:55.420 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-03 18:55:55.752 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-03 18:55:56.093 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1194.8853000000001ms
2018-05-03 18:55:56.103 -07:00 [INF] Request finished in 1232.732ms 200 text/html; charset=utf-8
2018-05-03 18:55:59.445 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 18:55:59.452 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:59.457 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:55:59.463 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:55:59.495 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:55:59.503 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:55:59.602 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 18:55:59.718 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:55:59.727 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 18:55:59.765 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 299.7901ms
2018-05-03 18:55:59.773 -07:00 [INF] Request finished in 328.9459ms 200 text/html; charset=utf-8
2018-05-03 18:56:03.085 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-03 18:56:03.092 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:56:03.097 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:56:03.108 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:56:03.159 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-03 18:56:03.177 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:56:03.295 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-03 18:56:03.419 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:56:03.875 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-03 18:56:03.996 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 884.36970000000008ms
2018-05-03 18:56:04.005 -07:00 [INF] Request finished in 918.6629ms 200 text/html; charset=utf-8
2018-05-03 18:56:07.405 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-03 18:56:07.412 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:56:07.417 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-03 18:56:07.423 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-03 18:56:07.473 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-03 18:56:07.485 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-03 18:56:07.610 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-03 18:56:07.723 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-03 18:56:07.736 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-03 18:56:07.779 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 352.88100000000003ms
2018-05-03 18:56:07.789 -07:00 [INF] Request finished in 383.5708ms 200 text/html; charset=utf-8
2018-05-04 11:14:04.095 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-04 11:14:04.192 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-04 11:14:04.604 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:14:47.775 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-04 11:14:47.850 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-04 11:14:48.155 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:14:49.039 -07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-04 11:14:49.096 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-04 11:14:49.150 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-04 11:14:49.155 -07:00 [INF] Applying migration '20180504181404_AddOrgShortName'.
2018-05-04 11:14:49.284 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Organization] ADD [ShortName] nvarchar(64) NOT NULL DEFAULT N'';
2018-05-04 11:14:49.334 -07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180504181404_AddOrgShortName', N'2.0.2-rtm-10011');
2018-05-04 11:15:04.833 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-04 11:15:05.189 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-04 11:15:08.029 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-04 11:15:08.694 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:15:12.438 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-04 11:15:13.424 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4909.2266ms
2018-05-04 11:15:13.445 -07:00 [INF] Request finished in 5419.2759ms 200 text/html; charset=utf-8
2018-05-04 11:15:15.363 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-04 11:15:15.527 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-04 11:15:15.568 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-04 11:15:16.285 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-04 11:15:16.664 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1238.6909ms
2018-05-04 11:15:16.674 -07:00 [INF] Request finished in 1306.8851ms 200 text/html; charset=utf-8
2018-05-04 11:15:17.968 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-04 11:15:18.079 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-04 11:15:18.330 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:15:19.595 -07:00 [INF] Executed DbCommand (243ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-04 11:15:19.987 -07:00 [INF] Executed DbCommand (155ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-04 11:15:20.180 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-04 11:15:20.336 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:15:20.508 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:15:20.628 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:15:20.755 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:15:20.869 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:15:20.989 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:15:21.106 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:15:21.227 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:15:21.311 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-04 11:15:21.323 -07:00 [INF] User logged in.
2018-05-04 11:15:21.335 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-04 11:15:21.345 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3347.7132ms
2018-05-04 11:15:21.359 -07:00 [INF] Request finished in 3407.1418ms 302 
2018-05-04 11:15:21.375 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-04 11:15:21.394 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:21.406 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:21.507 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:15:21.516 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-04 11:15:21.538 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 120.75750000000001ms
2018-05-04 11:15:21.550 -07:00 [INF] Request finished in 173.462ms 200 text/html; charset=utf-8
2018-05-04 11:15:23.361 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:15:23.369 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:23.375 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:23.417 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:15:23.431 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:15:23.640 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:15:23.818 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:15:24.213 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:15:24.254 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 861.3002ms
2018-05-04 11:15:24.267 -07:00 [INF] Request finished in 902.6861ms 200 text/html; charset=utf-8
2018-05-04 11:15:26.318 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-04 11:15:26.325 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:26.331 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:26.392 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-04 11:15:26.410 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:15:26.436 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-04 11:15:26.621 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-04 11:15:26.757 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-04 11:15:27.011 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-04 11:15:27.365 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1016.4921ms
2018-05-04 11:15:27.377 -07:00 [INF] Request finished in 1056.0236ms 200 text/html; charset=utf-8
2018-05-04 11:15:37.376 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 551
2018-05-04 11:15:37.384 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:37.390 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:15:37.478 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-04 11:15:37.495 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:15:37.642 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ShortName]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-04 11:15:37.780 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:03.832 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-04 11:16:04.064 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-04 11:16:06.402 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-04 11:16:06.934 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:16:09.948 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-04 11:16:10.923 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4119.5154ms
2018-05-04 11:16:10.940 -07:00 [INF] Request finished in 4546.0134ms 200 text/html; charset=utf-8
2018-05-04 11:16:13.784 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-04 11:16:13.947 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-04 11:16:13.974 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-04 11:16:14.639 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-04 11:16:14.981 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1143.8866ms
2018-05-04 11:16:14.992 -07:00 [INF] Request finished in 1203.6502ms 200 text/html; charset=utf-8
2018-05-04 11:16:16.620 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-04 11:16:16.729 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-04 11:16:16.989 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:18.214 -07:00 [INF] Executed DbCommand (214ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-04 11:16:18.515 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-04 11:16:18.686 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-04 11:16:18.830 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:16:19.008 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:16:19.126 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:16:19.247 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:16:19.365 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:16:19.488 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:16:19.606 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:16:19.731 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:16:19.823 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-04 11:16:19.835 -07:00 [INF] User logged in.
2018-05-04 11:16:19.847 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-04 11:16:19.858 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3210.5323000000003ms
2018-05-04 11:16:19.873 -07:00 [INF] Request finished in 3244.5323ms 302 
2018-05-04 11:16:19.889 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-04 11:16:19.909 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:19.922 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:20.020 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:16:20.030 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-04 11:16:20.049 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 116.4244ms
2018-05-04 11:16:20.060 -07:00 [INF] Request finished in 170.7155ms 200 text/html; charset=utf-8
2018-05-04 11:16:22.235 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:16:22.241 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:22.246 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:22.285 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:16:22.297 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:22.481 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:16:22.648 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:22.913 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:16:22.973 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 711.7679ms
2018-05-04 11:16:22.984 -07:00 [INF] Request finished in 746.776ms 200 text/html; charset=utf-8
2018-05-04 11:16:24.657 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-04 11:16:24.663 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:24.668 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:24.726 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-04 11:16:24.742 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:24.765 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-04 11:16:24.949 -07:00 [INF] Executed DbCommand (133ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-04 11:16:25.082 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-04 11:16:25.330 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-04 11:16:25.692 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 1006.6661ms
2018-05-04 11:16:25.702 -07:00 [INF] Request finished in 1041.7693ms 200 text/html; charset=utf-8
2018-05-04 11:16:32.997 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 551
2018-05-04 11:16:33.002 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:33.006 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:33.084 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-04 11:16:33.103 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:33.262 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ShortName]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-04 11:16:33.399 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:33.665 -07:00 [INF] Executed DbCommand (139ms) [Parameters=[@p2='?', @p0='?' (Size = 450), @p1='?' (Size = 64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2018-05-04 11:16:33.735 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-04 11:16:33.748 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 722.5606ms
2018-05-04 11:16:33.759 -07:00 [INF] Request finished in 758.2822ms 302 
2018-05-04 11:16:33.773 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:16:33.785 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:33.795 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:33.886 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:16:33.898 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:34.053 -07:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:16:34.175 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:34.190 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:16:34.214 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 404.5405ms
2018-05-04 11:16:34.226 -07:00 [INF] Request finished in 450.9718ms 200 text/html; charset=utf-8
2018-05-04 11:16:36.939 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/2  
2018-05-04 11:16:36.944 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:36.948 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:36.978 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2"]) - ModelState is "Valid"
2018-05-04 11:16:36.986 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:37.080 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-04 11:16:37.190 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-04 11:16:37.200 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-04 11:16:37.224 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 266.36240000000004ms
2018-05-04 11:16:37.234 -07:00 [INF] Request finished in 292.9126ms 200 text/html; charset=utf-8
2018-05-04 11:16:44.316 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/2 application/x-www-form-urlencoded 537
2018-05-04 11:16:44.322 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:44.327 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:44.376 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-04 11:16:44.385 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:44.481 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ShortName]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-04 11:16:44.589 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:44.768 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@p2='?', @p0='?' (Size = 450), @p1='?' (Size = 64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2018-05-04 11:16:44.834 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-04 11:16:44.844 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 509.5418ms
2018-05-04 11:16:44.853 -07:00 [INF] Request finished in 536.1973ms 302 
2018-05-04 11:16:44.871 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:16:44.883 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:44.894 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:44.984 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:16:44.993 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:45.138 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:16:45.248 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:45.258 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:16:45.297 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 391.68670000000003ms
2018-05-04 11:16:45.307 -07:00 [INF] Request finished in 435.5229ms 200 text/html; charset=utf-8
2018-05-04 11:16:48.085 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:16:48.095 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:48.104 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:48.160 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:16:48.168 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:48.280 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:16:48.393 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:16:48.403 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:16:48.416 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 301.7026ms
2018-05-04 11:16:48.425 -07:00 [INF] Request finished in 340.1203ms 200 text/html; charset=utf-8
2018-05-04 11:16:48.498 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-04 11:16:48.510 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-04 11:16:48.541 -07:00 [INF] Request finished in 43.9158ms 200 image/x-icon
2018-05-04 11:16:51.975 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-04 11:16:51.980 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:51.983 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:16:52.011 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-04 11:16:52.015 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:16:52.104 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-04 11:16:52.188 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-04 11:16:52.194 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-04 11:16:52.228 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 237.80290000000002ms
2018-05-04 11:16:52.235 -07:00 [INF] Request finished in 258.8731ms 200 text/html; charset=utf-8
2018-05-04 11:17:27.758 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-04 11:17:28.090 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-04 11:17:30.408 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-04 11:17:30.940 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:17:33.912 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-04 11:17:34.747 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3982.6445000000003ms
2018-05-04 11:17:34.763 -07:00 [INF] Request finished in 4354.4354ms 200 text/html; charset=utf-8
2018-05-04 11:17:38.043 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-04 11:17:38.195 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-04 11:17:38.217 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-04 11:17:38.878 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-04 11:17:39.187 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1090.5357000000001ms
2018-05-04 11:17:39.197 -07:00 [INF] Request finished in 1149.6872ms 200 text/html; charset=utf-8
2018-05-04 11:17:40.728 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-04 11:17:40.836 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-04 11:17:41.068 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:17:42.273 -07:00 [INF] Executed DbCommand (193ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-04 11:17:42.623 -07:00 [INF] Executed DbCommand (149ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-04 11:17:42.774 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-04 11:17:42.893 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:17:43.059 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:17:43.176 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:17:43.298 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:17:43.415 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:17:43.538 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:17:43.654 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-04 11:17:43.780 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-04 11:17:43.889 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-04 11:17:43.900 -07:00 [INF] User logged in.
2018-05-04 11:17:43.914 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-04 11:17:43.924 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3166.3008ms
2018-05-04 11:17:43.937 -07:00 [INF] Request finished in 3201.0887ms 302 
2018-05-04 11:17:43.950 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-04 11:17:43.966 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:17:43.974 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:17:44.061 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:17:44.071 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-04 11:17:44.103 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 117.11880000000001ms
2018-05-04 11:17:44.111 -07:00 [INF] Request finished in 159.7969ms 200 text/html; charset=utf-8
2018-05-04 11:17:53.336 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:17:53.342 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:17:53.347 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:17:53.382 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:17:53.392 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:17:53.574 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:17:53.788 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:17:54.131 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:17:54.170 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 807.97430000000008ms
2018-05-04 11:17:54.181 -07:00 [INF] Request finished in 842.2886ms 200 text/html; charset=utf-8
2018-05-04 11:17:55.733 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/1  
2018-05-04 11:17:55.739 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:17:55.744 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:17:55.801 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2018-05-04 11:17:55.816 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:17:55.838 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-04 11:17:56.012 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-04 11:17:56.156 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-04 11:17:56.374 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-04 11:17:56.705 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 943.456ms
2018-05-04 11:17:56.715 -07:00 [INF] Request finished in 978.054ms 200 text/html; charset=utf-8
2018-05-04 11:18:00.816 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/1 application/x-www-form-urlencoded 551
2018-05-04 11:18:00.822 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:00.828 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:00.904 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["1","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-04 11:18:00.918 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:18:01.082 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ShortName]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-04 11:18:01.209 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:18:01.469 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@p2='?', @p0='?' (Size = 450), @p1='?' (Size = 64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2018-05-04 11:18:01.546 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-04 11:18:01.556 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 713.2282ms
2018-05-04 11:18:01.567 -07:00 [INF] Request finished in 748.0435ms 302 
2018-05-04 11:18:01.583 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:18:01.594 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:01.605 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:01.690 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:18:01.695 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:18:01.816 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:18:01.926 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:18:01.939 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:18:01.961 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 342.9875ms
2018-05-04 11:18:01.972 -07:00 [INF] Request finished in 387.9733ms 200 text/html; charset=utf-8
2018-05-04 11:18:02.950 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations/Edit/2  
2018-05-04 11:18:02.956 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:02.960 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:02.992 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2"]) - ModelState is "Valid"
2018-05-04 11:18:03.005 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:18:03.133 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [org].[Name], [org].[Id]
FROM [Organization] AS [org]
WHERE [org].[Id] = @__id_0
2018-05-04 11:18:03.248 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@_outer_Id='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserName] AS [Name], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [OrganizationAssignments] AS [oa]
            WHERE ([oa].[UserId] = [u].[Id]) AND (@_outer_Id = [oa].[OrganizationId]))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetUsers] AS [u]
2018-05-04 11:18:03.260 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Edit.cshtml.
2018-05-04 11:18:03.300 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 330.32030000000003ms
2018-05-04 11:18:03.310 -07:00 [INF] Request finished in 357.8288ms 200 text/html; charset=utf-8
2018-05-04 11:18:07.874 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Organizations/Edit/2 application/x-www-form-urlencoded 537
2018-05-04 11:18:07.880 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:07.885 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:07.919 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) with arguments (["2","IdentityServer.Models.UserViewModels.OrganizationDetailsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.UserSelectedViewModel]"]) - ModelState is "Valid"
2018-05-04 11:18:07.927 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:18:08.039 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ShortName]
FROM [Organization] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-04 11:18:08.148 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Organization] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:18:08.334 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@p2='?', @p0='?' (Size = 450), @p1='?' (Size = 64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Organization] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2018-05-04 11:18:08.398 -07:00 [INF] Executing RedirectResult, redirecting to /Organizations.
2018-05-04 11:18:08.408 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Edit (IdentityServer) in 514.5384ms
2018-05-04 11:18:08.418 -07:00 [INF] Request finished in 542.1233ms 302 
2018-05-04 11:18:08.432 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-04 11:18:08.442 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:08.450 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-04 11:18:08.538 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-04 11:18:08.548 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-04 11:18:08.689 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-04 11:18:08.804 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-04 11:18:08.817 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-04 11:18:08.838 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 373.75ms
2018-05-04 11:18:08.849 -07:00 [INF] Request finished in 415.8788ms 200 text/html; charset=utf-8
2018-05-07 14:34:20.605 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-07 14:34:21.092 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-07 14:34:26.568 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-07 14:34:27.311 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:34:30.910 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-07 14:34:32.159 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4998.5976ms
2018-05-07 14:34:32.191 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css  
2018-05-07 14:34:32.217 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js  
2018-05-07 14:34:32.244 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css  
2018-05-07 14:34:32.313 -07:00 [INF] Request finished in 5721.5643ms 200 text/html; charset=utf-8
2018-05-07 14:34:32.345 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-05-07 14:34:32.372 -07:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-05-07 14:34:32.406 -07:00 [INF] The file /css/site.css was not modified
2018-05-07 14:34:32.438 -07:00 [INF] Request finished in 246.8512ms 304 text/css
2018-05-07 14:34:32.493 -07:00 [INF] Request finished in 247.3192ms 304 text/css
2018-05-07 14:34:32.502 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg  
2018-05-07 14:34:32.527 -07:00 [INF] Request finished in 299.821ms 304 application/javascript
2018-05-07 14:34:32.581 -07:00 [INF] The file /images/banner2.svg was not modified
2018-05-07 14:34:32.610 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg  
2018-05-07 14:34:32.723 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-05-07 14:34:32.749 -07:00 [INF] Request finished in 145.0108ms 304 image/svg+xml
2018-05-07 14:34:32.775 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2018-05-07 14:34:32.862 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg  
2018-05-07 14:34:32.866 -07:00 [INF] The file /images/banner3.svg was not modified
2018-05-07 14:34:32.900 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js  
2018-05-07 14:34:32.927 -07:00 [INF] The file /images/banner1.svg was not modified
2018-05-07 14:34:33.009 -07:00 [INF] The file /lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 was not modified
2018-05-07 14:34:33.115 -07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-05-07 14:34:33.142 -07:00 [INF] The file /js/site.js was not modified
2018-05-07 14:34:33.222 -07:00 [INF] Request finished in 414.9185ms 304 font/woff2
2018-05-07 14:34:33.246 -07:00 [INF] Request finished in 469.0839ms 304 application/javascript
2018-05-07 14:34:33.270 -07:00 [INF] Request finished in 516.5038ms 304 image/svg+xml
2018-05-07 14:34:33.295 -07:00 [INF] Request finished in 523.3076ms 304 image/svg+xml
2018-05-07 14:34:33.378 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg  
2018-05-07 14:34:33.404 -07:00 [INF] Request finished in 703.3706ms 304 application/javascript
2018-05-07 14:34:33.528 -07:00 [INF] The file /images/banner4.svg was not modified
2018-05-07 14:34:33.563 -07:00 [INF] Request finished in 522.8587ms 304 image/svg+xml
2018-05-07 14:36:07.764 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-07 14:36:08.122 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-07 14:36:08.168 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-07 14:36:09.055 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-07 14:36:09.433 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1468.0133ms
2018-05-07 14:36:09.444 -07:00 [INF] Request finished in 1677.1265ms 200 text/html; charset=utf-8
2018-05-07 14:36:09.481 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-05-07 14:36:09.483 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js  
2018-05-07 14:36:09.535 -07:00 [INF] The file /lib/jquery-validation/dist/jquery.validate.js was not modified
2018-05-07 14:36:09.537 -07:00 [INF] The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified
2018-05-07 14:36:09.617 -07:00 [INF] Request finished in 107.1101ms 304 application/javascript
2018-05-07 14:36:09.622 -07:00 [INF] Request finished in 139.3675ms 304 application/javascript
2018-05-07 14:36:11.802 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-07 14:36:11.922 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-07 14:36:12.212 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:36:13.629 -07:00 [INF] Executed DbCommand (235ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-07 14:36:14.015 -07:00 [INF] Executed DbCommand (158ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-07 14:36:14.182 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-07 14:36:14.326 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 14:36:14.488 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 14:36:14.619 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 14:36:14.746 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 14:36:14.862 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 14:36:14.984 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 14:36:15.082 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 14:36:15.200 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 14:36:15.300 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-07 14:36:15.311 -07:00 [INF] User logged in.
2018-05-07 14:36:15.323 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-07 14:36:15.334 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3506.5916ms
2018-05-07 14:36:15.349 -07:00 [INF] Request finished in 3545.6679ms 302 
2018-05-07 14:36:15.365 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-07 14:36:15.380 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:36:15.390 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:36:15.489 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:36:15.502 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-07 14:36:15.538 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 136.51340000000002ms
2018-05-07 14:36:15.547 -07:00 [INF] Request finished in 182.8562ms 200 text/html; charset=utf-8
2018-05-07 14:36:31.788 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-07 14:36:31.794 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:36:31.799 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:36:31.839 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:36:31.871 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:36:32.064 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-07 14:36:32.208 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:36:32.617 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-07 14:36:32.713 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 901.916ms
2018-05-07 14:36:32.721 -07:00 [INF] Request finished in 931.9058ms 200 text/html; charset=utf-8
2018-05-07 14:36:39.742 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-07 14:36:39.748 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:36:39.753 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:36:39.791 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:36:39.804 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:36:39.953 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-07 14:36:40.126 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-07 14:36:40.288 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-07 14:36:40.417 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-07 14:36:40.686 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-07 14:36:41.198 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1431.2810000000002ms
2018-05-07 14:36:41.207 -07:00 [INF] Request finished in 1464.1903ms 200 text/html; charset=utf-8
2018-05-07 14:37:06.525 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-07 14:37:06.530 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:37:06.534 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:37:06.564 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:37:06.570 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:37:06.671 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-07 14:37:06.787 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:37:06.801 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-07 14:37:06.850 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 306.6274ms
2018-05-07 14:37:06.861 -07:00 [INF] Request finished in 334.1712ms 200 text/html; charset=utf-8
2018-05-07 14:42:11.390 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-07 14:42:11.400 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:42:11.407 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:42:11.470 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-07 14:42:11.489 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:42:11.648 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-07 14:42:11.812 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:42:12.251 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-07 14:42:12.327 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 903.4661000000001ms
2018-05-07 14:42:12.339 -07:00 [INF] Request finished in 947.0756ms 200 text/html; charset=utf-8
2018-05-07 14:42:18.426 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-07 14:42:18.432 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:42:18.438 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:42:18.471 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:42:18.479 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:42:18.582 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-07 14:42:18.712 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:42:18.728 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-07 14:42:18.780 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 318.4245ms
2018-05-07 14:42:18.790 -07:00 [INF] Request finished in 347.9383ms 200 text/html; charset=utf-8
2018-05-07 14:44:09.102 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-07 14:44:09.107 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:44:09.112 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:44:09.142 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124"]) - ModelState is "Valid"
2018-05-07 14:44:09.150 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:44:09.319 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-07 14:44:09.457 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:44:09.472 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-07 14:44:09.489 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 352.593ms
2018-05-07 14:44:09.502 -07:00 [INF] Request finished in 380.8194ms 200 text/html; charset=utf-8
2018-05-07 14:46:53.049 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=98ceef53-eb94-42f2-abf4-e6a97ef33124  
2018-05-07 14:46:53.055 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:46:53.060 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:46:53.131 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["98ceef53-eb94-42f2-abf4-e6a97ef33124","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-07 14:46:53.154 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:46:53.334 -07:00 [INF] Executed DbCommand (137ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-07 14:46:53.473 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:46:53.498 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-07 14:46:53.533 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-07 14:46:53.546 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-07 14:46:53.556 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-07 14:46:53.567 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-07 14:46:53.752 -07:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-07 14:46:54.120 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-07 14:46:54.654 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1510.2484000000002ms
2018-05-07 14:46:54.663 -07:00 [INF] Request finished in 1546.5449ms 200 text/html; charset=utf-8
2018-05-07 14:46:57.505 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-07 14:46:57.512 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:46:57.517 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:46:57.572 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:46:57.585 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:46:57.694 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-07 14:46:57.827 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:46:57.841 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-07 14:46:57.887 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 344.6864ms
2018-05-07 14:46:57.897 -07:00 [INF] Request finished in 375.1204ms 200 text/html; charset=utf-8
2018-05-07 14:53:22.585 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-07 14:53:22.590 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:53:22.595 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:53:22.633 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:53:22.642 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:53:23.324 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-07 14:53:23.692 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-07 14:53:23.748 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 1130.0789ms
2018-05-07 14:53:23.756 -07:00 [INF] Request finished in 1159.5846ms 200 text/html; charset=utf-8
2018-05-07 14:54:07.036 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-07 14:54:07.042 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:54:07.047 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 14:54:07.082 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 14:54:07.095 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 14:54:07.293 -07:00 [INF] Executed DbCommand (158ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-07 14:54:07.433 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 14:54:07.723 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 656.14060000000006ms
2018-05-07 14:54:07.834 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
t0bpvusi.xk2(193,26): error CS1525: Invalid expression term '|'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(40,80): error CS1525: Invalid expression term '<'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,29): error CS1002: ; expected
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,54): error CS1002: ; expected
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,95): error CS1525: Invalid expression term '/'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,101): error CS1525: Invalid expression term '|'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,102): error CS1525: Invalid expression term '<'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,29): error CS1002: ; expected
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,53): error CS1002: ; expected
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,93): error CS1525: Invalid expression term '/'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,98): error CS1525: Invalid expression term '}'
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,98): error CS1002: ; expected
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,27): error CS0103: The name 'a' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,29): error CS0103: The name 'asp' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,35): error CS0103: The name 'action' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,54): error CS0103: The name 'asp' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,60): error CS0103: The name 'route' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,68): error CS0103: The name 'id' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,86): error CS0103: The name 'Details' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(41,97): error CS0103: The name 'a' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,27): error CS0103: The name 'a' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,29): error CS0103: The name 'asp' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,35): error CS0103: The name 'action' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,53): error CS0103: The name 'asp' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,59): error CS0103: The name 'route' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,67): error CS0103: The name 'id' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,85): error CS0103: The name 'Delete' does not exist in the current context
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Organizations\Index.cshtml(42,95): error CS0103: The name 'a' does not exist in the current context
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-07 14:54:07.986 -07:00 [INF] Request finished in 940.8264ms 500 text/html; charset=utf-8
2018-05-07 15:10:29.859 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-07 15:10:29.872 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:10:30.626 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-07 15:10:30.762 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-07 15:10:30.885 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-07 15:10:31.006 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:10:31.125 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:10:31.221 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:10:31.356 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:10:31.464 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:10:31.595 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:10:31.715 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:10:31.842 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:10:31.862 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:10:31.873 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:10:31.951 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:10:32.090 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-07 15:10:32.180 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 15:10:32.436 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-07 15:10:32.488 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 602.6416ms
2018-05-07 15:10:32.497 -07:00 [INF] Request finished in 2630.8107ms 200 text/html; charset=utf-8
2018-05-07 15:10:32.601 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-07 15:10:32.611 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-07 15:10:32.641 -07:00 [INF] Request finished in 40.3025ms 200 image/x-icon
2018-05-07 15:10:38.716 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-05-07 15:10:38.723 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:10:38.728 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:10:38.746 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-07 15:10:38.807 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:10:38.828 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-05-07 15:10:38.839 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-07 15:10:38.850 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-05-07 15:10:38.861 -07:00 [INF] User logged out.
2018-05-07 15:10:38.873 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-07 15:10:38.883 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 142.0593ms
2018-05-07 15:10:38.895 -07:00 [INF] Request finished in 175.2527ms 302 
2018-05-07 15:10:38.911 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-07 15:10:38.967 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:10:38.978 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-07 15:10:38.994 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 70.1376ms
2018-05-07 15:10:39.005 -07:00 [INF] Request finished in 92.6413ms 200 text/html; charset=utf-8
2018-05-07 15:10:40.706 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-07 15:10:40.738 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-07 15:10:40.744 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-07 15:10:40.751 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-07 15:10:40.767 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 52.541900000000005ms
2018-05-07 15:10:40.778 -07:00 [INF] Request finished in 69.8328ms 200 text/html; charset=utf-8
2018-05-07 15:10:43.940 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 253
2018-05-07 15:10:43.972 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-07 15:10:43.982 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:10:44.092 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-07 15:10:44.247 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-07 15:10:44.394 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-07 15:10:44.516 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:10:44.615 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:10:44.735 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:10:44.868 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:10:44.926 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-07 15:10:44.939 -07:00 [INF] User logged in.
2018-05-07 15:10:44.951 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-07 15:10:44.964 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1012.9538ms
2018-05-07 15:10:44.978 -07:00 [INF] Request finished in 1032.2863ms 302 
2018-05-07 15:10:44.994 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-07 15:10:45.004 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:10:45.014 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:10:45.112 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:10:45.122 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-07 15:10:45.136 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 110.3845ms
2018-05-07 15:10:45.147 -07:00 [INF] Request finished in 151.6543ms 200 text/html; charset=utf-8
2018-05-07 15:13:10.455 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-07 15:13:10.462 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:10.468 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:10.501 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:13:10.513 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:13:10.689 -07:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-07 15:13:10.834 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 15:13:10.851 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-07 15:13:10.876 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 395.46750000000003ms
2018-05-07 15:13:10.889 -07:00 [INF] Request finished in 430.5355ms 200 text/html; charset=utf-8
2018-05-07 15:13:14.966 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-07 15:13:14.973 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:14.980 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:15.014 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:13:15.027 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:13:15.155 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-07 15:13:15.275 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 15:13:15.290 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-07 15:13:15.333 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 340.5774ms
2018-05-07 15:13:15.345 -07:00 [INF] Request finished in 376.7114ms 200 text/html; charset=utf-8
2018-05-07 15:13:25.198 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-07 15:13:25.205 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:25.211 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:25.279 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:13:25.292 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:13:25.396 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-07 15:13:25.515 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 15:13:25.531 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-07 15:13:25.556 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 331.745ms
2018-05-07 15:13:25.570 -07:00 [INF] Request finished in 368.4977ms 200 text/html; charset=utf-8
2018-05-07 15:13:27.033 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-07 15:13:27.040 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:27.046 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:27.083 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:13:27.093 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:13:27.203 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-07 15:13:27.223 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-07 15:13:27.261 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 200.4917ms
2018-05-07 15:13:27.274 -07:00 [INF] Request finished in 239.4162ms 200 text/html; charset=utf-8
2018-05-07 15:13:29.319 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Details?id=21b2167c-3c21-4a0a-8d8d-c1d05a9fa0ab  
2018-05-07 15:13:29.326 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:29.332 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:29.391 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Details (IdentityServer) with arguments (["21b2167c-3c21-4a0a-8d8d-c1d05a9fa0ab"]) - ModelState is "Valid"
2018-05-07 15:13:29.413 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:13:29.561 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Name], [m].[NormalizedName]
FROM [AspNetRoles] AS [m]
WHERE ([m].[Discriminator] = N'ApplicationRole') AND ([m].[Id] = @__id_0)
2018-05-07 15:13:30.033 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Details.cshtml.
2018-05-07 15:13:30.064 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Details (IdentityServer) in 713.46160000000009ms
2018-05-07 15:13:30.077 -07:00 [INF] Request finished in 754.5191ms 200 text/html; charset=utf-8
2018-05-07 15:13:32.138 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-07 15:13:32.146 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:32.153 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:13:32.187 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:13:32.196 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:13:32.301 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-07 15:13:32.317 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-07 15:13:32.352 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 187.0636ms
2018-05-07 15:13:32.365 -07:00 [INF] Request finished in 225.0821ms 200 text/html; charset=utf-8
2018-05-07 15:56:37.898 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-07 15:56:37.916 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:56:38.643 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-07 15:56:38.782 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-07 15:56:38.930 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-07 15:56:39.032 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:56:39.162 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:56:39.261 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-07 15:56:39.357 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-07 15:56:39.365 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:56:39.372 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:56:39.423 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:56:39.531 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-07 15:56:39.890 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-07 15:56:39.928 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 546.5472ms
2018-05-07 15:56:39.934 -07:00 [INF] Request finished in 2037.3651ms 200 text/html; charset=utf-8
2018-05-07 15:56:40.023 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-07 15:56:40.038 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-07 15:56:40.052 -07:00 [INF] Request finished in 31.1475ms 200 image/x-icon
2018-05-07 15:56:44.916 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-07 15:56:44.924 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:56:44.930 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-07 15:56:44.966 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-07 15:56:44.976 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-07 15:56:45.098 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-07 15:56:45.248 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-07 15:56:45.610 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-07 15:56:45.689 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 745.5057ms
2018-05-07 15:56:45.702 -07:00 [INF] Request finished in 782.4993ms 200 text/html; charset=utf-8
2018-05-08 13:14:05.786 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-08 13:14:05.883 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-08 13:20:21.635 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-08 13:20:21.872 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-08 13:20:27.145 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:20:27.601 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:20:30.532 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:20:31.467 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4005.6377ms
2018-05-08 13:20:31.481 -07:00 [INF] Request finished in 4339.944ms 200 text/html; charset=utf-8
2018-05-08 13:20:36.246 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-08 13:20:36.369 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-08 13:20:36.406 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-08 13:20:37.126 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-08 13:20:37.511 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1215.2485000000001ms
2018-05-08 13:20:37.518 -07:00 [INF] Request finished in 1272.3512ms 200 text/html; charset=utf-8
2018-05-08 13:20:39.446 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 253
2018-05-08 13:20:39.544 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-08 13:20:39.809 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:20:41.024 -07:00 [INF] Executed DbCommand (155ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-08 13:20:41.320 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-08 13:20:41.491 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-08 13:20:41.620 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-08 13:20:41.761 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-08 13:20:41.853 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-08 13:20:41.955 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-08 13:20:42.028 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-08 13:20:42.033 -07:00 [INF] User logged in.
2018-05-08 13:20:42.041 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-08 13:20:42.048 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2581.6799ms
2018-05-08 13:20:42.058 -07:00 [INF] Request finished in 2611.1838ms 302 
2018-05-08 13:20:42.071 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:20:42.089 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:20:42.098 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:20:42.176 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:20:42.185 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:20:42.217 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 109.77600000000001ms
2018-05-08 13:20:42.225 -07:00 [INF] Request finished in 154.4761ms 200 text/html; charset=utf-8
2018-05-08 13:20:43.907 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-08 13:20:43.913 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:20:43.917 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:20:43.953 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:20:43.963 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:20:44.082 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:20:44.190 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-08 13:20:44.287 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-08 13:20:44.375 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-08 13:20:44.762 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-08 13:20:44.899 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 970.5623ms
2018-05-08 13:20:44.991 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The partial view 'ReadOnlyRolesView' was not found. The following locations were searched:
/Views/UserRoles/ReadOnlyRolesView.cshtml
/Views/Shared/ReadOnlyRolesView.cshtml
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_UserRoles_Index_cshtml.<ExecuteAsync>d__0.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\UserRoles\Index.cshtml:line 42
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-08 13:20:45.190 -07:00 [INF] Request finished in 1283.3151ms 500 text/html; charset=utf-8
2018-05-08 13:35:46.378 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-08 13:35:46.387 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:35:46.396 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:35:46.448 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:35:46.459 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:35:47.111 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:35:47.201 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-08 13:35:47.289 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-08 13:35:47.377 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-08 13:35:47.614 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-08 13:35:48.078 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1672.0310000000002ms
2018-05-08 13:35:48.086 -07:00 [INF] Request finished in 1707.2514ms 200 text/html; charset=utf-8
2018-05-08 13:35:48.162 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-08 13:35:48.172 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-08 13:35:48.188 -07:00 [INF] Request finished in 24.7514ms 200 image/x-icon
2018-05-08 13:36:08.141 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-08 13:36:08.146 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:08.151 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:08.191 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:08.202 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:08.358 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-08 13:36:08.503 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:36:08.793 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-08 13:36:08.823 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 660.7439ms
2018-05-08 13:36:08.829 -07:00 [INF] Request finished in 689.2701ms 200 text/html; charset=utf-8
2018-05-08 13:36:13.810 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-08 13:36:13.816 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:13.820 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:13.856 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:13.863 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:13.975 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:36:14.216 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-08 13:36:14.254 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 421.8133ms
2018-05-08 13:36:14.259 -07:00 [INF] Request finished in 449.7154ms 200 text/html; charset=utf-8
2018-05-08 13:36:18.802 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Details?id=21b2167c-3c21-4a0a-8d8d-c1d05a9fa0ab  
2018-05-08 13:36:18.808 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:18.813 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:18.852 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Details (IdentityServer) with arguments (["21b2167c-3c21-4a0a-8d8d-c1d05a9fa0ab"]) - ModelState is "Valid"
2018-05-08 13:36:18.863 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:18.976 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Name], [m].[NormalizedName]
FROM [AspNetRoles] AS [m]
WHERE ([m].[Discriminator] = N'ApplicationRole') AND ([m].[Id] = @__id_0)
2018-05-08 13:36:19.227 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Details.cshtml.
2018-05-08 13:36:19.254 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Details (IdentityServer) in 430.13390000000004ms
2018-05-08 13:36:19.261 -07:00 [INF] Request finished in 459.3924ms 200 text/html; charset=utf-8
2018-05-08 13:36:21.332 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-08 13:36:21.338 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:21.343 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:21.378 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:21.387 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:21.515 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-08 13:36:21.619 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:36:21.897 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-08 13:36:21.993 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 638.7521ms
2018-05-08 13:36:21.999 -07:00 [INF] Request finished in 667.909ms 200 text/html; charset=utf-8
2018-05-08 13:36:24.437 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-08 13:36:24.443 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:24.448 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:24.478 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:24.485 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:24.594 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:36:24.603 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-08 13:36:24.626 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 171.197ms
2018-05-08 13:36:24.633 -07:00 [INF] Request finished in 196.9996ms 200 text/html; charset=utf-8
2018-05-08 13:36:26.228 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-08 13:36:26.233 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:26.238 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:26.268 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:26.276 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:26.372 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-08 13:36:26.482 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:36:26.496 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-08 13:36:26.544 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 299.6096ms
2018-05-08 13:36:26.551 -07:00 [INF] Request finished in 323.679ms 200 text/html; charset=utf-8
2018-05-08 13:36:33.819 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-08 13:36:33.825 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:33.830 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:33.865 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-08 13:36:33.873 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:34.000 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-08 13:36:34.101 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:36:34.588 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-08 13:36:34.727 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 886.5648ms
2018-05-08 13:36:34.733 -07:00 [INF] Request finished in 913.9944ms 200 text/html; charset=utf-8
2018-05-08 13:36:44.636 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 861
2018-05-08 13:36:44.642 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:44.647 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:44.671 -07:00 [INF] Authorization failed for user: james.r.anderson@utah.edu.
2018-05-08 13:36:44.680 -07:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-05-08 13:36:44.687 -07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2018-05-08 13:36:44.696 -07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2018-05-08 13:36:44.702 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 37.6426ms
2018-05-08 13:36:44.708 -07:00 [INF] Request finished in 73.2901ms 302 
2018-05-08 13:36:44.716 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/AccessDenied?returnUrl=%2FApplicationUsers%2FEdit  
2018-05-08 13:36:44.722 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:44.727 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:44.736 -07:00 [INF] Authorization was successful for user: james.r.anderson@utah.edu.
2018-05-08 13:36:44.766 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.AccessDenied (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:44.941 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-05-08 13:36:44.953 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.AccessDenied (IdentityServer) in 217.6621ms
2018-05-08 13:36:44.960 -07:00 [INF] Request finished in 243.0595ms 200 text/html; charset=utf-8
2018-05-08 13:36:47.283 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-08 13:36:47.289 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:47.294 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:47.323 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-08 13:36:47.329 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:36:47.428 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-08 13:36:47.545 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:36:47.555 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-08 13:36:47.570 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 269.8935ms
2018-05-08 13:36:47.578 -07:00 [INF] Request finished in 295.0091ms 200 text/html; charset=utf-8
2018-05-08 13:36:58.769 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 861
2018-05-08 13:36:58.775 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:58.780 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:58.785 -07:00 [INF] Authorization failed for user: james.r.anderson@utah.edu.
2018-05-08 13:36:58.790 -07:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-05-08 13:36:58.795 -07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2018-05-08 13:36:58.800 -07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2018-05-08 13:36:58.805 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 19.7089ms
2018-05-08 13:36:58.810 -07:00 [INF] Request finished in 41.7014ms 302 
2018-05-08 13:36:58.817 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/AccessDenied?returnUrl=%2FApplicationUsers%2FEdit  
2018-05-08 13:36:58.823 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:58.828 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:36:58.833 -07:00 [INF] Authorization was successful for user: james.r.anderson@utah.edu.
2018-05-08 13:36:58.862 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.AccessDenied (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:36:58.868 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-05-08 13:36:58.874 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.AccessDenied (IdentityServer) in 40.466100000000004ms
2018-05-08 13:36:58.879 -07:00 [INF] Request finished in 61.5385ms 200 text/html; charset=utf-8
2018-05-08 13:40:46.098 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-08 13:40:46.351 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-08 13:40:52.909 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:40:53.413 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:40:56.451 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:40:57.306 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4026.3866000000003ms
2018-05-08 13:40:57.321 -07:00 [INF] Request finished in 4427.7553ms 200 text/html; charset=utf-8
2018-05-08 13:41:13.357 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-08 13:41:13.493 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-08 13:41:13.520 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-08 13:41:14.191 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-08 13:41:14.495 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1084.122ms
2018-05-08 13:41:14.509 -07:00 [INF] Request finished in 1149.476ms 200 text/html; charset=utf-8
2018-05-08 13:41:16.262 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 253
2018-05-08 13:41:16.346 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-08 13:41:16.580 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:41:20.124 -07:00 [INF] Executed DbCommand (154ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-08 13:41:20.399 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-08 13:41:20.599 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-08 13:41:20.726 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-08 13:41:20.852 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-08 13:41:20.948 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-08 13:41:21.044 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-08 13:41:21.131 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-08 13:41:21.138 -07:00 [INF] User logged in.
2018-05-08 13:41:21.146 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-08 13:41:21.152 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 4869.3889ms
2018-05-08 13:41:21.159 -07:00 [INF] Request finished in 4898.0191ms 302 
2018-05-08 13:41:21.167 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:41:21.176 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:21.181 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:21.256 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:41:21.264 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:41:21.295 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 105.7804ms
2018-05-08 13:41:21.303 -07:00 [INF] Request finished in 133.8027ms 200 text/html; charset=utf-8
2018-05-08 13:41:26.683 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-08 13:41:26.689 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:26.693 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:26.730 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:41:26.738 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:41:26.924 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-08 13:41:27.069 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:41:27.412 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-08 13:41:27.505 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 798.5067ms
2018-05-08 13:41:27.515 -07:00 [INF] Request finished in 829.5174ms 200 text/html; charset=utf-8
2018-05-08 13:41:33.763 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-08 13:41:33.768 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:33.772 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:33.813 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-08 13:41:33.823 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:41:34.004 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-08 13:41:34.110 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:41:34.618 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-08 13:41:34.778 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 988.9261ms
2018-05-08 13:41:34.787 -07:00 [INF] Request finished in 1024.3432ms 200 text/html; charset=utf-8
2018-05-08 13:41:44.043 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 861
2018-05-08 13:41:44.049 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:44.054 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:41:44.114 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9","james.r.anderson@utah.edu"]) - ModelState is "Valid"
2018-05-08 13:41:48.010 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:41:48.151 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__UserId_0
2018-05-08 13:41:51.277 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 7198.7233000000006ms
2018-05-08 13:41:51.409 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The instance of entity type 'ApplicationUser' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph(EntityEntryGraphNode node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState entityState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Update[TEntity](TEntity entity)
   at IdentityServer.Controllers.ApplicationUsersController.<Edit>d__8.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 129
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-08 13:41:51.656 -07:00 [INF] Request finished in 7613.7977ms 500 text/html; charset=utf-8
2018-05-08 13:43:41.888 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-08 13:43:42.098 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-08 13:43:47.071 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:43:47.584 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:43:50.572 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:43:51.382 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3952.7356ms
2018-05-08 13:43:51.397 -07:00 [INF] Request finished in 4334.1195ms 200 text/html; charset=utf-8
2018-05-08 13:43:52.820 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-08 13:43:52.948 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-08 13:43:52.982 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-08 13:43:53.664 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-08 13:43:53.970 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1103.6432ms
2018-05-08 13:43:53.976 -07:00 [INF] Request finished in 1156.5566ms 200 text/html; charset=utf-8
2018-05-08 13:43:55.655 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 253
2018-05-08 13:43:55.737 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-08 13:43:55.960 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:43:57.063 -07:00 [INF] Executed DbCommand (155ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-08 13:43:57.335 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-08 13:43:57.507 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-08 13:43:57.642 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-08 13:43:57.768 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-08 13:43:57.861 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-08 13:43:57.956 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-08 13:43:58.013 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-08 13:43:58.020 -07:00 [INF] User logged in.
2018-05-08 13:43:58.027 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-08 13:43:58.033 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2358.0644ms
2018-05-08 13:43:58.042 -07:00 [INF] Request finished in 2387.4266ms 302 
2018-05-08 13:43:58.053 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:43:58.066 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:43:58.073 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:43:58.149 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:43:58.156 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:43:58.175 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 92.9518ms
2018-05-08 13:43:58.183 -07:00 [INF] Request finished in 128.5099ms 200 text/html; charset=utf-8
2018-05-08 13:44:00.837 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-08 13:44:00.844 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:00.849 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:00.885 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:00.894 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:01.047 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-08 13:44:01.156 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:44:01.545 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-08 13:44:01.637 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 776.31860000000006ms
2018-05-08 13:44:01.646 -07:00 [INF] Request finished in 807.8226ms 200 text/html; charset=utf-8
2018-05-08 13:44:05.341 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9  
2018-05-08 13:44:05.348 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:05.353 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:05.389 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9"]) - ModelState is "Valid"
2018-05-08 13:44:05.404 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:05.567 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-08 13:44:05.662 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:44:06.061 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-08 13:44:06.197 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 830.4451ms
2018-05-08 13:44:06.205 -07:00 [INF] Request finished in 863.6555ms 200 text/html; charset=utf-8
2018-05-08 13:44:13.324 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 861
2018-05-08 13:44:13.331 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:13.336 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:13.396 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["d6b68a94-f2cc-4535-bb6a-1d3b97b9e5f9","james.r.anderson@utah.edu"]) - ModelState is "Valid"
2018-05-08 13:44:16.377 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:16.554 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Email]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__UserId_0
2018-05-08 13:44:16.844 -07:00 [INF] Executed DbCommand (127ms) [Parameters=[@p17='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?', @p7='?', @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FamilyName] = @p4, [GivenName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RegistrationDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;
2018-05-08 13:44:16.928 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-08 13:44:16.942 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 3584.0879ms
2018-05-08 13:44:16.951 -07:00 [INF] Request finished in 3625.6053ms 302 
2018-05-08 13:44:16.968 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-08 13:44:16.980 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:16.991 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:17.077 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:17.089 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:17.248 -07:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-08 13:44:17.351 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:44:17.367 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-08 13:44:17.416 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 409.60380000000004ms
2018-05-08 13:44:17.427 -07:00 [INF] Request finished in 460.3833ms 200 text/html; charset=utf-8
2018-05-08 13:44:25.654 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-08 13:44:25.661 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:25.666 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:25.707 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:25.720 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:25.827 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:44:25.939 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-08 13:44:26.042 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-08 13:44:26.139 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-08 13:44:26.351 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-08 13:44:26.711 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1030.7768ms
2018-05-08 13:44:26.720 -07:00 [INF] Request finished in 1065.6023ms 200 text/html; charset=utf-8
2018-05-08 13:44:28.176 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-08 13:44:28.182 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:28.188 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:28.228 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:28.237 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:28.344 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:44:28.573 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-08 13:44:28.609 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 407.0475ms
2018-05-08 13:44:28.618 -07:00 [INF] Request finished in 441.6931ms 200 text/html; charset=utf-8
2018-05-08 13:44:32.587 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Details?id=e9b31d58-ff79-4611-9f7b-6e5f09821ab2  
2018-05-08 13:44:32.593 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:32.598 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:32.634 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Details (IdentityServer) with arguments (["e9b31d58-ff79-4611-9f7b-6e5f09821ab2"]) - ModelState is "Valid"
2018-05-08 13:44:32.643 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:32.742 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[ConcurrencyStamp], [m].[Discriminator], [m].[Name], [m].[NormalizedName]
FROM [AspNetRoles] AS [m]
WHERE ([m].[Discriminator] = N'ApplicationRole') AND ([m].[Id] = @__id_0)
2018-05-08 13:44:32.931 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Details.cshtml.
2018-05-08 13:44:32.954 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Details (IdentityServer) in 343.9382ms
2018-05-08 13:44:32.960 -07:00 [INF] Request finished in 373.5838ms 200 text/html; charset=utf-8
2018-05-08 13:44:35.381 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-08 13:44:35.387 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:35.391 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:35.422 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:35.431 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:35.525 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:44:35.532 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-08 13:44:35.548 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 149.4151ms
2018-05-08 13:44:35.556 -07:00 [INF] Request finished in 174.978ms 200 text/html; charset=utf-8
2018-05-08 13:44:43.358 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-08 13:44:43.364 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:43.370 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:43.400 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:43.406 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:43.498 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-08 13:44:43.505 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-08 13:44:43.521 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 142.9476ms
2018-05-08 13:44:43.529 -07:00 [INF] Request finished in 170.7484ms 200 text/html; charset=utf-8
2018-05-08 13:44:44.502 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-08 13:44:44.507 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:44.511 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:44.546 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:44.555 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:44.670 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-08 13:44:44.767 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:44:44.975 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-08 13:44:45.003 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 479.1027ms
2018-05-08 13:44:45.012 -07:00 [INF] Request finished in 509.4886ms 200 text/html; charset=utf-8
2018-05-08 13:44:46.895 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Contact  
2018-05-08 13:44:46.902 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:46.907 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:46.941 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Contact (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:47.109 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Contact.cshtml.
2018-05-08 13:44:47.125 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Contact (IdentityServer) in 206.578ms
2018-05-08 13:44:47.133 -07:00 [INF] Request finished in 238.0253ms 200 text/html; charset=utf-8
2018-05-08 13:44:48.509 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-08 13:44:48.516 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:48.523 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:48.557 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:48.565 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-08 13:44:48.663 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-08 13:44:48.780 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-08 13:44:48.798 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-08 13:44:48.824 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 288.4559ms
2018-05-08 13:44:48.836 -07:00 [INF] Request finished in 325.5271ms 200 text/html; charset=utf-8
2018-05-08 13:44:49.518 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-05-08 13:44:49.525 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:49.531 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-08 13:44:49.551 -07:00 [INF] Authorization was successful for user: james.r.anderson@utah.edu.
2018-05-08 13:44:49.587 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:49.599 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-05-08 13:44:49.607 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-08 13:44:49.614 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-05-08 13:44:49.621 -07:00 [INF] User logged out.
2018-05-08 13:44:49.628 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-08 13:44:49.635 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 91.4529ms
2018-05-08 13:44:49.643 -07:00 [INF] Request finished in 125.2778ms 302 
2018-05-08 13:44:49.654 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-08 13:44:49.688 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-08 13:44:49.695 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-08 13:44:49.704 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 42.5963ms
2018-05-08 13:44:49.712 -07:00 [INF] Request finished in 57.8363ms 200 text/html; charset=utf-8
2018-05-10 14:13:51.893 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 14:13:52.238 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 14:13:53.695 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 14:13:54.526 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:13:58.103 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 14:13:59.069 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4774.7687000000005ms
2018-05-10 14:13:59.110 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css  
2018-05-10 14:13:59.110 -07:00 [INF] Request finished in 5396.0846ms 200 text/html; charset=utf-8
2018-05-10 14:13:59.146 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js  
2018-05-10 14:13:59.181 -07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\jquery\dist\jquery.js'
2018-05-10 14:13:59.184 -07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-05-10 14:13:59.228 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css  
2018-05-10 14:13:59.239 -07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\css\site.css'
2018-05-10 14:13:59.256 -07:00 [INF] Request finished in 29.3753ms 200 text/css
2018-05-10 14:13:59.291 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg  
2018-05-10 14:13:59.316 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg  
2018-05-10 14:13:59.397 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg  
2018-05-10 14:13:59.424 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2018-05-10 14:13:59.428 -07:00 [INF] Sending file. Request path: '/images/banner1.svg'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\banner1.svg'
2018-05-10 14:13:59.462 -07:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\js\site.js'
2018-05-10 14:13:59.514 -07:00 [INF] Request finished in 322.1532ms 200 application/javascript
2018-05-10 14:13:59.549 -07:00 [INF] Request finished in 381.5408ms 200 text/css
2018-05-10 14:13:59.556 -07:00 [INF] Sending file. Request path: '/images/banner3.svg'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\banner3.svg'
2018-05-10 14:13:59.638 -07:00 [INF] Request finished in 294.587ms 200 image/svg+xml
2018-05-10 14:13:59.669 -07:00 [INF] Sending file. Request path: '/images/banner2.svg'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\banner2.svg'
2018-05-10 14:13:59.696 -07:00 [INF] Request finished in 344.6343ms 200 application/javascript
2018-05-10 14:13:59.806 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js  
2018-05-10 14:13:59.860 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-05-10 14:13:59.887 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg  
2018-05-10 14:14:00.003 -07:00 [INF] Sending file. Request path: '/images/banner4.svg'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\banner4.svg'
2018-05-10 14:14:00.040 -07:00 [INF] Request finished in 748.5038ms 200 image/svg+xml
2018-05-10 14:14:00.066 -07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2'
2018-05-10 14:14:00.092 -07:00 [INF] Request finished in 568.8647ms 200 image/svg+xml
2018-05-10 14:14:00.175 -07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-05-10 14:14:00.213 -07:00 [INF] Request finished in 434.1483ms 200 font/woff2
2018-05-10 14:14:00.259 -07:00 [INF] Request finished in 308.9919ms 200 image/svg+xml
2018-05-10 14:14:00.303 -07:00 [INF] Request finished in 541.0355ms 200 application/javascript
2018-05-10 14:14:00.346 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:14:00.360 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:14:00.389 -07:00 [INF] Request finished in 43.5038ms 200 image/x-icon
2018-05-10 14:14:01.848 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-10 14:14:02.071 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-10 14:14:02.099 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-10 14:14:02.848 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-10 14:14:03.192 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1213.9548ms
2018-05-10 14:14:03.204 -07:00 [INF] Request finished in 1354.8161ms 200 text/html; charset=utf-8
2018-05-10 14:14:03.260 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-05-10 14:14:03.288 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js  
2018-05-10 14:14:03.339 -07:00 [INF] Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2018-05-10 14:14:03.368 -07:00 [INF] Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\jquery-validation\dist\jquery.validate.js'
2018-05-10 14:14:03.433 -07:00 [INF] Request finished in 193.8683ms 200 application/javascript
2018-05-10 14:14:03.460 -07:00 [INF] Request finished in 169.3095ms 200 application/javascript
2018-05-10 14:14:04.635 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-10 14:14:04.735 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-10 14:14:05.009 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:06.610 -07:00 [INF] Executed DbCommand (210ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-10 14:14:06.943 -07:00 [INF] Executed DbCommand (167ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-10 14:14:07.094 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-10 14:14:07.219 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:14:07.393 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:14:07.514 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:14:07.639 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:14:07.758 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:14:07.861 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:14:07.962 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:14:08.086 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:14:08.205 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-10 14:14:08.217 -07:00 [INF] User logged in.
2018-05-10 14:14:08.234 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-10 14:14:08.246 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3584.3867ms
2018-05-10 14:14:08.258 -07:00 [INF] Request finished in 3622.8525ms 302 
2018-05-10 14:14:08.270 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 14:14:08.284 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:08.295 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:08.380 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:08.394 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 14:14:08.416 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 109.3944ms
2018-05-10 14:14:08.425 -07:00 [INF] Request finished in 155.0316ms 200 text/html; charset=utf-8
2018-05-10 14:14:31.823 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:14:31.830 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:31.848 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:31.867 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:14:31.908 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:31.975 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:32.100 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:14:32.466 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:14:33.148 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1285.2872ms
2018-05-10 14:14:33.162 -07:00 [INF] Request finished in 1336.8688ms 200 text/html; charset=utf-8
2018-05-10 14:14:36.367 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/ChangePassword  
2018-05-10 14:14:36.375 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:36.381 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:36.395 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:14:36.432 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.ChangePassword (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:36.447 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:36.553 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:14:36.832 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/ChangePassword.cshtml.
2018-05-10 14:14:36.875 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.ChangePassword (IdentityServer) in 481.1865ms
2018-05-10 14:14:36.882 -07:00 [INF] Request finished in 515.593ms 200 text/html; charset=utf-8
2018-05-10 14:14:37.673 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/TwoFactorAuthentication  
2018-05-10 14:14:37.679 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:37.685 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:37.698 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:14:37.733 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.TwoFactorAuthentication (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:37.744 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:37.853 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:14:38.011 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450), @__get_Item_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[LoginProvider], [e].[Name], [e].[Value]
FROM [AspNetUserTokens] AS [e]
WHERE (([e].[UserId] = @__get_Item_0) AND ([e].[LoginProvider] = @__get_Item_1)) AND ([e].[Name] = @__get_Item_2)
2018-05-10 14:14:38.124 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450), @__get_Item_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[LoginProvider], [e].[Name], [e].[Value]
FROM [AspNetUserTokens] AS [e]
WHERE (([e].[UserId] = @__get_Item_0) AND ([e].[LoginProvider] = @__get_Item_1)) AND ([e].[Name] = @__get_Item_2)
2018-05-10 14:14:38.392 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/TwoFactorAuthentication.cshtml.
2018-05-10 14:14:38.424 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.TwoFactorAuthentication (IdentityServer) in 723.76240000000007ms
2018-05-10 14:14:38.434 -07:00 [INF] Request finished in 761.0605ms 200 text/html; charset=utf-8
2018-05-10 14:14:40.656 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:14:40.663 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:40.669 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:40.676 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:14:40.711 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:40.721 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:40.825 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:14:40.842 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:14:40.860 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 181.9633ms
2018-05-10 14:14:40.870 -07:00 [INF] Request finished in 213.2254ms 200 text/html; charset=utf-8
2018-05-10 14:14:41.831 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/ChangePassword  
2018-05-10 14:14:41.839 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:41.845 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:41.852 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:14:41.898 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.ChangePassword (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:41.906 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:42.009 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:14:42.025 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/ChangePassword.cshtml.
2018-05-10 14:14:42.044 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.ChangePassword (IdentityServer) in 187.6454ms
2018-05-10 14:14:42.057 -07:00 [INF] Request finished in 223.3164ms 200 text/html; charset=utf-8
2018-05-10 14:14:43.063 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:14:43.069 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:43.075 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:14:43.081 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:14:43.114 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:14:43.122 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:14:43.219 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:14:43.227 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:14:43.237 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 154.9832ms
2018-05-10 14:14:43.245 -07:00 [INF] Request finished in 183.0625ms 200 text/html; charset=utf-8
2018-05-10 14:15:01.286 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-10 14:15:01.293 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:01.298 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:01.336 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:15:01.345 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:15:01.546 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-10 14:15:01.733 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:15:02.054 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-10 14:15:02.116 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 805.04220000000009ms
2018-05-10 14:15:02.126 -07:00 [INF] Request finished in 838.7201ms 200 text/html; charset=utf-8
2018-05-10 14:15:05.175 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-10 14:15:05.182 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:05.188 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:05.227 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:15:05.238 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:15:05.364 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-10 14:15:05.497 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:15:05.781 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-10 14:15:05.874 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 670.5634ms
2018-05-10 14:15:05.884 -07:00 [INF] Request finished in 709.2438ms 200 text/html; charset=utf-8
2018-05-10 14:15:08.095 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-10 14:15:08.103 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:08.109 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:08.151 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:15:08.165 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:15:08.297 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-10 14:15:08.449 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-10 14:15:08.577 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-10 14:15:08.707 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-10 14:15:08.906 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-10 14:15:09.298 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1172.2577ms
2018-05-10 14:15:09.311 -07:00 [INF] Request finished in 1213.7352ms 200 text/html; charset=utf-8
2018-05-10 14:15:12.999 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:15:13.005 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:13.011 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:13.018 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:15:13.054 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:15:13.066 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:15:13.172 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:15:13.188 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:15:13.210 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 186.7723ms
2018-05-10 14:15:13.225 -07:00 [INF] Request finished in 221.7284ms 200 text/html; charset=utf-8
2018-05-10 14:15:26.716 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/Index application/x-www-form-urlencoded 279
2018-05-10 14:15:26.723 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:26.729 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:26.745 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:15:26.803 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (["IdentityServer.Models.ManageViewModels.IndexViewModel"]) - ModelState is "Valid"
2018-05-10 14:15:26.822 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:15:26.936 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:15:27.090 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-10 14:15:27.370 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@p17='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?', @p7='?', @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FamilyName] = @p4, [GivenName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RegistrationDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;
2018-05-10 14:15:27.453 -07:00 [INF] Executing RedirectResult, redirecting to /Manage/Index.
2018-05-10 14:15:27.545 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 799.9887ms
2018-05-10 14:15:27.555 -07:00 [INF] Request finished in 837.7127ms 302 
2018-05-10 14:15:27.569 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:15:27.580 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:27.590 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:15:27.599 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:15:27.700 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:15:27.713 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:15:27.852 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:15:27.865 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:15:27.881 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 278.646ms
2018-05-10 14:15:27.892 -07:00 [INF] Request finished in 322.8351ms 200 text/html; charset=utf-8
2018-05-10 14:18:37.288 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 14:18:37.537 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 14:18:38.705 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 14:18:38.933 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:18:38.958 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:18:39.349 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:18:42.476 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 14:18:43.281 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4090.0915ms
2018-05-10 14:18:43.297 -07:00 [INF] Request finished in 4596.27ms 200 text/html; charset=utf-8
2018-05-10 14:18:45.126 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:18:45.146 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:18:45.152 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:18:45.180 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:18:45.260 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:18:45.518 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:18:46.726 -07:00 [INF] Executed DbCommand (205ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:18:47.321 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:18:48.294 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3118.6109ms
2018-05-10 14:18:48.305 -07:00 [INF] Request finished in 3177.3797ms 200 text/html; charset=utf-8
2018-05-10 14:18:49.536 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:18:49.543 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:18:49.549 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:18:49.562 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:18:49.609 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:18:49.621 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:18:49.749 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:18:49.938 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 371.8816ms
2018-05-10 14:18:50.091 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Extensions\ApplicationUserExtensions.cs:line 16
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 124
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:18:50.288 -07:00 [INF] Request finished in 752.4545ms 500 text/html; charset=utf-8
2018-05-10 14:19:41.456 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:19:41.469 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:19:41.480 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:19:41.492 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:19:41.539 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:19:41.549 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:19:41.672 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:19:45.678 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 4188.7048ms
2018-05-10 14:19:45.716 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Extensions\ApplicationUserExtensions.cs:line 16
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 124
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:19:45.845 -07:00 [INF] Request finished in 4391.3082ms 500 text/html; charset=utf-8
2018-05-10 14:19:45.945 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:19:45.961 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:19:45.974 -07:00 [INF] Request finished in 30.443ms 200 image/x-icon
2018-05-10 14:19:50.008 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:19:50.023 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:19:50.035 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:19:50.043 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:19:50.088 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:19:50.099 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:19:50.199 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:20:15.359 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:20:15.369 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:15.397 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:15.439 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 25333.695200000002ms
2018-05-10 14:20:15.499 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:20:15.553 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:20:15.565 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:20:15.644 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:20:15.666 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:20:18.610 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 3138.7503ms
2018-05-10 14:20:18.662 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'ApplicationUser'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database, IDiagnosticsLogger`1 logger, Type contextType)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:20:18.693 -07:00 [INF] Request finished in 28689.6445ms 500 text/html; charset=utf-8
2018-05-10 14:20:18.843 -07:00 [INF] Request finished in 3503.9078ms 500 text/html; charset=utf-8
2018-05-10 14:20:18.908 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:20:18.914 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:20:18.923 -07:00 [INF] Request finished in 16.5491ms 200 image/x-icon
2018-05-10 14:20:24.131 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:20:24.138 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:24.144 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:24.150 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:20:24.191 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:20:24.200 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:20:24.300 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:20:27.540 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 3389.7485ms
2018-05-10 14:20:27.583 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'ApplicationUser'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database, IDiagnosticsLogger`1 logger, Type contextType)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:20:27.739 -07:00 [INF] Request finished in 3608.6608ms 500 text/html; charset=utf-8
2018-05-10 14:20:27.845 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:20:27.855 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:20:27.866 -07:00 [INF] Request finished in 23.3792ms 200 image/x-icon
2018-05-10 14:20:34.791 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:20:39.245 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:39.255 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:39.265 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:20:39.299 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:20:39.306 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:20:39.406 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:20:46.943 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:20:47.092 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:20:47.144 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 14:20:47.168 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 14:20:47.180 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 14:20:47.190 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 14:20:47.199 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 14:20:47.338 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-10 14:20:47.455 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 8190.4254ms
2018-05-10 14:20:47.515 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.AggregateException: One or more errors occurred. (The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.) ---> System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
---> (Inner Exception #0) System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()<---

2018-05-10 14:20:47.701 -07:00 [INF] Request finished in 12911.9206ms 500 text/html; charset=utf-8
2018-05-10 14:20:47.789 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:20:47.799 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:20:47.814 -07:00 [INF] Request finished in 24.9619ms 200 image/x-icon
2018-05-10 14:20:49.525 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:20:49.538 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:49.549 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:49.562 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:20:49.630 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:20:49.641 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:20:49.747 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:20:53.224 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:20:53.330 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:20:53.449 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-10 14:20:53.568 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 4005.5008000000003ms
2018-05-10 14:20:53.633 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.AggregateException: One or more errors occurred. (The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.) ---> System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
---> (Inner Exception #0) System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()<---

2018-05-10 14:20:53.820 -07:00 [INF] Request finished in 4300.3093ms 500 text/html; charset=utf-8
2018-05-10 14:20:53.884 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:20:53.893 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:20:53.907 -07:00 [INF] Request finished in 25.1123ms 200 image/x-icon
2018-05-10 14:20:57.083 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:20:57.096 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:57.107 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:20:57.117 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:20:57.159 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:20:57.171 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:20:57.273 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:21:01.034 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:21:01.145 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:21:07.964 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-10 14:21:11.540 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 14422.3673ms
2018-05-10 14:21:11.620 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.AggregateException: One or more errors occurred. (The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.) ---> System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at IdentityServer.Extensions.ApplicationUserExtensions.CreateUserClaimsRequest(ApplicationUser user, ApplicationDbContext _context)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
---> (Inner Exception #0) System.InvalidOperationException: The property 'UserRoles' is not a navigation property of entity type 'IdentityRole'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateAsyncQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileAsyncQuery[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass24_0`1.<CompileAsyncQuery>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddAsyncQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileAsyncQuery[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.System.Collections.Generic.IAsyncEnumerable<TResult>.GetEnumerator()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()<---

2018-05-10 14:21:11.832 -07:00 [INF] Request finished in 14750.9359ms 500 text/html; charset=utf-8
2018-05-10 14:21:11.909 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:21:11.919 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:21:11.928 -07:00 [INF] Request finished in 43.2949ms 200 image/x-icon
2018-05-10 14:21:36.336 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:21:36.349 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:21:36.359 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:21:36.366 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:21:36.410 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:21:36.419 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:21:36.545 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:21:38.169 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:21:38.283 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:21:54.589 -07:00 [INF] Executed DbCommand (291ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-10 14:21:58.676 -07:00 [INF] Executed DbCommand (477ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
2018-05-10 14:21:58.740 -07:00 [WRN] Heartbeat took longer than ""00:00:01"" at ""2018-05-10T21:21:58.6347659+00:00"".
2018-05-10 14:21:59.014 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:21:59.338 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 22967.477300000002ms
2018-05-10 14:21:59.426 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The partial view 'RoleSelectedChecklist' was not found. The following locations were searched:
/Views/Manage/RoleSelectedChecklist.cshtml
/Views/Shared/RoleSelectedChecklist.cshtml
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<RenderPartialCoreAsync>d__60.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.<PartialAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model, ViewDataDictionary viewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperPartialExtensions.Partial(IHtmlHelper htmlHelper, String partialViewName, Object model)
   at AspNetCore._Views_Manage_RequestClaims_cshtml.<<ExecuteAsync>b__13_0>d.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Manage\RequestClaims.cshtml:line 20
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.<GetChildContentAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.<ProcessAsync>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at AspNetCore._Views_Manage_RequestClaims_cshtml.<ExecuteAsync>d__13.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Manage\RequestClaims.cshtml:line 5
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageCoreAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderPageAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.<RenderAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.<ExecuteAsync>d__21.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:21:59.728 -07:00 [INF] Request finished in 23395.1108ms 500 text/html; charset=utf-8
2018-05-10 14:21:59.753 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:21:59.762 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:21:59.772 -07:00 [INF] Request finished in 19.7181ms 200 image/x-icon
2018-05-10 14:25:25.382 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:25:25.399 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:25:25.413 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:25:25.427 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:25:25.507 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:25:25.518 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:25:25.637 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:25:28.199 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:25:28.318 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:25:31.401 -07:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-10 14:25:31.499 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
2018-05-10 14:25:31.509 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:25:32.345 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 6916.6819000000005ms
2018-05-10 14:25:32.357 -07:00 [INF] Request finished in 6977.9451ms 200 text/html; charset=utf-8
2018-05-10 14:25:32.477 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:25:32.489 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:25:32.505 -07:00 [INF] Request finished in 27.6708ms 200 image/x-icon
2018-05-10 14:27:32.252 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:27:32.270 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:27:32.281 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:27:32.290 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:27:32.335 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:27:32.352 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:27:32.516 -07:00 [INF] Executed DbCommand (144ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:27:32.635 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:27:32.768 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:27:32.908 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-10 14:27:32.997 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
2018-05-10 14:27:33.328 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:27:33.383 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1090.2985ms
2018-05-10 14:27:33.395 -07:00 [INF] Request finished in 1146.8376ms 200 text/html; charset=utf-8
2018-05-10 14:27:33.552 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:27:33.567 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:27:33.583 -07:00 [INF] Request finished in 33.9697ms 200 image/x-icon
2018-05-10 14:28:13.525 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:28:13.538 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:28:13.551 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:28:13.562 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:28:13.614 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:28:13.627 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:28:13.744 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:28:13.853 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:28:13.961 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:28:38.489 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 14:28:38.499 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 14:28:38.507 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 14:28:38.516 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 14:28:38.524 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 14:28:38.657 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:28:38.764 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:28:38.783 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:28:38.838 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 25272.638000000003ms
2018-05-10 14:28:38.848 -07:00 [INF] Request finished in 25327.8268ms 200 text/html; charset=utf-8
2018-05-10 14:28:39.003 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:28:39.011 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:28:39.021 -07:00 [INF] Request finished in 18.3862ms 200 image/x-icon
2018-05-10 14:29:33.109 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 14:29:33.121 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:29:33.128 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:29:33.165 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:29:33.285 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 14:29:33.315 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:29:33.453 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IS NULL
2018-05-10 14:29:33.608 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = N'Access Manager')
2018-05-10 14:29:33.754 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 592.2729ms
2018-05-10 14:29:33.794 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:29:33.922 -07:00 [INF] Request finished in 812.5954ms 500 text/html; charset=utf-8
2018-05-10 14:30:17.622 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:30:17.628 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:17.635 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:17.643 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:30:17.685 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:30:17.693 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:30:17.795 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:30:17.932 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:30:18.048 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:30:18.170 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:30:18.284 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:30:18.313 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:30:18.332 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:18.339 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:18.348 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:30:18.403 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:30:18.414 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:30:18.546 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:30:18.561 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:30:18.582 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 229.4155ms
2018-05-10 14:30:18.592 -07:00 [INF] Request finished in 301.4328ms 200 text/html; charset=utf-8
2018-05-10 14:30:18.736 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:30:18.784 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1138.9721ms
2018-05-10 14:30:18.792 -07:00 [INF] Request finished in 1182.5764ms 200 text/html; charset=utf-8
2018-05-10 14:30:19.434 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:30:19.441 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:19.446 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:19.452 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:30:19.485 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:30:19.491 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:30:19.590 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:30:19.698 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:30:19.826 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:30:19.935 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:30:20.044 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:30:20.062 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:30:20.106 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 649.5216ms
2018-05-10 14:30:20.118 -07:00 [INF] Request finished in 681.826ms 200 text/html; charset=utf-8
2018-05-10 14:30:21.469 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 14:30:21.478 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:21.484 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:21.491 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:30:21.533 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 14:30:24.545 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:30:24.642 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IS NULL
2018-05-10 14:30:26.358 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = N'Access Manager')
2018-05-10 14:30:32.140 -07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Email]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 14:30:32.275 -07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Email]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 14:30:32.433 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Email]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 14:30:34.623 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 13130.7973ms
2018-05-10 14:30:34.704 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:30:36.786 -07:00 [INF] Request finished in 15316.939ms 500 text/html; charset=utf-8
2018-05-10 14:30:40.594 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 14:30:40.601 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:40.608 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:30:40.615 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:30:40.668 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 14:30:46.067 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:30:46.182 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IS NULL
2018-05-10 14:30:46.303 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = N'Access Manager')
2018-05-10 14:31:16.742 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:31:16.767 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 36126.0018ms
2018-05-10 14:31:16.808 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:31:16.821 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:31:16.833 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:31:16.885 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:31:16.897 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:31:16.988 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:31:17.005 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:31:17.122 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:31:17.289 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:31:17.296 -07:00 [INF] Request finished in 36675.6742ms 500 text/html; charset=utf-8
2018-05-10 14:31:17.425 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:31:17.540 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:31:17.586 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:31:17.640 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 805.7834ms
2018-05-10 14:31:17.649 -07:00 [INF] Request finished in 907.4759ms 200 text/html; charset=utf-8
2018-05-10 14:31:17.780 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:31:17.793 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:31:17.806 -07:00 [INF] Request finished in 24.483ms 200 image/x-icon
2018-05-10 14:31:20.025 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:31:20.031 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:31:20.040 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:31:20.047 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:31:20.083 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:31:20.092 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:31:20.190 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:31:20.299 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:31:20.424 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:31:20.543 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:31:20.641 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:31:22.472 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:31:22.526 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 2475.7354ms
2018-05-10 14:31:22.533 -07:00 [INF] Request finished in 2508.188ms 200 text/html; charset=utf-8
2018-05-10 14:32:07.550 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:32:07.560 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:07.568 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:07.574 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:32:07.614 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:32:07.624 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:32:07.756 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:32:07.861 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:32:07.965 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:32:08.086 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:32:08.206 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:32:08.479 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:32:08.529 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 950.9656ms
2018-05-10 14:32:08.539 -07:00 [INF] Request finished in 988.2397ms 200 text/html; charset=utf-8
2018-05-10 14:32:08.591 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:32:08.600 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:32:08.621 -07:00 [INF] Request finished in 31.1242ms 200 image/x-icon
2018-05-10 14:32:13.813 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:32:13.826 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:13.834 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:13.842 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:32:13.896 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:32:13.909 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:32:14.013 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:32:14.115 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:32:14.225 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:32:14.333 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:32:14.437 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:32:14.452 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:32:14.498 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 652.22390000000007ms
2018-05-10 14:32:14.508 -07:00 [INF] Request finished in 698.3926ms 200 text/html; charset=utf-8
2018-05-10 14:32:14.553 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:32:14.569 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:32:14.587 -07:00 [INF] Request finished in 35.0081ms 200 image/x-icon
2018-05-10 14:32:18.073 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:32:18.091 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:18.106 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:18.120 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:32:18.191 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:32:18.206 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:32:18.319 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:32:18.442 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:32:18.565 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:32:18.682 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:32:18.784 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:32:18.796 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:32:18.834 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 714.1118ms
2018-05-10 14:32:18.848 -07:00 [INF] Request finished in 802.8026ms 200 text/html; charset=utf-8
2018-05-10 14:32:18.888 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:32:18.899 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:32:18.911 -07:00 [INF] Request finished in 23.4634ms 200 image/x-icon
2018-05-10 14:32:23.376 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:32:23.393 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:23.409 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:32:23.424 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:32:23.499 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:32:23.514 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:32:23.635 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:32:23.760 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:32:23.857 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:32:23.959 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:32:24.053 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:32:24.268 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:32:24.326 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 900.393ms
2018-05-10 14:32:24.339 -07:00 [INF] Request finished in 966.3395ms 200 text/html; charset=utf-8
2018-05-10 14:32:24.421 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:32:24.434 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:32:24.450 -07:00 [INF] Request finished in 33.6275ms 200 image/x-icon
2018-05-10 14:33:23.367 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:33:23.382 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:33:23.394 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:33:23.404 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:33:23.456 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:33:23.469 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:33:23.630 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:33:23.745 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:33:23.862 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:33:23.978 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:33:24.078 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:33:24.431 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:33:24.502 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1094.1367ms
2018-05-10 14:33:24.513 -07:00 [INF] Request finished in 1148.314ms 200 text/html; charset=utf-8
2018-05-10 14:33:24.671 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:33:24.679 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:33:24.688 -07:00 [INF] Request finished in 19.2663ms 200 image/x-icon
2018-05-10 14:33:26.824 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:33:26.832 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:33:26.839 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:33:26.846 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:33:26.892 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:33:26.902 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:33:27.008 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:33:27.125 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:33:27.230 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:33:27.369 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:33:27.485 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:33:27.503 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:33:27.558 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 709.1092ms
2018-05-10 14:33:27.567 -07:00 [INF] Request finished in 742.6992ms 200 text/html; charset=utf-8
2018-05-10 14:33:48.076 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:33:48.092 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:33:48.108 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:33:48.125 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:33:48.194 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:33:48.207 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:33:48.328 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:33:54.245 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:33:54.359 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:34:18.805 -07:00 [INF] Executed DbCommand (344ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:34:19.027 -07:00 [INF] Executed DbCommand (171ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:34:24.252 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:35:18.594 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 90466.4675ms
2018-05-10 14:35:18.604 -07:00 [INF] Request finished in 90533.3553ms 200 text/html; charset=utf-8
2018-05-10 14:35:18.753 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:35:18.764 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:35:18.777 -07:00 [INF] Request finished in 26.5574ms 200 image/x-icon
2018-05-10 14:35:20.631 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:35:20.646 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:35:20.660 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:35:20.674 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:35:20.732 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:35:20.744 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:35:20.854 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:35:23.341 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:35:23.444 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:35:23.563 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:35:23.669 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:35:23.685 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:35:23.743 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 3066.6929ms
2018-05-10 14:35:23.754 -07:00 [INF] Request finished in 3126.5392ms 200 text/html; charset=utf-8
2018-05-10 14:35:23.802 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:35:23.811 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:35:23.821 -07:00 [INF] Request finished in 20.326ms 200 image/x-icon
2018-05-10 14:35:42.703 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:35:42.718 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:35:42.729 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:35:42.740 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:35:42.779 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:35:42.790 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:35:42.909 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:35:43.014 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:35:43.121 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:35:43.234 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:35:43.327 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:35:43.607 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:35:43.676 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 931.5275ms
2018-05-10 14:35:43.691 -07:00 [INF] Request finished in 990.6064ms 200 text/html; charset=utf-8
2018-05-10 14:35:43.747 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:35:43.757 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:35:43.768 -07:00 [INF] Request finished in 23.5398ms 200 image/x-icon
2018-05-10 14:35:45.204 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:35:45.220 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:35:45.235 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:35:45.249 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:35:45.302 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:35:45.317 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:35:45.444 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:35:45.560 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:35:45.671 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:35:45.780 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:35:45.865 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:35:45.876 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:35:45.916 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 665.3585ms
2018-05-10 14:35:45.929 -07:00 [INF] Request finished in 729.143ms 200 text/html; charset=utf-8
2018-05-10 14:35:45.983 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:35:45.992 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:35:46.002 -07:00 [INF] Request finished in 21.4496ms 200 image/x-icon
2018-05-10 14:36:36.322 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:36:36.338 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:36:36.351 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:36:36.365 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:36:36.431 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:36:36.442 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:36:36.560 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:36:36.665 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:36:36.792 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:36:36.919 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:36:37.050 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:36:37.302 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:36:37.355 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 986.93410000000006ms
2018-05-10 14:36:37.367 -07:00 [INF] Request finished in 1045.5341ms 200 text/html; charset=utf-8
2018-05-10 14:36:37.413 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:36:37.428 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:36:37.445 -07:00 [INF] Request finished in 33.3109ms 200 image/x-icon
2018-05-10 14:36:59.636 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:36:59.644 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:36:59.651 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:36:59.659 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:36:59.695 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:36:59.704 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:36:59.814 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:36:59.917 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:37:00.027 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:37:00.138 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:37:00.249 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:37:00.455 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 794.6906ms
2018-05-10 14:37:00.498 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Manage\RequestClaims.cshtml(16,19): error CS7036: There is no argument given that corresponds to the required formal parameter 'htmlAttributes' of 'IHtmlHelper<UserClaimRequestViewModel>.HiddenFor<TResult>(Expression<Func<UserClaimRequestViewModel, TResult>>, object)'
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 14:37:00.617 -07:00 [INF] Request finished in 979.1677ms 500 text/html; charset=utf-8
2018-05-10 14:37:00.740 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:37:00.752 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:37:00.767 -07:00 [INF] Request finished in 30.6217ms 200 image/x-icon
2018-05-10 14:37:09.938 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:37:09.956 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:37:09.968 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:37:09.982 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:37:10.037 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:37:10.049 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:37:10.157 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:37:10.282 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:37:10.388 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:37:10.490 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:37:10.588 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:37:10.906 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:37:10.965 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 984.0007ms
2018-05-10 14:37:10.974 -07:00 [INF] Request finished in 1039.46ms 200 text/html; charset=utf-8
2018-05-10 14:37:11.016 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:37:11.026 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:37:11.040 -07:00 [INF] Request finished in 25.3368ms 200 image/x-icon
2018-05-10 14:37:22.018 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:37:22.041 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:37:22.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:37:22.070 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:37:22.119 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:37:22.128 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:37:22.237 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:37:22.346 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:37:22.480 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:37:22.593 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:37:22.691 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:37:22.907 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:37:22.968 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 894.54270000000008ms
2018-05-10 14:37:22.981 -07:00 [INF] Request finished in 962.7081ms 200 text/html; charset=utf-8
2018-05-10 14:37:23.037 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:37:23.055 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:37:23.071 -07:00 [INF] Request finished in 36.5016ms 200 image/x-icon
2018-05-10 14:38:20.851 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:38:20.859 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:38:20.866 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:38:20.879 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:38:20.951 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:38:20.967 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:38:21.147 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:38:21.300 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:38:21.429 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:38:21.542 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:38:21.641 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:38:21.891 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:38:21.944 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1064.654ms
2018-05-10 14:38:21.955 -07:00 [INF] Request finished in 1103.3992ms 200 text/html; charset=utf-8
2018-05-10 14:38:22.002 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:38:22.014 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:38:22.026 -07:00 [INF] Request finished in 22.9112ms 200 image/x-icon
2018-05-10 14:39:33.595 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:39:33.615 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:39:33.632 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:39:33.648 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:39:33.717 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:39:33.732 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:39:33.849 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:39:33.969 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:39:34.076 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:39:34.183 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:39:34.311 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:39:34.355 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:39:34.405 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 758.56350000000009ms
2018-05-10 14:39:34.417 -07:00 [INF] Request finished in 826.6189ms 200 text/html; charset=utf-8
2018-05-10 14:39:37.174 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:39:37.188 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:39:37.205 -07:00 [INF] Request finished in 35.1404ms 200 image/x-icon
2018-05-10 14:39:39.511 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:39:39.528 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:39:39.538 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:39:39.545 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:39:39.588 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:39:39.601 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:39:39.730 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:39:39.834 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:39:39.959 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:39:40.093 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:39:40.200 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:39:40.217 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:39:40.273 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 725.8707ms
2018-05-10 14:39:40.283 -07:00 [INF] Request finished in 775.4483ms 200 text/html; charset=utf-8
2018-05-10 14:39:40.329 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:39:40.342 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:39:40.357 -07:00 [INF] Request finished in 29.5583ms 200 image/x-icon
2018-05-10 14:40:25.353 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:40:25.367 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:40:25.380 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:40:25.392 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:40:25.455 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:40:25.468 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:40:25.577 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:40:25.701 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:40:25.863 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:40:26.010 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:40:26.140 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:40:26.456 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:40:26.501 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1110.2063ms
2018-05-10 14:40:26.509 -07:00 [INF] Request finished in 1159.2656ms 200 text/html; charset=utf-8
2018-05-10 14:40:26.559 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:40:26.568 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:40:26.580 -07:00 [INF] Request finished in 23.2038ms 200 image/x-icon
2018-05-10 14:41:16.648 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 14:41:16.983 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 14:41:18.440 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 14:41:18.693 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:18.720 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:19.112 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:41:22.150 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 14:41:22.857 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3876.1871ms
2018-05-10 14:41:22.872 -07:00 [INF] Request finished in 4439.6774ms 200 text/html; charset=utf-8
2018-05-10 14:41:26.616 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:41:26.638 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:26.645 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:26.677 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:41:26.743 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:41:27.002 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:41:28.157 -07:00 [INF] Executed DbCommand (178ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:41:28.749 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:41:29.750 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3082.1852000000003ms
2018-05-10 14:41:29.761 -07:00 [INF] Request finished in 3144.1662ms 200 text/html; charset=utf-8
2018-05-10 14:41:31.052 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/ChangePassword  
2018-05-10 14:41:31.059 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:31.065 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:31.084 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:41:31.126 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.ChangePassword (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:41:31.137 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:41:31.267 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:41:31.552 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/ChangePassword.cshtml.
2018-05-10 14:41:31.601 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.ChangePassword (IdentityServer) in 517.1244ms
2018-05-10 14:41:31.611 -07:00 [INF] Request finished in 558.724ms 200 text/html; charset=utf-8
2018-05-10 14:41:32.308 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:41:32.315 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:32.320 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:32.326 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:41:32.360 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:41:32.370 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:41:32.482 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:41:32.494 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:41:32.516 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 185.79510000000002ms
2018-05-10 14:41:32.522 -07:00 [INF] Request finished in 215.0685ms 200 text/html; charset=utf-8
2018-05-10 14:41:33.134 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:41:33.142 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:33.147 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:33.161 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:41:33.196 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:41:33.205 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:41:33.310 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:41:33.520 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:41:33.631 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:41:33.666 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 14:41:33.689 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 14:41:33.700 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 14:41:33.710 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 14:41:33.718 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 14:41:33.868 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:41:33.960 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:41:34.159 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:41:34.719 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1555.4734ms
2018-05-10 14:41:34.729 -07:00 [INF] Request finished in 1595.0871ms 200 text/html; charset=utf-8
2018-05-10 14:41:36.992 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 14:41:37.005 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:37.010 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:41:37.047 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:41:37.167 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 14:41:37.189 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:41:37.322 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 14:41:37.447 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = N'Access Manager')
2018-05-10 14:42:00.740 -07:00 [INF] Executing RedirectResult, redirecting to /Manage/Index.
2018-05-10 14:42:00.826 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 23779.5636ms
2018-05-10 14:42:00.838 -07:00 [INF] Request finished in 23846.8305ms 302 
2018-05-10 14:42:00.849 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 14:42:00.857 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:42:00.863 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:42:00.869 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:42:00.915 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:42:00.923 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:42:01.055 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:42:01.066 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 14:42:01.079 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 208.50140000000002ms
2018-05-10 14:42:01.085 -07:00 [INF] Request finished in 236.1643ms 200 text/html; charset=utf-8
2018-05-10 14:43:37.253 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:43:37.260 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:37.266 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:37.272 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:43:37.305 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:43:37.311 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:43:37.413 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:43:37.539 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:43:37.641 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:43:37.790 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:43:37.923 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:43:38.171 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:43:38.270 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 994.48700000000008ms
2018-05-10 14:43:38.279 -07:00 [INF] Request finished in 1025.8334ms 200 text/html; charset=utf-8
2018-05-10 14:43:41.469 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/TwoFactorAuthentication  
2018-05-10 14:43:41.475 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:41.481 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:41.493 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:43:41.527 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.TwoFactorAuthentication (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:43:41.537 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:43:41.646 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:43:41.786 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450), @__get_Item_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[LoginProvider], [e].[Name], [e].[Value]
FROM [AspNetUserTokens] AS [e]
WHERE (([e].[UserId] = @__get_Item_0) AND ([e].[LoginProvider] = @__get_Item_1)) AND ([e].[Name] = @__get_Item_2)
2018-05-10 14:43:41.896 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__get_Item_0='?' (Size = 450), @__get_Item_1='?' (Size = 450), @__get_Item_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[LoginProvider], [e].[Name], [e].[Value]
FROM [AspNetUserTokens] AS [e]
WHERE (([e].[UserId] = @__get_Item_0) AND ([e].[LoginProvider] = @__get_Item_1)) AND ([e].[Name] = @__get_Item_2)
2018-05-10 14:43:42.169 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/TwoFactorAuthentication.cshtml.
2018-05-10 14:43:42.206 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.TwoFactorAuthentication (IdentityServer) in 709.5933ms
2018-05-10 14:43:42.220 -07:00 [INF] Request finished in 748.2372ms 200 text/html; charset=utf-8
2018-05-10 14:43:43.420 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:43:43.426 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:43.431 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:43.436 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:43:43.467 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:43:43.473 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:43:43.598 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:43:43.717 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:43:43.817 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:43:43.948 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:43:44.047 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:43:44.057 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:43:44.111 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 671.275ms
2018-05-10 14:43:44.119 -07:00 [INF] Request finished in 698.8014ms 200 text/html; charset=utf-8
2018-05-10 14:43:53.204 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:43:53.210 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:53.215 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:43:53.221 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:43:53.253 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:43:53.260 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:43:53.359 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:43:53.457 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:43:53.552 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:43:53.653 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:43:53.739 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:43:53.973 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:43:54.028 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 805.9631ms
2018-05-10 14:43:54.036 -07:00 [INF] Request finished in 832.7809ms 200 text/html; charset=utf-8
2018-05-10 14:44:03.583 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:44:03.595 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:44:03.606 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:44:03.618 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:44:03.678 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:44:03.689 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:44:03.800 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:44:03.921 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:44:04.038 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:44:04.143 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:44:04.252 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:44:04.458 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:44:04.523 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 905.13920000000007ms
2018-05-10 14:44:04.533 -07:00 [INF] Request finished in 953.3484ms 200 text/html; charset=utf-8
2018-05-10 14:44:04.665 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 14:44:04.684 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 14:44:04.700 -07:00 [INF] Request finished in 37.7223ms 200 image/x-icon
2018-05-10 14:44:22.427 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:44:22.447 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:44:22.588 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:44:22.628 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-05-10 14:44:22.639 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-10 14:44:22.648 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-05-10 14:44:22.658 -07:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2018-05-10 14:44:22.666 -07:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2018-05-10 14:44:22.674 -07:00 [INF] Authorization failed for user: null.
2018-05-10 14:44:22.683 -07:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-05-10 14:44:22.693 -07:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-05-10 14:44:22.707 -07:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-05-10 14:44:22.716 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 41.1484ms
2018-05-10 14:44:22.725 -07:00 [INF] Request finished in 299.5539ms 302 
2018-05-10 14:44:22.740 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2FManage%2FRequestClaims  
2018-05-10 14:44:22.835 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["/Manage/RequestClaims"]) - ModelState is "Valid"
2018-05-10 14:44:22.853 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-10 14:44:23.217 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-10 14:44:23.278 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 517.42950000000008ms
2018-05-10 14:44:23.285 -07:00 [INF] Request finished in 546.6739ms 200 text/html; charset=utf-8
2018-05-10 14:44:24.651 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2FManage%2FRequestClaims application/x-www-form-urlencoded 248
2018-05-10 14:44:24.694 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel","/Manage/RequestClaims"]) - ModelState is "Valid"
2018-05-10 14:44:24.703 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:44:24.833 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-10 14:44:25.090 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-10 14:44:25.259 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-10 14:44:25.400 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:44:25.520 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:44:25.636 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:44:25.739 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:44:25.857 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:44:25.971 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:44:26.075 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 14:44:26.195 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 14:44:26.275 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-10 14:44:26.281 -07:00 [INF] User logged in.
2018-05-10 14:44:26.289 -07:00 [INF] Executing RedirectResult, redirecting to /Manage/RequestClaims.
2018-05-10 14:44:26.297 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1632.7993000000001ms
2018-05-10 14:44:26.304 -07:00 [INF] Request finished in 1653.2767ms 302 
2018-05-10 14:44:26.316 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 14:44:26.324 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:44:26.331 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 14:44:26.338 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 14:44:26.416 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 14:44:26.428 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 14:44:26.570 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 14:44:26.675 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 14:44:26.787 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 14:44:26.891 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 14:44:26.992 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 14:44:27.193 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 14:44:27.255 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 914.3514ms
2018-05-10 14:44:27.266 -07:00 [INF] Request finished in 949.8029ms 200 text/html; charset=utf-8
2018-05-10 16:38:35.352 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 16:38:35.575 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 16:38:36.622 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 16:38:37.106 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:38:38.182 -07:00 [INF] Executed DbCommand (166ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:38:38.428 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-10 16:38:38.560 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-10 16:38:38.691 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 16:38:38.818 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 16:38:38.938 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 16:38:39.035 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 16:38:39.145 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 16:38:39.247 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 16:38:39.367 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 16:38:39.486 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 16:38:39.520 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:38:39.565 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:38:39.920 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:38:42.729 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 16:38:43.413 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3603.5789ms
2018-05-10 16:38:43.426 -07:00 [INF] Request finished in 6811.4211ms 200 text/html; charset=utf-8
2018-05-10 16:41:30.621 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 16:41:30.891 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 16:41:32.375 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 16:41:32.591 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:32.614 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:32.955 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:41:36.004 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 16:41:36.712 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3889.3964ms
2018-05-10 16:41:36.727 -07:00 [INF] Request finished in 4356.5485ms 200 text/html; charset=utf-8
2018-05-10 16:41:39.095 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 16:41:39.103 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:39.109 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:39.139 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:41:39.221 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:41:39.502 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:41:40.643 -07:00 [INF] Executed DbCommand (192ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:41:41.244 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 16:41:42.168 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3036.9117ms
2018-05-10 16:41:42.175 -07:00 [INF] Request finished in 3080.7845ms 200 text/html; charset=utf-8
2018-05-10 16:41:44.233 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 16:41:44.239 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:44.243 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:44.255 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:41:44.285 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:41:44.292 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:41:44.414 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:41:44.656 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:41:44.791 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:41:44.849 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 16:41:44.877 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:41:44.891 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:41:44.901 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:41:44.910 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:41:45.052 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:41:45.170 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:41:45.399 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 16:41:45.996 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1738.4286000000002ms
2018-05-10 16:41:46.007 -07:00 [INF] Request finished in 1771.5154ms 200 text/html; charset=utf-8
2018-05-10 16:41:51.165 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 921
2018-05-10 16:41:51.178 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:51.184 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:51.218 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:41:51.336 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 16:41:51.353 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:41:51.471 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 16:41:51.632 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:41:51.798 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:41:51.914 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:41:52.031 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:41:52.158 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:41:52.265 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:41:52.416 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:41:52.530 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:41:52.743 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1524.0414ms
2018-05-10 16:41:52.843 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: The property 'User,Organization' is not a navigation property of entity type 'OrganizationAssignment'. The 'Include(string)' method can only be used with a '.' separated list of navigation property names.
   at Microsoft.EntityFrameworkCore.Query.ResultOperators.Internal.IncludeResultOperator.GetNavigationPath(QueryCompilationContext queryCompilationContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CreateIncludeLoadTrees(QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.CompileIncludes(QueryModel queryModel, Boolean trackingQuery, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.OptimizeQueryModel(QueryModel queryModel, Boolean asyncQuery)
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateQueryExecutor[TResult](QueryModel queryModel)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](QueryModel queryModel)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database, IDiagnosticsLogger`1 logger, Type contextType)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Remotion.Linq.QueryableBase`1.GetEnumerator()
   at IdentityServer.Extensions.ApplicationDBContextExtensions.GetOrganizationAdminMap(ApplicationDbContext context, List`1 OrgIds) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Extensions\ApplicationDBContextExtensions.cs:line 44
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 146
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 16:41:53.059 -07:00 [INF] Request finished in 1895.141ms 500 text/html; charset=utf-8
2018-05-10 16:41:57.393 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 16:41:57.408 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:57.418 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:41:57.428 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:41:57.481 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:41:57.494 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:41:57.604 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:41:57.618 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 16:41:57.643 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 210.4642ms
2018-05-10 16:41:57.654 -07:00 [INF] Request finished in 263.1579ms 200 text/html; charset=utf-8
2018-05-10 16:45:45.310 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 16:45:45.538 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 16:45:46.558 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 16:45:46.819 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:45:46.848 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:45:47.235 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:45:50.175 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 16:45:50.910 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3809.2368ms
2018-05-10 16:45:50.927 -07:00 [INF] Request finished in 4372.3542ms 200 text/html; charset=utf-8
2018-05-10 16:46:03.766 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 16:46:03.774 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:03.780 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:03.811 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:46:03.875 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:46:04.132 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:46:05.330 -07:00 [INF] Executed DbCommand (211ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:46:05.979 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 16:46:06.863 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3057.5899ms
2018-05-10 16:46:06.874 -07:00 [INF] Request finished in 3108.5601ms 200 text/html; charset=utf-8
2018-05-10 16:46:08.452 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 16:46:08.459 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:08.464 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:08.477 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:46:08.510 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:46:08.518 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:46:08.638 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:46:08.855 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:46:08.997 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:46:09.041 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 16:46:09.064 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:46:09.073 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:46:09.080 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:46:09.087 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:46:09.241 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:46:09.350 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:46:09.592 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 16:46:10.172 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1693.8479ms
2018-05-10 16:46:10.187 -07:00 [INF] Request finished in 1732.0175ms 200 text/html; charset=utf-8
2018-05-10 16:46:12.518 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 16:46:12.530 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:12.536 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:12.568 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:46:12.664 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 16:46:12.678 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:46:12.785 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 16:46:12.921 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:46:13.058 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:46:13.155 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:46:13.260 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:46:13.366 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:46:13.446 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:46:13.559 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:46:13.670 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:46:13.687 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 16:46:13.696 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 16:46:13.710 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.717 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.724 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.730 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.736 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.743 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.861 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 16:46:13.926 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 16:46:13.937 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 16:46:13.950 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.959 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.967 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.975 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.983 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 16:46:13.992 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-10 16:46:14.098 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 16:46:14.193 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 16:46:14.306 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1738.7423000000001ms
2018-05-10 16:46:14.379 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.ThrowHelper.ThrowKeyNotFoundException()
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 167
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 16:46:14.537 -07:00 [INF] Request finished in 2018.2658ms 500 text/html; charset=utf-8
2018-05-10 16:46:39.658 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 16:46:39.664 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:39.669 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:39.674 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:46:39.705 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:46:39.711 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:46:39.819 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:46:39.919 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:46:40.033 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:46:40.157 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:46:40.269 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:46:40.285 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 16:46:40.351 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 674.1136ms
2018-05-10 16:46:40.357 -07:00 [INF] Request finished in 699.4046ms 200 text/html; charset=utf-8
2018-05-10 16:46:41.512 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 16:46:41.517 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:41.522 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:46:41.527 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:46:41.563 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 16:46:43.702 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:46:43.790 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 16:46:48.014 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:46:48.115 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:46:49.040 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:46:49.144 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:46:49.260 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:46:49.364 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:46:58.592 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:46:58.711 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:46:58.809 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 16:46:58.920 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 16:46:59.016 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 16:47:18.945 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 37415.4286ms
2018-05-10 16:47:19.016 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.ThrowHelper.ThrowKeyNotFoundException()
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 167
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 16:47:20.897 -07:00 [INF] Request finished in 39384.7272ms 500 text/html; charset=utf-8
2018-05-10 16:47:41.193 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 943
2018-05-10 16:47:41.198 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:47:41.203 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:47:41.208 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:47:41.248 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Invalid"
2018-05-10 16:47:43.558 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:47:43.669 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 16:47:43.759 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:47:43.865 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:47:43.972 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:47:44.081 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:47:44.195 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:47:44.313 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:47:44.429 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 16:47:44.542 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 16:47:44.635 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 16:47:44.732 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 16:47:44.842 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 16:49:15.298 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 94086.4782ms
2018-05-10 16:49:15.340 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.ThrowHelper.ThrowKeyNotFoundException()
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 167
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 16:49:15.467 -07:00 [INF] Request finished in 94274.3478ms 500 text/html; charset=utf-8
2018-05-10 16:49:15.539 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-10 16:49:15.550 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-10 16:49:15.569 -07:00 [INF] Request finished in 29.2667ms 200 image/x-icon
2018-05-10 16:49:23.008 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 16:49:23.014 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:49:23.019 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:49:23.025 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:49:23.054 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:49:23.061 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:49:23.160 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:49:23.280 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:49:23.373 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:49:23.475 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:49:23.574 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:49:23.592 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 16:49:23.650 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 621.60710000000006ms
2018-05-10 16:49:23.659 -07:00 [INF] Request finished in 651.2336ms 200 text/html; charset=utf-8
2018-05-10 16:49:26.169 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 16:49:26.175 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:49:26.183 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 16:49:26.190 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 16:49:26.224 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 16:49:26.231 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 16:49:26.327 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 16:49:26.433 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 16:49:26.533 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 16:49:26.656 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 16:49:26.754 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 16:49:26.765 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 16:49:26.826 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 634.8523ms
2018-05-10 16:49:26.834 -07:00 [INF] Request finished in 664.5532ms 200 text/html; charset=utf-8
2018-05-10 17:16:55.241 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 17:16:55.451 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 17:16:56.252 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 17:16:56.788 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:16:57.957 -07:00 [INF] Executed DbCommand (192ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:16:58.239 -07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-10 17:16:58.402 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-10 17:16:58.508 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 17:16:58.679 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 17:16:58.800 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 17:16:58.924 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 17:16:59.014 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 17:16:59.109 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 17:16:59.199 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-10 17:16:59.298 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-10 17:16:59.329 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:16:59.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:16:59.746 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:17:02.736 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 17:17:03.509 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3906.2124000000003ms
2018-05-10 17:17:03.531 -07:00 [INF] Request finished in 7284.9364ms 200 text/html; charset=utf-8
2018-05-10 17:17:10.824 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 17:17:10.833 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:10.840 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:10.869 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:17:10.988 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:17:11.005 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:17:11.126 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:17:11.660 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 17:17:12.645 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1780.672ms
2018-05-10 17:17:12.661 -07:00 [INF] Request finished in 1842.1541ms 200 text/html; charset=utf-8
2018-05-10 17:17:13.885 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 17:17:13.892 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:13.898 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:13.913 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:17:13.959 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:17:13.971 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:17:14.080 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:17:14.300 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:17:14.441 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:17:14.493 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:17:14.525 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:17:14.538 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:17:14.549 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:17:14.561 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:17:14.727 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:17:14.819 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:17:15.040 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 17:17:15.680 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1765.0885ms
2018-05-10 17:17:15.692 -07:00 [INF] Request finished in 1805.4424ms 200 text/html; charset=utf-8
2018-05-10 17:17:17.747 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 949
2018-05-10 17:17:17.770 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:17.776 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:17.812 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:17:17.948 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-10 17:17:17.965 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:17:18.098 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 17:17:18.257 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:17:18.398 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:17:18.494 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:17:18.589 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:17:18.723 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:17:18.830 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:17:18.968 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:17:19.078 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:17:19.105 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:17:19.116 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:17:19.144 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.157 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.170 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.181 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.193 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.206 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.373 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 17:17:19.459 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:17:19.472 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:17:19.500 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.514 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.527 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.540 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.552 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.566 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-10 17:17:19.719 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:17:19.840 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:17:19.990 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 2179.6519000000003ms
2018-05-10 17:17:20.080 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.ThrowHelper.ThrowKeyNotFoundException()
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 169
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 17:17:20.230 -07:00 [INF] Request finished in 2484.6405ms 500 text/html; charset=utf-8
2018-05-10 17:17:35.129 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 17:17:35.135 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:35.141 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:35.146 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:17:35.176 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:17:35.184 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:17:35.287 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:17:35.412 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:17:35.536 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:17:35.755 -07:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:17:35.866 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:17:35.883 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 17:17:35.944 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 792.532ms
2018-05-10 17:17:35.957 -07:00 [INF] Request finished in 825.2054ms 200 text/html; charset=utf-8
2018-05-10 17:17:37.534 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 949
2018-05-10 17:17:37.540 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:37.545 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:17:37.550 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:17:37.586 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-10 17:17:37.595 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:17:37.688 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 17:17:37.800 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:17:37.903 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:17:38.027 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:17:38.123 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:17:38.223 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:17:38.329 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:17:38.458 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:17:38.582 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:17:38.700 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 17:17:38.804 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:17:38.916 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:18:03.387 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 17:18:03.392 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:18:03.396 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:18:03.401 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:18:03.450 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:18:03.475 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 25879.0063ms
2018-05-10 17:18:03.503 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:18:03.605 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.ThrowHelper.ThrowKeyNotFoundException()
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 169
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 17:18:03.607 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:18:03.710 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:18:03.799 -07:00 [INF] Request finished in 26266.3286ms 500 text/html; charset=utf-8
2018-05-10 17:18:03.851 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:18:03.980 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:18:04.069 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:18:04.078 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 17:18:04.136 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 733.9747ms
2018-05-10 17:18:04.141 -07:00 [INF] Request finished in 754.2505ms 200 text/html; charset=utf-8
2018-05-10 17:18:45.641 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 17:18:45.659 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:18:45.665 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:18:45.671 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:18:45.720 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:18:45.729 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:18:45.854 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:18:45.991 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:18:46.114 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:18:46.241 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:18:46.338 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:18:46.349 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 17:18:46.399 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 726.48250000000007ms
2018-05-10 17:18:46.405 -07:00 [INF] Request finished in 775.2482ms 200 text/html; charset=utf-8
2018-05-10 17:18:47.936 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 949
2018-05-10 17:18:47.942 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:18:47.948 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:18:47.954 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:18:48.005 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.RoleSelectedViewModel]","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-10 17:18:48.012 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:18:48.106 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 17:18:48.234 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:18:48.358 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:18:48.465 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:18:48.582 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:18:48.681 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:18:48.777 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:18:48.901 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:18:49.027 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:18:49.145 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 17:18:49.261 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:18:49.364 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:43:10.966 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 17:43:11.338 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 17:43:12.443 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 17:43:12.704 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:43:12.743 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:43:13.096 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:43:16.055 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 17:43:16.803 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3821.6276000000003ms
2018-05-10 17:43:16.816 -07:00 [INF] Request finished in 4377.0661ms 200 text/html; charset=utf-8
2018-05-10 17:43:25.004 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 17:43:25.093 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:43:25.104 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:43:25.144 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:43:25.210 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:43:25.459 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:43:26.682 -07:00 [INF] Executed DbCommand (218ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:43:27.225 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 17:43:28.298 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3164.0022000000004ms
2018-05-10 17:43:28.307 -07:00 [INF] Request finished in 3303.0034ms 200 text/html; charset=utf-8
2018-05-10 17:43:40.852 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 17:43:40.859 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:43:40.865 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:43:40.879 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:43:40.914 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:43:40.925 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:43:41.056 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:43:41.308 -07:00 [INF] Executed DbCommand (148ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:43:41.445 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:43:41.495 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:43:41.518 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:43:41.529 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:43:41.536 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:43:41.544 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:43:41.702 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id] AS [OrgId]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:43:41.792 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:43:42.081 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1200.2607ms
2018-05-10 17:43:42.180 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Manage\RequestClaims.cshtml(38,82): error CS1061: 'OrganizationSelectedViewModel' does not contain a definition for 'Id' and no extension method 'Id' accepting a first argument of type 'OrganizationSelectedViewModel' could be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-10 17:43:42.312 -07:00 [INF] Request finished in 1459.5683ms 500 text/html; charset=utf-8
2018-05-10 17:46:38.615 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-10 17:46:38.873 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-10 17:46:39.871 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-10 17:46:40.109 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:40.136 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:40.556 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:46:43.543 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-10 17:46:44.273 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3840.5717ms
2018-05-10 17:46:44.290 -07:00 [INF] Request finished in 4428.1926ms 200 text/html; charset=utf-8
2018-05-10 17:46:49.084 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-10 17:46:49.092 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:49.109 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:49.138 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:46:49.204 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:46:49.455 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:46:50.619 -07:00 [INF] Executed DbCommand (171ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:46:51.162 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-10 17:46:52.045 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 2912.4692ms
2018-05-10 17:46:52.056 -07:00 [INF] Request finished in 2971.6211ms 200 text/html; charset=utf-8
2018-05-10 17:46:53.109 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-10 17:46:53.116 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:53.122 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:53.136 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:46:53.187 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-10 17:46:53.198 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:46:53.333 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-10 17:46:53.573 -07:00 [INF] Executed DbCommand (141ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:46:53.693 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:46:53.729 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:46:53.754 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:46:53.771 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:46:53.783 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:46:53.794 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:46:53.957 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:46:54.071 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:46:54.466 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-10 17:46:54.555 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1417.0238000000002ms
2018-05-10 17:46:54.566 -07:00 [INF] Request finished in 1456.6409ms 200 text/html; charset=utf-8
2018-05-10 17:46:58.920 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-10 17:46:58.933 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:58.941 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-10 17:46:58.975 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-10 17:46:59.109 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-10 17:46:59.139 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-10 17:46:59.287 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-10 17:46:59.425 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:46:59.568 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:46:59.692 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-10 17:46:59.812 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-10 17:46:59.941 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-10 17:47:00.050 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-10 17:47:00.195 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-10 17:47:00.300 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-10 17:47:00.320 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:47:00.333 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:47:00.352 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.365 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.377 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.388 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.399 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.412 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.550 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-10 17:47:00.608 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:47:00.620 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-10 17:47:00.639 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.650 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.658 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.669 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.676 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.684 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-10 17:47:00.809 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-10 17:47:00.935 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 12:52:01.012 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-11 12:52:01.272 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-11 12:52:02.797 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-11 12:52:03.522 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 12:52:07.177 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-11 12:52:08.160 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4814.4789ms
2018-05-11 12:52:08.178 -07:00 [INF] Request finished in 5383.4874ms 200 text/html; charset=utf-8
2018-05-11 13:05:53.320 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-11 13:05:53.751 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-11 13:05:53.794 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-11 13:05:54.582 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-11 13:05:54.993 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1352.4567ms
2018-05-11 13:05:55.005 -07:00 [INF] Request finished in 1683.5228ms 200 text/html; charset=utf-8
2018-05-11 13:05:56.492 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-11 13:05:56.596 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-11 13:05:56.918 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:05:58.445 -07:00 [INF] Executed DbCommand (282ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-11 13:05:58.786 -07:00 [INF] Executed DbCommand (165ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-11 13:05:58.950 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-11 13:05:59.065 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:05:59.239 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:05:59.369 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:05:59.510 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:05:59.639 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:05:59.766 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:05:59.866 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:05:59.973 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:06:00.039 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-11 13:06:00.048 -07:00 [INF] User logged in.
2018-05-11 13:06:00.057 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-11 13:06:00.066 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3553.7218000000003ms
2018-05-11 13:06:00.076 -07:00 [INF] Request finished in 3584.1413ms 302 
2018-05-11 13:06:00.089 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-11 13:06:00.102 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:00.110 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:00.211 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:06:00.223 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-11 13:06:00.259 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 136.889ms
2018-05-11 13:06:00.271 -07:00 [INF] Request finished in 180.476ms 200 text/html; charset=utf-8
2018-05-11 13:06:02.307 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-11 13:06:02.312 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:02.317 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:02.333 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:06:02.364 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:06:02.372 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:06:02.487 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:06:02.732 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-11 13:06:03.313 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 981.38370000000009ms
2018-05-11 13:06:03.324 -07:00 [INF] Request finished in 1015.3929ms 200 text/html; charset=utf-8
2018-05-11 13:06:04.499 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-11 13:06:04.505 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:04.510 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:04.526 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:06:04.583 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:06:04.593 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:06:04.693 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:06:04.891 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:06:04.998 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:06:05.026 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:06:05.039 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:06:05.044 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:06:05.049 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:06:05.053 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:06:05.174 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:06:05.273 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:06:05.602 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-11 13:06:05.705 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1176.2364ms
2018-05-11 13:06:05.713 -07:00 [INF] Request finished in 1214.0307ms 200 text/html; charset=utf-8
2018-05-11 13:06:18.375 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-11 13:06:18.381 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:18.386 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:18.404 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:06:18.491 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-11 13:06:18.517 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:06:18.670 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-11 13:06:18.832 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:06:18.984 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:06:19.114 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:06:19.241 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:06:19.371 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:06:19.457 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:06:19.599 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:06:19.724 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:06:19.753 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:06:19.767 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:06:19.795 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:06:19.809 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:06:19.822 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-11 13:06:19.835 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:06:19.846 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:06:19.860 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.013 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-11 13:06:20.100 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:06:20.113 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:06:20.140 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.154 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.166 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.177 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.189 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.201 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-11 13:06:20.354 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:06:20.478 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:06:20.794 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 2388.8161ms
2018-05-11 13:06:20.921 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentException: The parameter 'address' cannot be an empty string.
Parameter name: address
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String[] emailAddresses, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 70
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 185
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-11 13:06:21.119 -07:00 [INF] Request finished in 2745.3663ms 500 text/html; charset=utf-8
2018-05-11 13:06:35.250 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-11 13:06:35.256 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:35.261 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:35.266 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:06:35.300 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:06:35.309 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:06:35.423 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:06:35.545 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:06:35.666 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:06:35.767 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:06:35.866 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:06:35.876 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-11 13:06:35.928 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 659.29050000000007ms
2018-05-11 13:06:35.937 -07:00 [INF] Request finished in 686.2465ms 200 text/html; charset=utf-8
2018-05-11 13:06:37.734 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-11 13:06:37.739 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:37.743 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:06:37.747 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:06:37.777 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-11 13:06:37.782 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:06:37.878 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-11 13:06:37.967 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:06:38.058 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:06:38.175 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:06:38.295 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:06:38.418 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:06:38.524 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:06:38.648 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:06:38.773 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:06:38.899 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-11 13:06:39.011 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:06:39.128 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:06:55.763 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 18015.6005ms
2018-05-11 13:06:55.801 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentException: The parameter 'address' cannot be an empty string.
Parameter name: address
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String[] emailAddresses, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 70
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 185
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-11 13:06:55.920 -07:00 [INF] Request finished in 18187.2439ms 500 text/html; charset=utf-8
2018-05-11 13:07:36.928 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-11 13:07:36.933 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:07:36.937 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:07:36.941 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:07:36.970 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:07:36.977 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:07:37.097 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:07:37.215 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:07:37.334 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:07:37.477 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:07:37.609 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:07:37.650 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-11 13:07:37.712 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 767.2111ms
2018-05-11 13:07:37.721 -07:00 [INF] Request finished in 791.8949ms 200 text/html; charset=utf-8
2018-05-11 13:07:38.934 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-11 13:07:38.940 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:07:38.945 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:07:38.949 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:07:38.981 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-11 13:07:38.987 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:07:39.091 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-11 13:07:39.189 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:07:39.312 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:07:39.431 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:07:39.552 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:07:39.681 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:07:39.785 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:07:39.913 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:07:40.030 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:07:40.153 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-11 13:07:40.280 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:07:40.405 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:07:58.973 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 20020.577ms
2018-05-11 13:07:59.068 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentException: The parameter 'address' cannot be an empty string.
Parameter name: address
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String[] emailAddresses, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 70
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 185
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-11 13:08:02.314 -07:00 [INF] Request finished in 23378.322ms 500 text/html; charset=utf-8
2018-05-11 13:45:06.143 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-11 13:45:06.569 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-11 13:45:07.748 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-11 13:45:08.217 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:45:09.347 -07:00 [INF] Executed DbCommand (218ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:45:09.891 -07:00 [INF] Executed DbCommand (426ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-11 13:45:10.020 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-11 13:45:10.157 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:45:10.311 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:45:10.424 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:45:10.537 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:45:10.628 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:45:10.731 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:45:10.844 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-11 13:45:10.956 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-11 13:45:10.988 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:11.019 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:11.511 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:45:14.463 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-11 13:45:15.260 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3899.1895000000004ms
2018-05-11 13:45:15.279 -07:00 [INF] Request finished in 7543.1138ms 200 text/html; charset=utf-8
2018-05-11 13:45:49.005 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-11 13:45:49.139 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:49.155 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:49.216 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:45:49.354 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:45:49.373 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:45:49.502 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:45:50.075 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-11 13:45:51.048 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1838.1816000000001ms
2018-05-11 13:45:51.061 -07:00 [INF] Request finished in 2053.019ms 200 text/html; charset=utf-8
2018-05-11 13:45:52.354 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-11 13:45:52.360 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:52.366 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:52.379 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:45:52.429 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:45:52.444 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:45:52.558 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:45:52.780 -07:00 [INF] Executed DbCommand (139ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:45:52.918 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:45:52.971 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:45:53.008 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:45:53.024 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:45:53.037 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:45:53.049 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:45:53.221 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:45:53.345 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:45:53.715 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-11 13:45:53.808 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1424.8075000000001ms
2018-05-11 13:45:53.822 -07:00 [INF] Request finished in 1464.8407ms 200 text/html; charset=utf-8
2018-05-11 13:45:56.347 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-11 13:45:56.354 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:56.359 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:45:56.365 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:45:56.417 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:45:56.431 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:45:56.568 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:45:56.583 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-11 13:45:56.598 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 229.68460000000002ms
2018-05-11 13:45:56.610 -07:00 [INF] Request finished in 260.1469ms 200 text/html; charset=utf-8
2018-05-11 13:46:23.849 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-11 13:46:23.855 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:46:23.860 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:46:23.865 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:46:23.896 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-11 13:46:23.902 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:46:24.036 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-11 13:46:24.165 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:46:24.297 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:46:24.450 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:46:24.583 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:46:24.599 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-11 13:46:24.660 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 789.2498ms
2018-05-11 13:46:24.671 -07:00 [INF] Request finished in 820.0429ms 200 text/html; charset=utf-8
2018-05-11 13:46:26.919 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-11 13:46:26.929 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:46:26.933 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-11 13:46:26.963 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-11 13:46:27.055 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-11 13:46:27.065 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-11 13:46:27.204 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-11 13:46:27.349 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:46:27.504 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:46:27.610 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-11 13:46:27.734 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-11 13:46:27.861 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-11 13:46:27.972 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-11 13:46:28.088 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-11 13:46:28.186 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-11 13:46:28.210 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:46:28.222 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:46:28.248 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.260 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.271 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.281 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.292 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.304 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.459 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-11 13:46:28.536 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:46:28.545 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-11 13:46:28.558 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.567 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.575 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.584 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.593 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.605 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-11 13:46:28.752 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-11 13:46:28.881 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:36:21.190 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-14 11:36:21.650 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-14 11:36:24.261 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-14 11:36:24.739 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:36:28.163 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-14 11:36:29.136 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4517.0929000000006ms
2018-05-14 11:36:29.148 -07:00 [INF] Request finished in 4893.3942ms 200 text/html; charset=utf-8
2018-05-14 11:36:29.226 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/css/site.css  
2018-05-14 11:36:29.241 -07:00 [INF] The file /css/site.css was not modified
2018-05-14 11:36:29.267 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css  
2018-05-14 11:36:29.275 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-05-14 11:36:29.303 -07:00 [INF] Request finished in 37.2367ms 304 text/css
2018-05-14 11:36:29.310 -07:00 [INF] Request finished in 86.5348ms 304 text/css
2018-05-14 11:36:29.371 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2018-05-14 11:36:29.432 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner2.svg  
2018-05-14 11:36:29.458 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner1.svg  
2018-05-14 11:36:29.484 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js  
2018-05-14 11:36:29.570 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js  
2018-05-14 11:36:29.613 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner3.svg  
2018-05-14 11:36:29.620 -07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-05-14 11:36:29.685 -07:00 [INF] The file /js/site.js was not modified
2018-05-14 11:36:29.713 -07:00 [INF] The file /images/banner3.svg was not modified
2018-05-14 11:36:29.739 -07:00 [INF] The file /images/banner1.svg was not modified
2018-05-14 11:36:29.795 -07:00 [INF] The file /images/banner2.svg was not modified
2018-05-14 11:36:29.824 -07:00 [INF] Request finished in 452.7287ms 304 application/javascript
2018-05-14 11:36:29.849 -07:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-05-14 11:36:29.922 -07:00 [INF] Request finished in 510.614ms 304 image/svg+xml
2018-05-14 11:36:29.949 -07:00 [INF] Request finished in 488.232ms 304 application/javascript
2018-05-14 11:36:30.008 -07:00 [INF] Request finished in 455.978ms 304 application/javascript
2018-05-14 11:36:30.084 -07:00 [INF] Request finished in 691.3879ms 304 image/svg+xml
2018-05-14 11:36:30.169 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2018-05-14 11:36:30.226 -07:00 [INF] The file /lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2 was not modified
2018-05-14 11:36:30.234 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/banner4.svg  
2018-05-14 11:36:30.330 -07:00 [INF] Request finished in 764.8534ms 304 image/svg+xml
2018-05-14 11:36:30.363 -07:00 [INF] The file /images/banner4.svg was not modified
2018-05-14 11:36:30.410 -07:00 [INF] Request finished in 341.724ms 304 image/svg+xml
2018-05-14 11:36:30.449 -07:00 [INF] Request finished in 287.7841ms 304 font/woff2
2018-05-14 11:36:31.464 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-14 11:36:31.671 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-14 11:36:31.707 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-14 11:36:32.603 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-14 11:36:32.981 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1418.4194ms
2018-05-14 11:36:32.990 -07:00 [INF] Request finished in 1525.8894ms 200 text/html; charset=utf-8
2018-05-14 11:36:33.045 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js  
2018-05-14 11:36:33.047 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2018-05-14 11:36:33.080 -07:00 [INF] The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified
2018-05-14 11:36:33.104 -07:00 [INF] The file /lib/jquery-validation/dist/jquery.validate.js was not modified
2018-05-14 11:36:33.163 -07:00 [INF] Request finished in 92.0165ms 304 application/javascript
2018-05-14 11:36:33.168 -07:00 [INF] Request finished in 121.2348ms 304 application/javascript
2018-05-14 11:36:34.584 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-14 11:36:34.721 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-14 11:36:35.013 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:36:36.551 -07:00 [INF] Executed DbCommand (250ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-14 11:36:36.930 -07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-14 11:36:37.077 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-14 11:36:37.247 -07:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:36:37.428 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:36:37.555 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:36:37.693 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:36:37.819 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:36:37.930 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:36:38.030 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:36:38.134 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:36:38.259 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-14 11:36:38.272 -07:00 [INF] User logged in.
2018-05-14 11:36:38.287 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-14 11:36:38.301 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 3690.6793000000002ms
2018-05-14 11:36:38.317 -07:00 [INF] Request finished in 3730.6293ms 302 
2018-05-14 11:36:38.336 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-14 11:36:38.358 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:38.373 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:38.487 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:36:38.499 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-14 11:36:38.536 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 149.5753ms
2018-05-14 11:36:38.552 -07:00 [INF] Request finished in 214.3318ms 200 text/html; charset=utf-8
2018-05-14 11:36:43.669 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-14 11:36:43.677 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:43.684 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:43.705 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:36:43.745 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:36:43.760 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:36:43.934 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 11:36:44.219 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-14 11:36:44.982 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1281.3687ms
2018-05-14 11:36:44.994 -07:00 [INF] Request finished in 1323.1249ms 200 text/html; charset=utf-8
2018-05-14 11:36:46.405 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-14 11:36:46.412 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:46.418 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:46.433 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:36:46.489 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:36:46.505 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:36:46.642 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 11:36:46.879 -07:00 [INF] Executed DbCommand (140ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 11:36:47.017 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 11:36:47.061 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:36:47.075 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:36:47.082 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:36:47.088 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:36:47.095 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:36:47.237 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 11:36:47.365 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 11:36:47.734 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-14 11:36:47.838 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1406.9650000000001ms
2018-05-14 11:36:47.846 -07:00 [INF] Request finished in 1441.1337ms 200 text/html; charset=utf-8
2018-05-14 11:36:49.936 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-14 11:36:49.942 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:49.948 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:36:49.967 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:36:50.021 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-14 11:36:50.038 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:36:50.153 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-14 11:36:50.278 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 11:36:50.431 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 11:36:50.560 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 11:36:50.697 -07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 11:36:50.827 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 11:36:50.937 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 11:36:51.089 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 11:36:51.202 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 11:36:51.219 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:36:51.229 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:36:51.254 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.267 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.280 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.292 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.304 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.317 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.463 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-14 11:36:51.545 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:36:51.559 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:36:51.577 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.590 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.601 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.611 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.624 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.636 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-14 11:36:51.774 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:36:51.881 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:36:52.166 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 2195.0517ms
2018-05-14 11:36:52.294 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentException: The parameter 'address' cannot be an empty string.
Parameter name: address
   at System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding)
   at System.Net.Mail.MailAddress..ctor(String address, String displayName)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String[] emailAddresses, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 90
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 185
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-14 11:36:52.565 -07:00 [INF] Request finished in 2629.0603ms 500 text/html; charset=utf-8
2018-05-14 11:37:15.275 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-14 11:37:15.282 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:37:15.289 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:37:15.296 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:37:15.350 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:37:15.365 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:37:15.514 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 11:37:15.642 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 11:37:15.799 -07:00 [INF] Executed DbCommand (142ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 11:37:15.925 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 11:37:16.035 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 11:37:16.052 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-14 11:37:16.117 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 816.00010000000009ms
2018-05-14 11:37:16.130 -07:00 [INF] Request finished in 853.7009ms 200 text/html; charset=utf-8
2018-05-14 11:37:17.656 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-14 11:37:17.663 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:37:17.669 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:37:17.675 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:37:17.708 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-14 11:37:17.717 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:37:17.833 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-14 11:37:17.940 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 11:37:18.066 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 11:37:18.194 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 11:37:18.317 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 11:37:18.437 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 11:37:18.544 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 11:37:18.696 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 11:37:18.832 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 11:37:18.961 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-14 11:37:19.058 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:37:19.152 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:40:54.370 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-14 11:40:54.752 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-14 11:40:57.231 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-14 11:40:57.686 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:41:00.605 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-14 11:41:01.655 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4064.2875000000004ms
2018-05-14 11:41:01.672 -07:00 [INF] Request finished in 4444.469ms 200 text/html; charset=utf-8
2018-05-14 11:41:07.835 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-14 11:41:07.960 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-14 11:41:07.984 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-14 11:41:08.811 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-14 11:41:09.125 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1238.7674ms
2018-05-14 11:41:09.133 -07:00 [INF] Request finished in 1296.5151ms 200 text/html; charset=utf-8
2018-05-14 11:41:10.453 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 248
2018-05-14 11:41:10.536 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-14 11:41:10.759 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:41:11.860 -07:00 [INF] Executed DbCommand (154ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-14 11:41:12.149 -07:00 [INF] Executed DbCommand (138ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-14 11:41:12.308 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-14 11:41:12.464 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:41:12.618 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:41:12.716 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:41:12.813 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:41:12.909 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:41:13.004 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:41:13.099 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 11:41:13.209 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 11:41:13.273 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-14 11:41:13.283 -07:00 [INF] User logged in.
2018-05-14 11:41:13.298 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-14 11:41:13.311 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 2833.6379ms
2018-05-14 11:41:13.330 -07:00 [INF] Request finished in 2873.0066ms 302 
2018-05-14 11:41:13.345 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-14 11:41:13.364 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:13.374 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:13.471 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:41:13.476 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-14 11:41:13.492 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 109.7915ms
2018-05-14 11:41:13.499 -07:00 [INF] Request finished in 154.2945ms 200 text/html; charset=utf-8
2018-05-14 11:41:29.875 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-14 11:41:29.881 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:29.886 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:29.904 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:41:29.951 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:41:29.968 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:41:30.097 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 11:41:30.396 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-14 11:41:31.226 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 1325.3125ms
2018-05-14 11:41:31.233 -07:00 [INF] Request finished in 1358.0091ms 200 text/html; charset=utf-8
2018-05-14 11:41:32.981 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-14 11:41:32.988 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:32.994 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:33.006 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:41:33.039 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 11:41:33.052 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:41:33.169 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 11:41:33.361 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 11:41:33.498 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 11:41:33.548 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:41:33.579 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:41:33.595 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:41:33.608 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:41:33.621 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:41:33.796 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 11:41:33.906 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 11:41:34.280 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-14 11:41:34.370 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1360.2126ms
2018-05-14 11:41:34.381 -07:00 [INF] Request finished in 1399.1028ms 200 text/html; charset=utf-8
2018-05-14 11:41:36.333 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-14 11:41:36.340 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:36.345 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 11:41:36.363 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 11:41:36.424 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-14 11:41:36.451 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 11:41:36.588 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-14 11:41:36.753 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 11:41:36.915 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 11:41:37.037 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 11:41:37.155 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 11:41:37.283 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 11:41:37.384 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 11:41:37.512 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 11:41:37.611 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 11:41:37.639 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:41:37.652 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:41:37.673 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:41:37.686 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:41:37.699 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 11:41:37.711 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:41:37.724 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:41:37.738 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-14 11:41:37.880 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-14 11:41:37.960 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:41:37.972 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 11:41:37.991 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:41:38.004 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:41:38.016 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 11:41:38.028 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 11:41:38.041 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 11:41:38.054 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-14 11:41:38.205 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:41:38.343 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 11:42:06.971 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 30606.5325ms
2018-05-14 11:42:07.066 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Mail.SmtpException: The operation has timed out.
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String[] emailAddresses, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 105
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 185
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-14 11:42:07.235 -07:00 [INF] Request finished in 30901.3521ms 500 text/html; charset=utf-8
2018-05-14 12:18:43.441 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-14 12:18:43.449 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:18:44.127 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:18:44.232 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-14 12:18:44.345 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-14 12:18:44.436 -07:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 12:18:44.535 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 12:18:44.647 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 12:18:44.779 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 12:18:44.905 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 12:18:45.040 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 12:18:45.135 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-14 12:18:45.235 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-14 12:18:45.248 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:18:45.253 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:18:45.258 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:18:45.322 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:18:45.449 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 12:18:45.576 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 12:18:45.699 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 12:18:45.796 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 12:18:45.839 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-14 12:18:45.895 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 633.3713ms
2018-05-14 12:18:45.902 -07:00 [INF] Request finished in 2461.1862ms 200 text/html; charset=utf-8
2018-05-14 12:18:49.725 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-14 12:18:49.731 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:18:49.736 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:18:49.741 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:18:49.774 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-14 12:18:49.785 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:18:49.886 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-14 12:18:49.997 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 12:18:50.111 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 12:18:50.231 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 12:18:50.350 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 12:18:50.478 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 12:18:50.561 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 12:18:50.674 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 12:18:50.799 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 12:18:50.921 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-14 12:18:51.035 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 12:18:51.156 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 12:19:12.295 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 22553.4134ms
2018-05-14 12:19:12.337 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Mail.SmtpException: The operation has timed out.
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at IdentityServer.Services.EmailSender.SendEmailAsync(String[] emailAddresses, String subject, String message) in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Services\EmailSender.cs:line 105
   at IdentityServer.Controllers.ManageController.<RequestClaims>d__16.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ManageController.cs:line 185
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-14 12:19:12.459 -07:00 [INF] Request finished in 22734.3078ms 500 text/html; charset=utf-8
2018-05-14 12:35:36.296 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-14 12:35:36.734 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-14 12:35:38.109 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-14 12:35:38.403 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:38.426 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:38.838 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:35:41.899 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-14 12:35:42.705 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3983.0638000000004ms
2018-05-14 12:35:42.719 -07:00 [INF] Request finished in 4616.9568ms 200 text/html; charset=utf-8
2018-05-14 12:35:45.417 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-14 12:35:45.426 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:45.431 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:45.463 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:35:45.554 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:35:45.813 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:35:47.034 -07:00 [INF] Executed DbCommand (208ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:35:47.638 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-14 12:35:48.645 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3194.4166ms
2018-05-14 12:35:48.652 -07:00 [INF] Request finished in 3234.9932ms 200 text/html; charset=utf-8
2018-05-14 12:35:50.224 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-14 12:35:50.231 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:50.236 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:50.251 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:35:50.312 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:35:50.333 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:35:50.499 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:35:50.741 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 12:35:50.876 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 12:35:50.924 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:35:50.942 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:35:50.948 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:35:50.953 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:35:50.958 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:35:51.108 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 12:35:51.223 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 12:35:51.615 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-14 12:35:51.724 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1472.1793ms
2018-05-14 12:35:51.734 -07:00 [INF] Request finished in 1509.2617ms 200 text/html; charset=utf-8
2018-05-14 12:35:55.643 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-14 12:35:55.667 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:55.673 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:35:55.715 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:35:55.850 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-14 12:35:55.903 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:35:56.051 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-14 12:35:56.211 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 12:35:56.359 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 12:35:56.468 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 12:35:56.566 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 12:35:56.696 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 12:35:56.807 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 12:35:56.944 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 12:35:57.060 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 12:35:57.088 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:35:57.102 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:35:57.132 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.147 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.161 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.175 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.190 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.208 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.360 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-14 12:35:57.419 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:35:57.431 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:35:57.451 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.465 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.478 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.491 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.503 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.515 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-14 12:35:57.654 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 12:35:57.791 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 12:36:19.120 -07:00 [INF] Executing RedirectResult, redirecting to /Manage/Index.
2018-05-14 12:36:19.225 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 23510.0413ms
2018-05-14 12:36:19.238 -07:00 [INF] Request finished in 23596.1503ms 302 
2018-05-14 12:36:19.251 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-14 12:36:19.261 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:36:19.267 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:36:19.274 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:36:19.331 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:36:19.340 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:36:19.444 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:36:19.450 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-14 12:36:19.458 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 184.894ms
2018-05-14 12:36:19.464 -07:00 [INF] Request finished in 214.4974ms 200 text/html; charset=utf-8
2018-05-14 12:38:28.693 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-14 12:38:29.080 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-14 12:38:30.562 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-14 12:38:30.898 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:30.930 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:31.283 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:38:34.235 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-14 12:38:35.048 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3885.8921ms
2018-05-14 12:38:35.065 -07:00 [INF] Request finished in 4511.8821ms 200 text/html; charset=utf-8
2018-05-14 12:38:36.884 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-14 12:38:36.892 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:36.898 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:36.926 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:38:37.012 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:38:37.283 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:38:38.558 -07:00 [INF] Executed DbCommand (230ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:38:39.169 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-14 12:38:40.254 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3332.8633ms
2018-05-14 12:38:40.266 -07:00 [INF] Request finished in 3381.0487ms 200 text/html; charset=utf-8
2018-05-14 12:38:41.657 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/RequestClaims  
2018-05-14 12:38:41.664 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:41.669 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:41.686 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:38:41.721 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:38:41.734 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:38:41.890 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:38:42.152 -07:00 [INF] Executed DbCommand (145ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 12:38:42.288 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 12:38:42.333 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:38:42.349 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:38:42.355 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:38:42.361 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:38:42.366 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:38:42.514 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 12:38:42.615 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 12:38:43.016 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/RequestClaims.cshtml.
2018-05-14 12:38:43.110 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 1420.71ms
2018-05-14 12:38:43.120 -07:00 [INF] Request finished in 1461.7793ms 200 text/html; charset=utf-8
2018-05-14 12:38:44.315 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Manage/RequestClaims application/x-www-form-urlencoded 1343
2018-05-14 12:38:44.327 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:44.333 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:38:44.365 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:38:44.494 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserClaimRequestViewModel"]) - ModelState is "Valid"
2018-05-14 12:38:44.543 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:38:44.685 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__requestor_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__requestor_UserId_0
2018-05-14 12:38:44.821 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 12:38:44.997 -07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 12:38:45.131 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__user_Id_0
ORDER BY [m].[Id]
2018-05-14 12:38:45.284 -07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__user_Id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-14 12:38:45.416 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
ORDER BY [org].[Name]
2018-05-14 12:38:45.519 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name], [role].[Id], (
    SELECT CASE
        WHEN EXISTS (
            SELECT 1
            FROM [AspNetUserRoles] AS [ur]
            WHERE ([ur].[RoleId] = [role].[Id]) AND ([ur].[UserId] = @__user_Id_0))
        THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
    END
) AS [Selected]
FROM [AspNetRoles] AS [role]
WHERE [role].[Discriminator] IN (N'ApplicationRole', N'IdentityRole')
ORDER BY [role].[Name]
2018-05-14 12:38:45.656 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__AdminRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[Discriminator] IN (N'ApplicationRole', N'IdentityRole') AND ([r].[Name] = @__AdminRoleName_0)
2018-05-14 12:38:45.771 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__AdminRole_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] IN (
    SELECT [ur].[UserId]
    FROM [AspNetUserRoles] AS [ur]
    WHERE [ur].[RoleId] = @__AdminRole_Id_0
)
2018-05-14 12:38:45.799 -07:00 [WRN] The Include operation for navigation '[<generated>_3].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:38:45.814 -07:00 [WRN] The Include operation for navigation '[<generated>_3].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:38:45.844 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:38:45.858 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:38:45.873 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 12:38:45.885 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:38:45.898 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:38:45.911 -07:00 [WRN] The LINQ expression 'Distinct()' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.069 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.Organization].[Id], [oa.Organization].[Name], [oa.Organization].[ShortName], [oa].[UserId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [Organization] AS [oa.Organization] ON [oa].[OrganizationId] = [oa.Organization].[Id]
2018-05-14 12:38:46.143 -07:00 [WRN] The Include operation for navigation '[<generated>_2].User' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:38:46.153 -07:00 [WRN] The Include operation for navigation '[<generated>_2].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-14 12:38:46.165 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.171 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.178 -07:00 [WRN] The LINQ expression 'where {from ApplicationUser a in __AdminUsers_0 where ([oa].UserId == [a].Id) select [a] => Any()}' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.186 -07:00 [WRN] The LINQ expression 'where ([oa].UserId == [a].Id)' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.195 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.201 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == __org_Id_1)' could not be translated and will be evaluated locally.
2018-05-14 12:38:46.340 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 12:38:46.447 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__org_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [oa.User].[Id], [oa.User].[AccessFailedCount], [oa.User].[ConcurrencyStamp], [oa.User].[Email], [oa.User].[EmailConfirmed], [oa.User].[FamilyName], [oa.User].[GivenName], [oa.User].[LockoutEnabled], [oa.User].[LockoutEnd], [oa.User].[NormalizedEmail], [oa.User].[NormalizedUserName], [oa.User].[PasswordHash], [oa.User].[PhoneNumber], [oa.User].[PhoneNumberConfirmed], [oa.User].[RegistrationDate], [oa.User].[SecurityStamp], [oa.User].[TwoFactorEnabled], [oa.User].[UserName], [oa].[UserId], [oa].[OrganizationId]
FROM [OrganizationAssignments] AS [oa]
INNER JOIN [AspNetUsers] AS [oa.User] ON [oa].[UserId] = [oa.User].[Id]
WHERE [oa].[OrganizationId] = @__org_Id_1
2018-05-14 12:39:07.742 -07:00 [INF] Executing RedirectResult, redirecting to /Manage/Index.
2018-05-14 12:39:07.836 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.RequestClaims (IdentityServer) in 23468.483ms
2018-05-14 12:39:07.847 -07:00 [INF] Request finished in 23530.4605ms 302 
2018-05-14 12:39:07.867 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-14 12:39:07.881 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:39:07.894 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-14 12:39:07.905 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-14 12:39:07.968 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-14 12:39:07.978 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-14 12:39:08.083 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-14 12:39:08.092 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-14 12:39:08.107 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 202.6447ms
2018-05-14 12:39:08.116 -07:00 [INF] Request finished in 250.4506ms 200 text/html; charset=utf-8
2018-05-15 12:13:32.901 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 12:13:33.228 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 12:13:34.793 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 12:13:35.372 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 12:13:38.716 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 12:13:39.674 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4464.8703000000005ms
2018-05-15 12:13:39.685 -07:00 [INF] Request finished in 4901.6608ms 200 text/html; charset=utf-8
2018-05-15 12:13:42.244 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 12:13:42.430 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 12:13:43.039 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 732.4516ms
2018-05-15 12:13:43.171 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
5rt45lc3.onh(464,2129): error CS1031: Type expected
5rt45lc3.onh(464,2348): error CS1031: Type expected
5rt45lc3.onh(464,2567): error CS1031: Type expected
5rt45lc3.onh(464,2184): error CS1061: 'RegisterViewModel' does not contain a definition for 'Organization' and no extension method 'Organization' accepting a first argument of type 'RegisterViewModel' could be found (are you missing a using directive or an assembly reference?)
5rt45lc3.onh(464,2403): error CS1061: 'RegisterViewModel' does not contain a definition for 'Organization' and no extension method 'Organization' accepting a first argument of type 'RegisterViewModel' could be found (are you missing a using directive or an assembly reference?)
5rt45lc3.onh(464,2622): error CS1061: 'RegisterViewModel' does not contain a definition for 'Organization' and no extension method 'Organization' accepting a first argument of type 'RegisterViewModel' could be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-15 12:13:43.306 -07:00 [INF] Request finished in 1063.3752ms 500 text/html; charset=utf-8
2018-05-15 12:17:25.064 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 12:17:25.406 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 12:17:26.716 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 12:17:27.125 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 12:17:30.189 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 12:17:31.167 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4143.5772000000006ms
2018-05-15 12:17:31.185 -07:00 [INF] Request finished in 4473.1774ms 200 text/html; charset=utf-8
2018-05-15 12:17:34.378 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 12:17:34.568 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 12:17:35.121 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 12:17:35.469 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1043.1489000000001ms
2018-05-15 12:17:35.477 -07:00 [INF] Request finished in 1099.8405ms 200 text/html; charset=utf-8
2018-05-15 12:18:01.553 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 275
2018-05-15 12:18:01.646 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-05-15 12:18:01.952 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 12:18:05.989 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 275
2018-05-15 12:18:06.031 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-05-15 12:18:06.046 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
2018-05-15 12:18:06.050 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 12:18:06.131 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
2018-05-15 12:18:06.280 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
2018-05-15 12:18:06.683 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 5101.0585ms
2018-05-15 12:18:17.824 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-15 12:18:17.878 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-15 12:18:17.982 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-15 12:18:18.066 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserValidator`1.<ValidateUserName>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Identity.UserValidator`1.<ValidateAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<ValidateUserInternal>d__169.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<CreateAsync>d__73.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<CreateAsync>d__78.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.AccountController.<Register>d__18.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 228
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-15 12:18:18.318 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-15 12:18:18.635 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 12627.2199ms
2018-05-15 12:18:18.874 -07:00 [INF] Request finished in 17319.5468ms 500 text/html; charset=utf-8
2018-05-15 12:18:18.903 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-15 12:18:19.068 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<FirstOrDefault_>d__165`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<ExecuteSingletonAsyncQuery>d__23`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserValidator`1.<ValidateUserName>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Identity.UserValidator`1.<ValidateAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<ValidateUserInternal>d__169.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<CreateAsync>d__73.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<CreateAsync>d__78.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.AccountController.<Register>d__18.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 228
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2018-05-15 12:18:19.380 -07:00 [INF] Request finished in 13391.3186ms 500 text/html; charset=utf-8
2018-05-15 13:44:32.619 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 13:44:33.024 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 13:44:34.506 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 13:44:35.041 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 13:44:38.085 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 13:44:39.060 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4128.6935ms
2018-05-15 13:44:39.083 -07:00 [INF] Request finished in 4581.5641ms 200 text/html; charset=utf-8
2018-05-15 13:44:44.702 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 13:44:44.873 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 13:44:45.539 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 13:44:45.890 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1121.0896ms
2018-05-15 13:44:45.906 -07:00 [INF] Request finished in 1198.6457ms 200 text/html; charset=utf-8
2018-05-15 13:49:52.046 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 13:49:52.484 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 13:49:53.895 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 13:49:54.466 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 13:49:57.452 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 13:49:58.316 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4021.514ms
2018-05-15 13:49:58.328 -07:00 [INF] Request finished in 4441.188ms 200 text/html; charset=utf-8
2018-05-15 13:50:00.536 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 13:50:00.717 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 13:50:01.427 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 13:50:01.903 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1307.5786ms
2018-05-15 13:50:01.913 -07:00 [INF] Request finished in 1375.6252ms 200 text/html; charset=utf-8
2018-05-15 13:50:16.342 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 284
2018-05-15 13:50:16.431 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-05-15 13:50:16.725 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 13:50:18.082 -07:00 [INF] Executed DbCommand (234ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-15 13:50:18.468 -07:00 [ERR] Failed executing DbCommand (153ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?', @p14='?', @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FamilyName], [GivenName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'FamilyName', table 'VikingIdentity.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
ClientConnectionId:5fbecb69-d416-4322-b02a-fb51b25f1e59
Error Number:515,State:2,Class:16
2018-05-15 13:50:18.601 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'FamilyName', table 'VikingIdentity.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'FamilyName', table 'VikingIdentity.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
2018-05-15 13:50:18.828 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 2459.8810000000003ms
2018-05-15 13:50:19.102 -07:00 [INF] Executed DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2018-05-15 13:50:19.228 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2018-05-15 13:50:19.319 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'FamilyName', table 'VikingIdentity.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.<ExecuteAsync>d__32.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.<ExecuteAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__61.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<SaveChangesAsync>d__59.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.DbContext.<SaveChangesAsync>d__48.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.<CreateAsync>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<CreateAsync>d__73.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Identity.UserManager`1.<CreateAsync>d__78.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.AccountController.<Register>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 231
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-15 13:50:19.600 -07:00 [INF] Request finished in 3259.0529ms 500 text/html; charset=utf-8
2018-05-15 13:59:08.883 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 13:59:09.162 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 13:59:10.508 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 13:59:11.082 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 13:59:14.013 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 13:59:14.944 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4028.6637ms
2018-05-15 13:59:14.969 -07:00 [INF] Request finished in 4462.7811ms 200 text/html; charset=utf-8
2018-05-15 13:59:17.093 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 13:59:17.240 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 13:59:17.822 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 13:59:18.167 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 1027.6490000000001ms
2018-05-15 13:59:18.176 -07:00 [INF] Request finished in 1082.4446ms 200 text/html; charset=utf-8
2018-05-15 13:59:39.720 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 316
2018-05-15 13:59:39.860 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-05-15 13:59:40.144 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 13:59:41.501 -07:00 [INF] Executed DbCommand (227ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-15 13:59:41.848 -07:00 [INF] Executed DbCommand (162ms) [Parameters=[@p0='?' (Size = 450), @p1='?', @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?', @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?', @p8='?', @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?', @p14='?', @p15='?' (Size = 4000), @p16='?', @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FamilyName], [GivenName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RegistrationDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2018-05-15 13:59:41.929 -07:00 [INF] User created a new account with password.
2018-05-15 13:59:42.068 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 2304.1038000000003ms
2018-05-15 13:59:42.205 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentNullException: Value cannot be null.
Parameter name: hostingEnvironment
   at Microsoft.AspNetCore.Hosting.HostingEnvironmentExtensions.IsDevelopment(IHostingEnvironment hostingEnvironment)
   at IdentityServer.Controllers.AccountController.<Register>d__19.MoveNext() in C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Controllers\AccountController.cs:line 236
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-15 13:59:42.425 -07:00 [INF] Request finished in 2709.1896ms 500 text/html; charset=utf-8
2018-05-15 14:00:02.406 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 14:00:02.438 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 14:00:02.445 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 14:00:02.471 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 58.4454ms
2018-05-15 14:00:02.476 -07:00 [INF] Request finished in 70.2322ms 200 text/html; charset=utf-8
2018-05-15 14:00:08.141 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Register application/x-www-form-urlencoded 316
2018-05-15 14:00:08.174 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.RegisterViewModel",""]) - ModelState is "Valid"
2018-05-15 14:00:08.275 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:00:08.404 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-15 14:00:08.435 -07:00 [WRN] User 75a507e3-eb46-47d4-9a06-79a071a8eae7 validation failed: DuplicateUserName.
2018-05-15 14:00:08.453 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 14:00:08.474 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 322.365ms
2018-05-15 14:00:08.488 -07:00 [INF] Request finished in 344.1716ms 200 text/html; charset=utf-8
2018-05-15 14:00:26.440 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-15 14:00:26.482 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 14:00:26.504 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-15 14:00:26.934 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 481.399ms
2018-05-15 14:00:26.996 -07:00 [ERR] An unhandled exception has occurred while executing the request
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Account\Login.cshtml(21,135): error CS1061: 'LoginViewModel' does not contain a definition for 'Email' and no extension method 'Email' accepting a first argument of type 'LoginViewModel' could be found (are you missing a using directive or an assembly reference?)
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Account\Login.cshtml(22,135): error CS1061: 'LoginViewModel' does not contain a definition for 'Email' and no extension method 'Email' accepting a first argument of type 'LoginViewModel' could be found (are you missing a using directive or an assembly reference?)
C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\Views\Account\Login.cshtml(23,147): error CS1061: 'LoginViewModel' does not contain a definition for 'Email' and no extension method 'Email' accepting a first argument of type 'LoginViewModel' could be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-05-15 14:00:27.097 -07:00 [INF] Request finished in 657.2728ms 500 text/html; charset=utf-8
2018-05-15 14:01:36.270 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Register  
2018-05-15 14:01:36.306 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Register (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 14:01:36.318 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Register.cshtml.
2018-05-15 14:01:36.340 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Register (IdentityServer) in 59.4508ms
2018-05-15 14:01:36.355 -07:00 [INF] Request finished in 81.2361ms 200 text/html; charset=utf-8
2018-05-15 14:01:37.723 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-15 14:01:37.759 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 14:01:37.773 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-15 14:01:38.283 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-15 14:01:38.356 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 623.0118ms
2018-05-15 14:01:38.364 -07:00 [INF] Request finished in 640.6861ms 200 text/html; charset=utf-8
2018-05-15 14:01:40.122 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 251
2018-05-15 14:01:40.189 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2018-05-15 14:01:40.212 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:01:40.351 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2018-05-15 14:01:40.622 -07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-15 14:01:40.776 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-15 14:01:40.948 -07:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 14:01:41.121 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 14:01:41.225 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 14:01:41.357 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 14:01:41.489 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 14:01:41.627 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 14:01:41.747 -07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 14:01:41.845 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 14:01:41.955 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-05-15 14:01:41.970 -07:00 [INF] User logged in.
2018-05-15 14:01:41.982 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-15 14:01:41.991 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 1854.236ms
2018-05-15 14:01:42.005 -07:00 [INF] Request finished in 1879.9055ms 302 
2018-05-15 14:01:42.020 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 14:01:42.042 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:01:42.056 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:01:42.155 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:01:42.168 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 14:01:42.190 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 122.3952ms
2018-05-15 14:01:42.198 -07:00 [INF] Request finished in 178.1502ms 200 text/html; charset=utf-8
2018-05-15 14:01:43.953 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:01:43.960 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:01:43.966 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:01:44.003 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:01:44.013 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:01:44.226 -07:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:01:44.373 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:01:44.828 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:01:44.934 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 953.8225ms
2018-05-15 14:01:44.944 -07:00 [INF] Request finished in 988.9773ms 200 text/html; charset=utf-8
2018-05-15 14:02:21.033 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 14:02:21.346 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 14:02:22.538 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 14:02:22.773 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:22.798 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:23.195 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:02:26.214 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 14:02:26.976 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 3921.8792000000003ms
2018-05-15 14:02:26.991 -07:00 [INF] Request finished in 4457.1707ms 200 text/html; charset=utf-8
2018-05-15 14:02:30.907 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Manage/Index  
2018-05-15 14:02:30.915 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:30.921 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:30.952 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-15 14:02:31.031 -07:00 [INF] Executing action method IdentityServer.Controllers.ManageController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:02:31.306 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:02:32.501 -07:00 [INF] Executed DbCommand (182ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-15 14:02:33.132 -07:00 [INF] Executing ViewResult, running view at path /Views/Manage/Index.cshtml.
2018-05-15 14:02:34.131 -07:00 [INF] Executed action IdentityServer.Controllers.ManageController.Index (IdentityServer) in 3184.9513ms
2018-05-15 14:02:34.143 -07:00 [INF] Request finished in 3234.7348ms 200 text/html; charset=utf-8
2018-05-15 14:02:38.120 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:02:38.127 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:38.134 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:38.178 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:02:38.195 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:02:38.409 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:02:38.571 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:02:39.028 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:02:39.156 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 1004.9087000000001ms
2018-05-15 14:02:39.174 -07:00 [INF] Request finished in 1049.6383ms 200 text/html; charset=utf-8
2018-05-15 14:02:43.050 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:02:43.066 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:43.081 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:02:43.152 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:02:43.167 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:02:43.303 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:02:43.420 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:02:43.434 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:02:43.491 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 396.0654ms
2018-05-15 14:02:43.501 -07:00 [INF] Request finished in 458.942ms 200 text/html; charset=utf-8
2018-05-15 14:09:54.122 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=bfe47d66-1a20-495d-9819-b96630328900  
2018-05-15 14:09:54.137 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:09:54.151 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:09:54.300 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900"]) - ModelState is "Valid"
2018-05-15 14:09:54.324 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:09:55.059 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-15 14:09:55.163 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:09:55.508 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-15 14:09:55.558 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 1353.2262ms
2018-05-15 14:09:55.569 -07:00 [INF] Request finished in 1450.0701ms 200 text/html; charset=utf-8
2018-05-15 14:10:02.024 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:10:02.030 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:02.035 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:02.066 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:02.078 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:02.208 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:10:02.325 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:10:02.344 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:10:02.401 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 354.6032ms
2018-05-15 14:10:02.414 -07:00 [INF] Request finished in 387.1998ms 200 text/html; charset=utf-8
2018-05-15 14:10:04.602 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-15 14:10:04.610 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:04.616 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:04.675 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:04.695 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:04.848 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:05.111 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-15 14:10:05.155 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 521.8914ms
2018-05-15 14:10:05.168 -07:00 [INF] Request finished in 562.2715ms 200 text/html; charset=utf-8
2018-05-15 14:10:08.313 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-15 14:10:08.320 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:08.327 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:08.388 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:08.413 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:08.582 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:08.721 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-15 14:10:08.848 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:08.984 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:09.110 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:09.333 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-15 14:10:09.832 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 1487.9836ms
2018-05-15 14:10:09.846 -07:00 [INF] Request finished in 1530.3245ms 200 text/html; charset=utf-8
2018-05-15 14:10:28.696 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 14:10:28.702 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:28.708 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:28.741 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:28.752 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 14:10:28.763 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 45.890100000000004ms
2018-05-15 14:10:28.769 -07:00 [INF] Request finished in 75.3121ms 200 text/html; charset=utf-8
2018-05-15 14:10:30.288 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/About  
2018-05-15 14:10:30.294 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:30.299 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:30.331 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.About (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:30.686 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/About.cshtml.
2018-05-15 14:10:30.712 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.About (IdentityServer) in 400.9445ms
2018-05-15 14:10:30.725 -07:00 [INF] Request finished in 433.9499ms 200 text/html; charset=utf-8
2018-05-15 14:10:32.001 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Contact  
2018-05-15 14:10:32.007 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:32.013 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:32.046 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Contact (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:32.283 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Contact.cshtml.
2018-05-15 14:10:32.312 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Contact (IdentityServer) in 285.9519ms
2018-05-15 14:10:32.325 -07:00 [INF] Request finished in 321.5369ms 200 text/html; charset=utf-8
2018-05-15 14:10:33.120 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationRoles/Index  
2018-05-15 14:10:33.127 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:33.132 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:33.167 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:33.177 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:33.302 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:33.318 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2018-05-15 14:10:33.353 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 208.87220000000002ms
2018-05-15 14:10:33.366 -07:00 [INF] Request finished in 243.2726ms 200 text/html; charset=utf-8
2018-05-15 14:10:34.743 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-15 14:10:34.749 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:34.754 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:34.785 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:34.792 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:34.883 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:35.005 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-15 14:10:35.115 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:35.232 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:35.356 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:35.372 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-15 14:10:35.397 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 630.9806ms
2018-05-15 14:10:35.413 -07:00 [INF] Request finished in 665.9551ms 200 text/html; charset=utf-8
2018-05-15 14:10:38.131 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/UserRoles/Edit application/x-www-form-urlencoded 473
2018-05-15 14:10:38.144 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:38.149 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:38.171 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-15 14:10:38.290 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserRolesViewModel","Microsoft.AspNetCore.Http.FormCollection"]) - ModelState is "Valid"
2018-05-15 14:10:38.313 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:38.470 -07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__id_Username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__id_Username_0
2018-05-15 14:10:38.600 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:38.732 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__User_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[UserId], [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @__User_Id_0
2018-05-15 14:10:39.045 -07:00 [INF] Executed DbCommand (157ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2018-05-15 14:10:39.115 -07:00 [INF] Executing RedirectResult, redirecting to /UserRoles/Index.
2018-05-15 14:10:39.125 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) in 957.9792ms
2018-05-15 14:10:39.140 -07:00 [INF] Request finished in 1005.8213ms 302 
2018-05-15 14:10:39.156 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-15 14:10:39.165 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:39.175 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:39.215 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:39.245 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/UserRoles/Edit application/x-www-form-urlencoded 515
2018-05-15 14:10:39.252 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:39.326 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:39.339 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:39.354 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-15 14:10:39.456 -07:00 [INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:39.460 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) with arguments (["IdentityServer.Models.UserViewModels.UserRolesViewModel","Microsoft.AspNetCore.Http.FormCollection"]) - ModelState is "Valid"
2018-05-15 14:10:39.505 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:39.625 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-15 14:10:39.730 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:39.854 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:39.980 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:39.997 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-15 14:10:40.019 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 830.2019ms
2018-05-15 14:10:40.030 -07:00 [INF] Request finished in 873.5118ms 200 text/html; charset=utf-8
2018-05-15 14:10:40.223 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_Username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[UserName] = @__id_Username_0
2018-05-15 14:10:40.332 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:40.445 -07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__User_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[UserId], [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @__User_Id_0
2018-05-15 14:10:40.614 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2018-05-15 14:10:40.685 -07:00 [INF] Executing RedirectResult, redirecting to /UserRoles/Index.
2018-05-15 14:10:40.700 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Edit (IdentityServer) in 1345.6427ms
2018-05-15 14:10:40.716 -07:00 [INF] Request finished in 1492.6599ms 302 
2018-05-15 14:10:40.739 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/UserRoles/Index  
2018-05-15 14:10:40.750 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:40.762 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:10:40.817 -07:00 [INF] Executing action method IdentityServer.Controllers.UserRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:10:40.830 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:10:40.956 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2018-05-15 14:10:41.045 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [user].[UserName], [user].[Id]
FROM [AspNetUsers] AS [user]
2018-05-15 14:10:41.165 -07:00 [INF] Executed DbCommand (112ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:41.286 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:41.424 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[@_outer_Id='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [ur].[RoleId]
FROM [AspNetUserRoles] AS [ur]
WHERE [ur].[UserId] = @_outer_Id
2018-05-15 14:10:41.436 -07:00 [INF] Executing ViewResult, running view at path /Views/UserRoles/Index.cshtml.
2018-05-15 14:10:41.453 -07:00 [INF] Executed action IdentityServer.Controllers.UserRolesController.Index (IdentityServer) in 680.0388ms
2018-05-15 14:10:41.462 -07:00 [INF] Request finished in 726.0036ms 200 text/html; charset=utf-8
2018-05-15 14:11:00.466 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/About  
2018-05-15 14:11:00.472 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:00.477 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:00.507 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.About (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:11:00.516 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/About.cshtml.
2018-05-15 14:11:00.530 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.About (IdentityServer) in 44.517ms
2018-05-15 14:11:00.542 -07:00 [INF] Request finished in 74.4893ms 200 text/html; charset=utf-8
2018-05-15 14:11:01.426 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Contact  
2018-05-15 14:11:01.432 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:01.437 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:01.467 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Contact (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:11:01.475 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Contact.cshtml.
2018-05-15 14:11:01.484 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Contact (IdentityServer) in 41.075500000000005ms
2018-05-15 14:11:01.490 -07:00 [INF] Request finished in 64.1861ms 200 text/html; charset=utf-8
2018-05-15 14:11:02.105 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Organizations  
2018-05-15 14:11:02.111 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:02.115 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:02.153 -07:00 [INF] Executing action method IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:11:02.161 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:11:02.298 -07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Name], [o].[ShortName]
FROM [Organization] AS [o]
ORDER BY [o].[Id]
2018-05-15 14:11:02.466 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o.OrganizationAssignments].[OrganizationId], [o.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [o.OrganizationAssignments]
INNER JOIN (
    SELECT [o0].[Id]
    FROM [Organization] AS [o0]
) AS [t] ON [o.OrganizationAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:11:02.810 -07:00 [INF] Executing ViewResult, running view at path /Views/Organizations/Index.cshtml.
2018-05-15 14:11:02.857 -07:00 [INF] Executed action IdentityServer.Controllers.OrganizationsController.Index (IdentityServer) in 726.4904ms
2018-05-15 14:11:02.870 -07:00 [INF] Request finished in 761.0679ms 200 text/html; charset=utf-8
2018-05-15 14:11:09.088 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:11:09.094 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:09.099 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:09.135 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:11:09.145 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:11:09.246 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:11:09.370 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:11:09.384 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:11:09.440 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 329.8457ms
2018-05-15 14:11:09.450 -07:00 [INF] Request finished in 360.8428ms 200 text/html; charset=utf-8
2018-05-15 14:11:12.161 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=bfe47d66-1a20-495d-9819-b96630328900  
2018-05-15 14:11:12.167 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:12.173 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:12.225 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900"]) - ModelState is "Valid"
2018-05-15 14:11:12.240 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:11:12.359 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-15 14:11:12.485 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:11:12.499 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-15 14:11:12.518 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 334.7192ms
2018-05-15 14:11:12.531 -07:00 [INF] Request finished in 367.7117ms 200 text/html; charset=utf-8
2018-05-15 14:11:14.472 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/EditOrganizations?id=bfe47d66-1a20-495d-9819-b96630328900  
2018-05-15 14:11:14.479 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:14.485 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:14.539 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-15 14:11:14.558 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:11:14.699 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-15 14:11:14.838 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:11:14.866 -07:00 [WRN] The Include operation for navigation '[<generated>_1].OrganizationAssignments' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2018-05-15 14:11:14.899 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-15 14:11:14.913 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-15 14:11:14.927 -07:00 [WRN] The LINQ expression 'where ([oa].OrganizationId == [org].Id)' could not be translated and will be evaluated locally.
2018-05-15 14:11:14.942 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-05-15 14:11:15.129 -07:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [org].[Name], [org].[Id]
FROM [Organization] AS [org]
2018-05-15 14:11:15.413 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/EditOrganizations.cshtml.
2018-05-15 14:11:15.752 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 1249.4501ms
2018-05-15 14:11:15.765 -07:00 [INF] Request finished in 1290.8975ms 200 text/html; charset=utf-8
2018-05-15 14:11:18.388 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/EditOrganizations application/x-www-form-urlencoded 465
2018-05-15 14:11:18.395 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:18.401 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:18.414 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-15 14:11:18.470 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900","IdentityServer.Models.UserViewModels.UserOrganizationsViewModel","System.Collections.Generic.List`1[IdentityServer.Models.UserViewModels.OrganizationSelectedViewModel]"]) - ModelState is "Valid"
2018-05-15 14:11:18.493 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:11:18.660 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[Id] = @__id_0
ORDER BY [u].[Id]
2018-05-15 14:11:18.795 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u.OrganizationAssignments].[OrganizationId], [u.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [u.OrganizationAssignments]
INNER JOIN (
    SELECT TOP(1) [u0].[Id]
    FROM [AspNetUsers] AS [u0]
    WHERE [u0].[Id] = @__id_0
    ORDER BY [u0].[Id]
) AS [t] ON [u.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:11:19.042 -07:00 [INF] Executed DbCommand (157ms) [Parameters=[@p17='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?', @p7='?', @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256), @p19='?', @p20='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FamilyName] = @p4, [GivenName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RegistrationDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;

INSERT INTO [OrganizationAssignments] ([OrganizationId], [UserId])
VALUES (@p19, @p20);
2018-05-15 14:11:19.114 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-15 14:11:19.122 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.EditOrganizations (IdentityServer) in 707.6757ms
2018-05-15 14:11:19.133 -07:00 [INF] Request finished in 743.0161ms 302 
2018-05-15 14:11:19.154 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:11:19.169 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:19.183 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:11:19.310 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:11:19.325 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:11:19.483 -07:00 [INF] Executed DbCommand (141ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:11:19.601 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:11:19.620 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:11:19.656 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 459.74600000000004ms
2018-05-15 14:11:19.666 -07:00 [INF] Request finished in 514.0256ms 200 text/html; charset=utf-8
2018-05-15 14:21:50.752 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Details?id=bfe47d66-1a20-495d-9819-b96630328900  
2018-05-15 14:21:50.765 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:21:50.776 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:21:50.835 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900"]) - ModelState is "Valid"
2018-05-15 14:21:50.844 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:21:51.519 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-15 14:21:51.645 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:21:51.666 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Details.cshtml.
2018-05-15 14:21:51.683 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Details (IdentityServer) in 893.9573ms
2018-05-15 14:21:51.692 -07:00 [INF] Request finished in 943.1869ms 200 text/html; charset=utf-8
2018-05-15 14:21:58.174 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:21:58.180 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:21:58.185 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:21:58.215 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:21:58.221 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:21:58.320 -07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:21:58.446 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:21:58.461 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:21:58.519 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 325.5106ms
2018-05-15 14:21:58.529 -07:00 [INF] Request finished in 353.2666ms 200 text/html; charset=utf-8
2018-05-15 14:22:00.524 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Edit?id=bfe47d66-1a20-495d-9819-b96630328900  
2018-05-15 14:22:00.531 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:22:00.537 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:22:00.578 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900"]) - ModelState is "Valid"
2018-05-15 14:22:00.593 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:22:00.727 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[ConcurrencyStamp], [m].[Email], [m].[EmailConfirmed], [m].[FamilyName], [m].[GivenName], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[RegistrationDate], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [AspNetUsers] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2018-05-15 14:22:00.856 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m.OrganizationAssignments].[OrganizationId], [m.OrganizationAssignments].[UserId], [o.Organization].[Id], [o.Organization].[Name], [o.Organization].[ShortName]
FROM [OrganizationAssignments] AS [m.OrganizationAssignments]
INNER JOIN [Organization] AS [o.Organization] ON [m.OrganizationAssignments].[OrganizationId] = [o.Organization].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [AspNetUsers] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:22:01.399 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Edit.cshtml.
2018-05-15 14:22:01.520 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 966.90140000000008ms
2018-05-15 14:22:01.535 -07:00 [INF] Request finished in 1008.0711ms 200 text/html; charset=utf-8
2018-05-15 14:22:07.186 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/ApplicationUsers/Edit application/x-www-form-urlencoded 813
2018-05-15 14:22:07.192 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:22:07.198 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:22:07.262 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) with arguments (["bfe47d66-1a20-495d-9819-b96630328900","jamesan"]) - ModelState is "Valid"
2018-05-15 14:22:07.283 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:22:07.465 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@p17='?' (Size = 450), @p0='?', @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?', @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?', @p7='?', @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?', @p13='?', @p14='?' (Size = 4000), @p15='?', @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FamilyName] = @p4, [GivenName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RegistrationDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;
2018-05-15 14:22:07.533 -07:00 [INF] Executing RedirectResult, redirecting to /ApplicationUsers/Index.
2018-05-15 14:22:07.546 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Edit (IdentityServer) in 327.7486ms
2018-05-15 14:22:07.556 -07:00 [INF] Request finished in 368.6112ms 302 
2018-05-15 14:22:07.572 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 14:22:07.582 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:22:07.592 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 14:22:07.686 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 14:22:07.698 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 14:22:07.838 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 14:22:07.957 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 14:22:07.969 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 14:22:08.004 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 401.8552ms
2018-05-15 14:22:08.014 -07:00 [INF] Request finished in 443.0627ms 200 text/html; charset=utf-8
2018-05-15 15:21:33.217 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225
2018-05-15 15:21:33.226 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 15:21:33.906 -07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2018-05-15 15:21:34.082 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2018-05-15 15:21:34.210 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2018-05-15 15:21:34.328 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 15:21:34.456 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 15:21:34.578 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 15:21:34.731 -07:00 [INF] Executed DbCommand (113ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 15:21:34.858 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 15:21:34.998 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 15:21:35.102 -07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2018-05-15 15:21:35.214 -07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2018-05-15 15:21:35.230 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 15:21:35.235 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-05-15 15:21:35.252 -07:00 [INF] Authorization was successful for user: jander42@hotmail.com.
2018-05-15 15:21:35.312 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Logout (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 15:21:35.336 -07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-05-15 15:21:35.345 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-15 15:21:35.352 -07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-05-15 15:21:35.359 -07:00 [INF] User logged out.
2018-05-15 15:21:35.366 -07:00 [INF] Executing RedirectResult, redirecting to /.
2018-05-15 15:21:35.373 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Logout (IdentityServer) in 122.77040000000001ms
2018-05-15 15:21:35.379 -07:00 [INF] Request finished in 2162.3544ms 302 
2018-05-15 15:21:35.389 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 15:21:35.453 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 15:21:35.760 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 15:21:35.790 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 389.9067ms
2018-05-15 15:21:35.798 -07:00 [INF] Request finished in 408.3943ms 200 text/html; charset=utf-8
2018-05-15 15:21:35.817 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/VikingBanner1.jpg  
2018-05-15 15:21:35.832 -07:00 [INF] Sending file. Request path: '/images/VikingBanner1.jpg'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\VikingBanner1.jpg'
2018-05-15 15:21:35.890 -07:00 [INF] Request finished in 74.0865ms 200 image/jpeg
2018-05-15 15:33:47.853 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ApplicationUsers/Index  
2018-05-15 15:33:47.919 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 15:33:47.932 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2018-05-15 15:33:48.667 -07:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2018-05-15 15:33:48.806 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.OrganizationAssignments].[OrganizationId], [a.OrganizationAssignments].[UserId]
FROM [OrganizationAssignments] AS [a.OrganizationAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.OrganizationAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2018-05-15 15:33:48.826 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2018-05-15 15:33:48.888 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 1022.2535ms
2018-05-15 15:33:48.898 -07:00 [INF] Request finished in 1046.467ms 200 text/html; charset=utf-8
2018-05-15 15:33:49.064 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-15 15:33:49.077 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-15 15:33:49.093 -07:00 [INF] Request finished in 30.5781ms 200 image/x-icon
2018-05-15 15:33:49.967 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Account/Login  
2018-05-15 15:33:50.010 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2018-05-15 15:33:50.021 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-05-15 15:33:50.475 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2018-05-15 15:33:50.545 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 562.8237ms
2018-05-15 15:33:50.555 -07:00 [INF] Request finished in 587.7204ms 200 text/html; charset=utf-8
2018-05-15 15:33:52.275 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 15:33:52.308 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 15:33:52.633 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 15:33:52.674 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 387.46500000000003ms
2018-05-15 15:33:52.685 -07:00 [INF] Request finished in 408.5332ms 200 text/html; charset=utf-8
2018-05-15 15:33:52.700 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/VikingBanner1.jpg  
2018-05-15 15:33:52.712 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/NetworkBanner.png  
2018-05-15 15:33:52.721 -07:00 [INF] Sending file. Request path: '/images/NetworkBanner.png'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\NetworkBanner.png'
2018-05-15 15:33:52.750 -07:00 [INF] The file /images/VikingBanner1.jpg was not modified
2018-05-15 15:33:52.765 -07:00 [INF] Request finished in 66.7338ms 304 image/jpeg
2018-05-15 15:33:52.793 -07:00 [INF] Request finished in 59.4064ms 200 image/png
2018-05-15 15:42:39.886 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 15:42:39.957 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 15:42:40.150 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 15:42:40.170 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 269.5391ms
2018-05-15 15:42:40.178 -07:00 [INF] Request finished in 295.5058ms 200 text/html; charset=utf-8
2018-05-15 15:42:40.212 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/VikingBanner1.jpg  
2018-05-15 15:42:40.219 -07:00 [INF] The file /images/VikingBanner1.jpg was not modified
2018-05-15 15:42:40.249 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/NetworkBanner.png  
2018-05-15 15:42:40.278 -07:00 [INF] Request finished in 35.7363ms 304 image/jpeg
2018-05-15 15:42:40.284 -07:00 [INF] The file /images/NetworkBanner.png was not modified
2018-05-15 15:42:40.293 -07:00 [INF] Request finished in 69.3821ms 304 image/png
2018-05-15 15:43:38.036 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 15:43:38.093 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 15:43:38.475 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 15:43:38.509 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 459.2892ms
2018-05-15 15:43:38.523 -07:00 [INF] Request finished in 528.8518ms 200 text/html; charset=utf-8
2018-05-15 15:43:38.681 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-15 15:43:38.695 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-15 15:43:38.713 -07:00 [INF] Request finished in 29.4667ms 200 image/x-icon
2018-05-15 16:39:12.309 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:39:12.346 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:39:12.634 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:39:13.079 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 756.08980000000008ms
2018-05-15 16:39:13.094 -07:00 [INF] Request finished in 783.5437ms 200 text/html; charset=utf-8
2018-05-15 16:39:13.148 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/VikingBanner1.jpg  
2018-05-15 16:39:13.179 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/NetworkBanner.png  
2018-05-15 16:39:13.186 -07:00 [INF] The file /images/VikingBanner1.jpg was not modified
2018-05-15 16:39:13.243 -07:00 [INF] The file /images/NetworkBanner.png was not modified
2018-05-15 16:39:13.250 -07:00 [INF] Request finished in 76.7444ms 304 image/jpeg
2018-05-15 16:39:13.294 -07:00 [INF] Request finished in 131.9681ms 304 image/png
2018-05-15 16:39:13.310 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-15 16:39:13.321 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-15 16:39:13.334 -07:00 [INF] Request finished in 23.6138ms 200 image/x-icon
2018-05-15 16:39:58.098 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:39:58.182 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:39:58.195 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:39:58.212 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 81.880800000000008ms
2018-05-15 16:39:58.225 -07:00 [INF] Request finished in 150.979ms 200 text/html; charset=utf-8
2018-05-15 16:43:46.760 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 16:43:47.086 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 16:43:48.053 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:43:48.553 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:43:51.535 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:43:52.477 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:43:52.525 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:43:52.545 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4060.4596ms
2018-05-15 16:43:52.569 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:43:52.608 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 113.8538ms
2018-05-15 16:43:52.642 -07:00 [INF] Request finished in 142.189ms 200 text/html; charset=utf-8
2018-05-15 16:43:52.642 -07:00 [INF] Request finished in 4565.8302ms 200 text/html; charset=utf-8
2018-05-15 16:43:52.730 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-15 16:43:52.749 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-15 16:43:52.768 -07:00 [INF] Request finished in 36.8579ms 200 image/x-icon
2018-05-15 16:44:20.473 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:44:20.533 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:44:20.543 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:44:20.871 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 386.874ms
2018-05-15 16:44:20.879 -07:00 [INF] Request finished in 407.9098ms 200 text/html; charset=utf-8
2018-05-15 16:44:20.992 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2018-05-15 16:44:21.000 -07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Src\Git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\favicon.ico'
2018-05-15 16:44:21.017 -07:00 [INF] Request finished in 24.842ms 200 image/x-icon
2018-05-15 16:47:05.386 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/About  
2018-05-15 16:47:05.467 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.About (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:47:05.733 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/About.cshtml.
2018-05-15 16:47:05.753 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.About (IdentityServer) in 338.6721ms
2018-05-15 16:47:05.761 -07:00 [INF] Request finished in 425.727ms 200 text/html; charset=utf-8
2018-05-15 16:47:52.034 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-05-15 16:47:52.291 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-05-15 16:47:53.565 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:47:53.984 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:47:57.023 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:47:57.883 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4010.8679ms
2018-05-15 16:47:57.897 -07:00 [INF] Request finished in 4337.5124ms 200 text/html; charset=utf-8
2018-05-15 16:47:57.919 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/VikingBanner1.jpg  
2018-05-15 16:47:57.927 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/NetworkBanner.png  
2018-05-15 16:47:57.954 -07:00 [INF] The file /images/NetworkBanner.png was not modified
2018-05-15 16:47:57.957 -07:00 [INF] The file /images/VikingBanner1.jpg was not modified
2018-05-15 16:47:58.009 -07:00 [INF] Request finished in 61.1411ms 304 image/png
2018-05-15 16:47:58.012 -07:00 [INF] Request finished in 70.7654ms 304 image/jpeg
2018-05-15 16:47:59.853 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:47:59.884 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:47:59.890 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:47:59.897 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 38.203700000000005ms
2018-05-15 16:47:59.902 -07:00 [INF] Request finished in 49.3905ms 200 text/html; charset=utf-8
2018-05-15 16:48:01.938 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/About  
2018-05-15 16:48:01.969 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.About (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:48:02.113 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/About.cshtml.
2018-05-15 16:48:02.133 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.About (IdentityServer) in 185.9143ms
2018-05-15 16:48:02.139 -07:00 [INF] Request finished in 200.5308ms 200 text/html; charset=utf-8
2018-05-15 16:48:06.747 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:48:06.780 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:48:06.788 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:48:06.797 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 42.935300000000005ms
2018-05-15 16:48:06.805 -07:00 [INF] Request finished in 57.3758ms 200 text/html; charset=utf-8
2018-05-15 16:48:08.125 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Contact  
2018-05-15 16:48:08.159 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Contact (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:48:08.313 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Contact.cshtml.
2018-05-15 16:48:08.330 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Contact (IdentityServer) in 194.2089ms
2018-05-15 16:48:08.342 -07:00 [INF] Request finished in 214.7606ms 200 text/html; charset=utf-8
2018-05-15 16:48:15.521 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:48:15.552 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:48:15.557 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:48:15.565 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 37.3072ms
2018-05-15 16:48:15.571 -07:00 [INF] Request finished in 50.3397ms 200 text/html; charset=utf-8
2018-05-15 16:48:16.756 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2018-05-15 16:48:16.786 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2018-05-15 16:48:16.794 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-05-15 16:48:16.801 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 38.976400000000005ms
2018-05-15 16:48:16.809 -07:00 [INF] Request finished in 53.7022ms 200 text/html; charset=utf-8
2019-04-01 13:29:24.265 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 13:29:24.287 -07:00 [INF] Creating key "198352e4-7147-4ef6-b8e1-6be77272face" with creation date "2019-04-01T20:29:24.2825419+00:00", activation date "2019-04-01T20:29:24.2769326+00:00", and expiration date "2019-06-30T20:29:24.2769326+00:00".
2019-04-01 13:29:24.332 -07:00 [INF] Writing data to file 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys\key-198352e4-7147-4ef6-b8e1-6be77272face.xml'.
2019-04-01 13:29:24.470 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 13:29:24.925 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 15:22:27.624 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:22:27.666 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:26:11.836 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:26:11.880 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:26:40.069 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:26:40.111 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:39:45.711 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:39:45.751 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:40:21.277 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:40:21.318 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:47:43.586 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:47:43.624 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:47:43.803 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 15:47:55.994 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:47:56.042 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:47:56.223 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 15:52:47.609 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:52:47.651 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:52:47.849 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 15:59:30.168 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 15:59:30.208 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 15:59:30.395 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 15:59:31.185 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 15:59:31.240 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 15:59:31.302 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-04-01 16:00:11.193 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:00:11.232 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:00:11.408 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:00:28.299 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:00:28.339 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:00:28.520 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:01:03.162 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:01:03.202 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:01:03.394 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:13:09.519 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:13:09.559 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:13:09.747 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:13:10.639 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 16:13:10.696 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 16:13:10.750 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-04-01 16:13:10.776 -07:00 [INF] Applying migration '20190401224756_RenameOrganizationsToGroups'.
2019-04-01 16:13:11.279 -07:00 [ERR] Failed executing DbCommand (397ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'dbo.Organization', N'Group';
ALTER SCHEMA [Group] TRANSFER [dbo].[Group];
System.Data.SqlClient.SqlException (0x80131904): Cannot alter the schema 'Group', because it does not exist or you do not have permission.
Caution: Changing any part of an object name could break scripts and stored procedures.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:12016da5-3c01-4b1f-a798-40317f7116ac
Error Number:15151,State:1,Class:16
2019-04-01 16:14:00.918 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:14:00.958 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:14:01.150 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:14:08.971 -07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 16:14:09.027 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 16:14:09.081 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-04-01 16:14:09.094 -07:00 [INF] Applying migration '20190401224756_RenameOrganizationsToGroups'.
2019-04-01 16:14:09.216 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'dbo.Organization', N'Group';
ALTER SCHEMA [dbo] TRANSFER [dbo].[Group];
2019-04-01 16:14:09.272 -07:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'dbo.OrganizationAssignments', N'GroupAssignments';
ALTER SCHEMA [dbo] TRANSFER [dbo].[GroupAssignments];
2019-04-01 16:14:09.326 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190401224756_RenameOrganizationsToGroups', N'2.0.2-rtm-10011');
2019-04-01 16:23:25.381 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:23:25.420 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:23:25.612 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:24:19.168 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:24:19.208 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:24:19.398 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:24:22.488 -07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 16:24:22.544 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 16:24:22.596 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-04-01 16:24:22.606 -07:00 [INF] Applying migration '20190401232325_AddNestedGroups'.
2019-04-01 16:24:22.767 -07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Group] ADD [ParentID] bigint NULL;
2019-04-01 16:24:22.840 -07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Group_ParentID] ON [Group] ([ParentID]);
2019-04-01 16:24:22.907 -07:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Group] ADD CONSTRAINT [FK_Group_Group_ParentID] FOREIGN KEY ([ParentID]) REFERENCES [Group] ([Id]) ON DELETE NO ACTION;
2019-04-01 16:24:22.959 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190401232325_AddNestedGroups', N'2.0.2-rtm-10011');
2019-04-01 16:38:26.974 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:38:27.156 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:38:27.835 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 16:38:27.835 -07:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:65184/  0
2019-04-01 16:38:28.094 -07:00 [INF] Request finished in 267.8548ms 200 
2019-04-01 16:38:28.714 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:38:32.846 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2019-04-01 16:38:33.361 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/css/site.css  
2019-04-01 16:38:33.386 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 4798.3502ms
2019-04-01 16:38:33.387 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/images/VikingBanner1.jpg  
2019-04-01 16:38:33.413 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/images/NetworkBanner.png  
2019-04-01 16:38:33.440 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/bootstrap/dist/js/bootstrap.js  
2019-04-01 16:38:33.441 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/bootstrap/dist/css/bootstrap.css  
2019-04-01 16:38:33.520 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/jquery/dist/jquery.js  
2019-04-01 16:38:33.528 -07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2019-04-01 16:38:33.537 -07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2019-04-01 16:38:33.564 -07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\css\site.css'
2019-04-01 16:38:33.606 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2019-04-01 16:38:33.636 -07:00 [INF] Request finished in 5664.0046ms 200 text/html; charset=utf-8
2019-04-01 16:38:33.670 -07:00 [INF] Sending file. Request path: '/images/NetworkBanner.png'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\NetworkBanner.png'
2019-04-01 16:38:33.747 -07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\jquery\dist\jquery.js'
2019-04-01 16:38:33.783 -07:00 [INF] Request finished in 364.091ms 200 text/css
2019-04-01 16:38:33.808 -07:00 [INF] Sending file. Request path: '/images/VikingBanner1.jpg'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\images\VikingBanner1.jpg'
2019-04-01 16:38:33.856 -07:00 [INF] Request finished in 416.4531ms 200 text/css
2019-04-01 16:38:33.860 -07:00 [INF] Request finished in 420.7982ms 200 application/javascript
2019-04-01 16:38:33.980 -07:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\js\site.js'
2019-04-01 16:38:33.981 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2  
2019-04-01 16:38:34.011 -07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2'
2019-04-01 16:38:34.013 -07:00 [INF] Request finished in 525.5723ms 200 application/javascript
2019-04-01 16:38:34.040 -07:00 [INF] Request finished in 624.8854ms 200 image/png
2019-04-01 16:38:34.041 -07:00 [INF] Request finished in 598.2896ms 200 application/javascript
2019-04-01 16:38:34.102 -07:00 [INF] Request finished in 710.132ms 200 image/jpeg
2019-04-01 16:38:34.103 -07:00 [INF] Request finished in 96.5907ms 200 font/woff2
2019-04-01 16:38:43.553 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Account/Login  
2019-04-01 16:38:43.633 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments ([""]) - ModelState is "Valid"
2019-04-01 16:38:43.648 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-04-01 16:38:44.149 -07:00 [INF] Executing ViewResult, running view at path /Views/Account/Login.cshtml.
2019-04-01 16:38:44.348 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 757.2274ms
2019-04-01 16:38:44.377 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js  
2019-04-01 16:38:44.408 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/jquery-validation/dist/jquery.validate.js  
2019-04-01 16:38:44.412 -07:00 [INF] Request finished in 859.0231ms 200 text/html; charset=utf-8
2019-04-01 16:38:44.490 -07:00 [INF] Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\jquery-validation\dist\jquery.validate.js'
2019-04-01 16:38:44.517 -07:00 [INF] Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\src\git\Viking\Servers\IdentityServer\IdentityServer\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2019-04-01 16:38:44.530 -07:00 [INF] Request finished in 179.9132ms 200 application/javascript
2019-04-01 16:38:44.540 -07:00 [INF] Request finished in 187.8899ms 200 application/javascript
2019-04-01 16:38:53.566 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:44322/Account/Login application/x-www-form-urlencoded 251
2019-04-01 16:38:53.618 -07:00 [INF] Executing action method IdentityServer.Controllers.AccountController.Login (IdentityServer) with arguments (["IdentityServer.Models.AccountViewModels.LoginViewModel",""]) - ModelState is "Valid"
2019-04-01 16:38:53.785 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:38:57.033 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FamilyName], [u].[GivenName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[RegistrationDate], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2019-04-01 16:38:57.233 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-04-01 16:38:57.340 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2019-04-01 16:38:57.433 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2019-04-01 16:38:57.538 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-04-01 16:38:57.620 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2019-04-01 16:38:57.704 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-04-01 16:38:57.780 -07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2019-04-01 16:38:57.858 -07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-04-01 16:38:57.893 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-04-01 16:38:57.898 -07:00 [INF] User logged in.
2019-04-01 16:38:57.902 -07:00 [INF] Executing RedirectResult, redirecting to /.
2019-04-01 16:38:57.906 -07:00 [INF] Executed action IdentityServer.Controllers.AccountController.Login (IdentityServer) in 4329.8239ms
2019-04-01 16:38:57.911 -07:00 [INF] Request finished in 4366.785ms 302 
2019-04-01 16:38:57.941 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 16:38:57.948 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:38:57.969 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:38:57.991 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:38:57.995 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2019-04-01 16:38:58.006 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 30.0804ms
2019-04-01 16:38:58.012 -07:00 [INF] Request finished in 95.4669ms 200 text/html; charset=utf-8
2019-04-01 16:39:00.759 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationUsers/Index  
2019-04-01 16:39:00.764 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:39:00.787 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:39:00.834 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:39:00.841 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:39:00.963 -07:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FamilyName], [a].[GivenName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RegistrationDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
ORDER BY [a].[Id]
2019-04-01 16:39:01.055 -07:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a.GroupAssignments].[OrganizationId], [a.GroupAssignments].[UserId]
FROM [GroupAssignments] AS [a.GroupAssignments]
INNER JOIN (
    SELECT [a0].[Id]
    FROM [AspNetUsers] AS [a0]
) AS [t] ON [a.GroupAssignments].[UserId] = [t].[Id]
ORDER BY [t].[Id]
2019-04-01 16:39:01.254 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationUsers/Index.cshtml.
2019-04-01 16:39:01.315 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 516.55140000000006ms
2019-04-01 16:39:01.319 -07:00 [INF] Request finished in 560.4173ms 200 text/html; charset=utf-8
2019-04-01 16:39:04.062 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Organizations  
2019-04-01 16:39:04.066 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:39:04.069 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:39:04.073 -07:00 [INF] Request finished in 11.477ms 404 
2019-04-01 16:40:36.209 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Organizations  
2019-04-01 16:40:36.214 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:40:36.219 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:40:36.228 -07:00 [INF] Request finished in 15.9207ms 404 
2019-04-01 16:40:37.777 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Organizations  
2019-04-01 16:40:37.781 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:40:37.785 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:40:37.790 -07:00 [INF] Request finished in 12.7414ms 404 
2019-04-01 16:48:15.789 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 16:48:15.968 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 16:48:16.589 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 16:48:16.589 -07:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:65184/  0
2019-04-01 16:48:16.675 -07:00 [INF] Request finished in 94.5207ms 200 
2019-04-01 16:48:16.812 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:16.829 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:17.059 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:48:18.960 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2019-04-01 16:48:19.414 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 2431.6183ms
2019-04-01 16:48:19.422 -07:00 [INF] Request finished in 2860.7608ms 200 text/html; charset=utf-8
2019-04-01 16:48:22.274 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups  
2019-04-01 16:48:22.280 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:22.286 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:22.312 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:48:22.470 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:48:36.773 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): Access is denied
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:5,State:0,Class:20
2019-04-01 16:48:36.857 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): Access is denied
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:5,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): Access is denied
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:5,State:0,Class:20
2019-04-01 16:48:36.995 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Index (IdentityServer) in 14700.367600000001ms
2019-04-01 16:48:37.118 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): Access is denied
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:5,State:0,Class:20
2019-04-01 16:48:37.218 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): Access is denied
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.GroupsController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\GroupsController.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:5,State:0,Class:20
2019-04-01 16:48:37.428 -07:00 [INF] Request finished in 15154.1176ms 500 text/html; charset=utf-8
2019-04-01 16:48:46.699 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups  
2019-04-01 16:48:46.726 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:46.754 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:46.800 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:48:46.821 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:48:48.028 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 16:48:48.053 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:48.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:48.105 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:48:48.110 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2019-04-01 16:48:48.127 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 61.106ms
2019-04-01 16:48:48.133 -07:00 [INF] Request finished in 123.5242ms 200 text/html; charset=utf-8
2019-04-01 16:48:49.408 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationUsers/Index  
2019-04-01 16:48:49.439 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:49.470 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:48:49.517 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:48:49.548 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:49:02.373 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.380 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.452 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.472 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.584 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 13083.300500000001ms
2019-04-01 16:49:02.654 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.740 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Index (IdentityServer) in 15948.868100000002ms
2019-04-01 16:49:02.835 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.905 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:02.941 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.GroupsController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\GroupsController.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:49:03.111 -07:00 [INF] Request finished in 13725.8946ms 500 text/html; charset=utf-8
2019-04-01 16:49:03.187 -07:00 [INF] Request finished in 16484.1837ms 500 text/html; charset=utf-8
2019-04-01 16:51:07.670 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationUsers/Index  
2019-04-01 16:51:07.702 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:51:07.733 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:51:07.795 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:51:07.826 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:51:23.286 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:51:23.364 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:51:23.499 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationUsersController.Index (IdentityServer) in 15734.9192ms
2019-04-01 16:51:23.566 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:51:23.660 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationUsersController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationUsersController.cs:line 28
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:51:23.841 -07:00 [INF] Request finished in 16206.0417ms 500 text/html; charset=utf-8
2019-04-01 16:51:48.936 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 16:51:48.941 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:51:48.977 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:51:49.024 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:51:49.055 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2019-04-01 16:51:49.063 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 78.254600000000011ms
2019-04-01 16:51:49.068 -07:00 [INF] Request finished in 132.4747ms 200 text/html; charset=utf-8
2019-04-01 16:51:51.518 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationRoles/Index  
2019-04-01 16:51:51.543 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:51:51.582 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:51:51.629 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:51:51.660 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:52:07.240 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:07.310 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:07.422 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 15811.857ms
2019-04-01 16:52:07.501 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:07.595 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationRolesController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationRolesController.cs:line 34
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:07.767 -07:00 [INF] Request finished in 16274.8406ms 500 text/html; charset=utf-8
2019-04-01 16:52:10.337 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationRoles/Index  
2019-04-01 16:52:10.366 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:52:10.389 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:52:10.435 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:52:10.467 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:52:10.518 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:10.586 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:10.705 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 282.6796ms
2019-04-01 16:52:10.749 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:10.839 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationRolesController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationRolesController.cs:line 34
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:11.008 -07:00 [INF] Request finished in 670.9487ms 500 text/html; charset=utf-8
2019-04-01 16:52:13.497 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationRoles/Index  
2019-04-01 16:52:13.528 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:52:13.559 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:52:13.611 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:52:13.643 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:52:13.685 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:13.749 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:13.860 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 272.6417ms
2019-04-01 16:52:13.903 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:13.994 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationRolesController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationRolesController.cs:line 34
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:52:14.161 -07:00 [INF] Request finished in 686.9471ms 500 text/html; charset=utf-8
2019-04-01 16:53:49.148 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationRoles/Index  
2019-04-01 16:53:49.180 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:53:49.205 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 16:53:49.252 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 16:53:49.274 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 16:54:04.835 -07:00 [ERR] An error occurred using the connection to database 'VikingIdentity' on server 'OpR-Marc-DB1'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:54:04.909 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:54:05.006 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 15797.2473ms
2019-04-01 16:54:21.464 -07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:54:21.549 -07:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) ---> System.ComponentModel.Win32Exception (0x80004005): The network path was not found
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.<Aggregate_>d__6`3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer.Controllers.ApplicationRolesController.<Index>d__2.MoveNext() in C:\src\git\Viking\Servers\IdentityServer\IdentityServer\Controllers\ApplicationRolesController.cs:line 34
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2019-04-01 16:54:21.731 -07:00 [INF] Request finished in 32567.2416ms 500 text/html; charset=utf-8
2019-04-01 17:02:55.754 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/ApplicationRoles/Index  
2019-04-01 17:02:55.785 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:02:55.788 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:02:55.832 -07:00 [INF] Executing action method IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 17:02:55.836 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:02:58.938 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'ApplicationRole'
2019-04-01 17:02:59.430 -07:00 [INF] Executing ViewResult, running view at path /Views/ApplicationRoles/Index.cshtml.
2019-04-01 17:02:59.490 -07:00 [INF] Executed action IdentityServer.Controllers.ApplicationRolesController.Index (IdentityServer) in 3672.0512000000003ms
2019-04-01 17:02:59.570 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/bootstrap/dist/css/bootstrap.css  
2019-04-01 17:02:59.571 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA  
2019-04-01 17:02:59.593 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/jquery/dist/jquery.js  
2019-04-01 17:02:59.625 -07:00 [INF] Request finished in 3785.2334ms 200 text/html; charset=utf-8
2019-04-01 17:02:59.660 -07:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2019-04-01 17:02:59.661 -07:00 [INF] The file /js/site.js was not modified
2019-04-01 17:02:59.692 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/lib/bootstrap/dist/js/bootstrap.js  
2019-04-01 17:02:59.722 -07:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2019-04-01 17:02:59.860 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/css/site.css  
2019-04-01 17:02:59.883 -07:00 [INF] Request finished in 251.8599ms 304 application/javascript
2019-04-01 17:02:59.919 -07:00 [INF] Request finished in 296.7921ms 304 text/css
2019-04-01 17:02:59.961 -07:00 [INF] Request finished in 230.6829ms 304 application/javascript
2019-04-01 17:03:00.061 -07:00 [INF] The file /css/site.css was not modified
2019-04-01 17:03:00.092 -07:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2019-04-01 17:03:00.163 -07:00 [INF] Request finished in 629.827ms 304 application/javascript
2019-04-01 17:03:00.178 -07:00 [INF] Request finished in 681.2595ms 304 text/css
2019-04-01 17:03:03.193 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups  
2019-04-01 17:03:03.219 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:03:03.223 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:03:03.242 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 17:03:03.265 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:03:03.350 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[ParentID], [g].[ShortName]
FROM [Group] AS [g]
ORDER BY [g].[Id]
2019-04-01 17:03:03.479 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g.GroupAssignments].[OrganizationId], [g.GroupAssignments].[UserId]
FROM [GroupAssignments] AS [g.GroupAssignments]
INNER JOIN (
    SELECT [g0].[Id]
    FROM [Group] AS [g0]
) AS [t] ON [g.GroupAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2019-04-01 17:03:03.665 -07:00 [INF] Executing ViewResult, running view at path /Views/Groups/Index.cshtml.
2019-04-01 17:03:03.685 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Index (IdentityServer) in 456.8537ms
2019-04-01 17:03:03.711 -07:00 [INF] Request finished in 497.6464ms 200 text/html; charset=utf-8
2019-04-01 17:03:10.815 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups/Details/1  
2019-04-01 17:03:10.840 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:03:10.844 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:03:10.912 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2019-04-01 17:03:10.919 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:03:11.057 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ParentID], [m].[ShortName]
FROM [Group] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2019-04-01 17:03:11.152 -07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.GroupAssignments].[OrganizationId], [m.GroupAssignments].[UserId], [g.User].[Id], [g.User].[AccessFailedCount], [g.User].[ConcurrencyStamp], [g.User].[Email], [g.User].[EmailConfirmed], [g.User].[FamilyName], [g.User].[GivenName], [g.User].[LockoutEnabled], [g.User].[LockoutEnd], [g.User].[NormalizedEmail], [g.User].[NormalizedUserName], [g.User].[PasswordHash], [g.User].[PhoneNumber], [g.User].[PhoneNumberConfirmed], [g.User].[RegistrationDate], [g.User].[SecurityStamp], [g.User].[TwoFactorEnabled], [g.User].[UserName]
FROM [GroupAssignments] AS [m.GroupAssignments]
INNER JOIN [AspNetUsers] AS [g.User] ON [m.GroupAssignments].[UserId] = [g.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Group] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.GroupAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2019-04-01 17:03:11.326 -07:00 [INF] Executing ViewResult, running view at path /Views/Groups/Details.cshtml.
2019-04-01 17:03:11.346 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Details (IdentityServer) in 486.99190000000004ms
2019-04-01 17:03:11.353 -07:00 [INF] Request finished in 537.0033ms 200 text/html; charset=utf-8
2019-04-01 17:03:14.559 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups  
2019-04-01 17:03:14.563 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:03:14.598 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:03:14.645 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 17:03:14.649 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:03:14.736 -07:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[ParentID], [g].[ShortName]
FROM [Group] AS [g]
ORDER BY [g].[Id]
2019-04-01 17:03:14.846 -07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g.GroupAssignments].[OrganizationId], [g.GroupAssignments].[UserId]
FROM [GroupAssignments] AS [g.GroupAssignments]
INNER JOIN (
    SELECT [g0].[Id]
    FROM [Group] AS [g0]
) AS [t] ON [g.GroupAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2019-04-01 17:03:14.854 -07:00 [INF] Executing ViewResult, running view at path /Views/Groups/Index.cshtml.
2019-04-01 17:03:14.861 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Index (IdentityServer) in 257.7887ms
2019-04-01 17:03:14.866 -07:00 [INF] Request finished in 306.826ms 200 text/html; charset=utf-8
2019-04-01 17:04:10.615 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups/Details/1  
2019-04-01 17:04:10.646 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:04:10.649 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:04:10.670 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Details (IdentityServer) with arguments (["1"]) - ModelState is "Valid"
2019-04-01 17:04:10.700 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:04:10.800 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [m].[Id], [m].[Name], [m].[ParentID], [m].[ShortName]
FROM [Group] AS [m]
WHERE [m].[Id] = @__id_0
ORDER BY [m].[Id]
2019-04-01 17:04:10.875 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT [m.GroupAssignments].[OrganizationId], [m.GroupAssignments].[UserId], [g.User].[Id], [g.User].[AccessFailedCount], [g.User].[ConcurrencyStamp], [g.User].[Email], [g.User].[EmailConfirmed], [g.User].[FamilyName], [g.User].[GivenName], [g.User].[LockoutEnabled], [g.User].[LockoutEnd], [g.User].[NormalizedEmail], [g.User].[NormalizedUserName], [g.User].[PasswordHash], [g.User].[PhoneNumber], [g.User].[PhoneNumberConfirmed], [g.User].[RegistrationDate], [g.User].[SecurityStamp], [g.User].[TwoFactorEnabled], [g.User].[UserName]
FROM [GroupAssignments] AS [m.GroupAssignments]
INNER JOIN [AspNetUsers] AS [g.User] ON [m.GroupAssignments].[UserId] = [g.User].[Id]
INNER JOIN (
    SELECT TOP(1) [m0].[Id]
    FROM [Group] AS [m0]
    WHERE [m0].[Id] = @__id_0
    ORDER BY [m0].[Id]
) AS [t] ON [m.GroupAssignments].[OrganizationId] = [t].[Id]
ORDER BY [t].[Id]
2019-04-01 17:04:10.880 -07:00 [INF] Executing ViewResult, running view at path /Views/Groups/Details.cshtml.
2019-04-01 17:04:10.888 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Details (IdentityServer) in 233.94850000000002ms
2019-04-01 17:04:10.916 -07:00 [INF] Request finished in 308.6875ms 200 text/html; charset=utf-8
2019-04-01 17:16:10.040 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 17:16:10.198 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 17:16:10.678 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 17:16:10.678 -07:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:65184/  0
2019-04-01 17:16:10.747 -07:00 [INF] Request finished in 95.9357ms 200 
2019-04-01 17:16:51.140 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 17:16:51.284 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 17:16:51.918 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/  
2019-04-01 17:16:51.918 -07:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:65184/  0
2019-04-01 17:16:52.012 -07:00 [INF] Request finished in 99.154ms 200 
2019-04-01 17:16:52.306 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:16:55.539 -07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[FamilyName], [e].[GivenName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[RegistrationDate], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0
2019-04-01 17:16:55.727 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0
2019-04-01 17:16:55.863 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE ([role].[Discriminator] = N'ApplicationRole') AND ([userRole].[UserId] = @__userId_0)
2019-04-01 17:16:55.975 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2019-04-01 17:16:56.074 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-04-01 17:16:56.171 -07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2019-04-01 17:16:56.272 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-04-01 17:16:56.371 -07:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Discriminator], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE ([r].[Discriminator] = N'ApplicationRole') AND ([r].[NormalizedName] = @__normalizedName_0)
2019-04-01 17:16:56.457 -07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0
2019-04-01 17:16:56.472 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:16:56.504 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:16:56.776 -07:00 [INF] Executing action method IdentityServer.Controllers.HomeController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 17:16:58.871 -07:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2019-04-01 17:16:59.391 -07:00 [INF] Executed action IdentityServer.Controllers.HomeController.Index (IdentityServer) in 2700.7116ms
2019-04-01 17:16:59.400 -07:00 [INF] Request finished in 7509.6628ms 200 text/html; charset=utf-8
2019-04-01 17:17:02.576 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:44322/Groups  
2019-04-01 17:17:02.583 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:17:02.589 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2019-04-01 17:17:02.658 -07:00 [INF] Executing action method IdentityServer.Controllers.GroupsController.Index (IdentityServer) with arguments (null) - ModelState is "Valid"
2019-04-01 17:17:02.665 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:17:02.796 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name], [g].[ParentID], [g].[ShortName]
FROM [Group] AS [g]
ORDER BY [g].[Id]
2019-04-01 17:17:02.965 -07:00 [ERR] Failed executing DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g.GroupAssignments].[GroupId], [g.GroupAssignments].[UserId]
FROM [GroupAssignments] AS [g.GroupAssignments]
INNER JOIN (
    SELECT [g0].[Id]
    FROM [Group] AS [g0]
) AS [t] ON [g.GroupAssignments].[GroupId] = [t].[Id]
ORDER BY [t].[Id]
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'GroupId'.
Invalid column name 'GroupId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
ClientConnectionId:f7707ef0-4faf-4326-830a-3dcc8178ad8e
Error Number:207,State:1,Class:16
2019-04-01 17:17:03.079 -07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'GroupId'.
Invalid column name 'GroupId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:f7707ef0-4faf-4326-830a-3dcc8178ad8e
Error Number:207,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'GroupId'.
Invalid column name 'GroupId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__108_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<BufferlessMoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.<MoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.<IncludeCollectionAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.IncludeCompiler.<_IncludeAsync>d__20`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.Internal.TaskLiftingExpressionVisitor.<_ExecuteAsync>d__8`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.AsyncSelectEnumerable`2.AsyncSelectEnumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.<MoveNextCore>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Linq.AsyncEnumerable.AsyncIterator`1.<MoveNext>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:f7707ef0-4faf-4326-830a-3dcc8178ad8e
Error Number:207,State:1,Class:16
2019-04-01 17:17:03.303 -07:00 [INF] Executed action IdentityServer.Controllers.GroupsController.Index (IdentityServer) in 702.5634ms
2019-04-01 17:17:03.468 -07:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2019-04-01 17:17:03.561 -07:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-04-01 17:17:03.572 -07:00 [INF] Request finished in 995.7968ms 500 text/html; charset=utf-8
2019-04-01 17:17:51.089 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 17:17:51.132 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 17:17:51.326 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:18:28.992 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 17:18:29.039 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 17:18:29.236 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:19:53.147 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 17:19:53.188 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 17:19:53.373 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-04-01 17:22:00.301 -07:00 [INF] User profile is available. Using 'C:\Users\u0490822\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-04-01 17:22:00.344 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-04-01 17:22:00.538 -07:00 [INF] Entity Framework Core 2.0.2-rtm-10011 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
